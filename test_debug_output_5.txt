
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/MultiJob.test.js > Multi-Job Juggling Verification > should NOT interrupt busy units when a new job is added
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0
[UnitCore.js] Unit Created ID:1 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:0,0
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 118,104. Force:false
[Terrain] Building Added: cave at (118, 104) Size:1x1. Total: 1
GoblinManager: Cave registered at 118,104 
[GoblinManager] Clan clan_cave_118_104 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 120,67. Force:false
[Terrain] Building Added: cave at (120, 67) Size:1x1. Total: 2
GoblinManager: Cave registered at 120,67 
[GoblinManager] Clan clan_cave_120_67 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 131,92. Force:false
[Terrain] Building Added: cave at (131, 92) Size:1x1. Total: 3
GoblinManager: Cave registered at 131,92 
[GoblinManager] Clan clan_cave_131_92 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 112,90. Force:false
[Terrain] Building Added: cave at (112, 90) Size:1x1. Total: 4
GoblinManager: Cave registered at 112,90 
[GoblinManager] Clan clan_cave_112_90 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 129,90. Force:false
[Terrain] Building Added: cave at (129, 90) Size:1x1. Total: 5
GoblinManager: Cave registered at 129,90 
[GoblinManager] Clan clan_cave_129_90 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 22 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.
Tower Geometry Initialized (Split Mode)
Tower Debug: Generated High-Res Tower Texture + Cap Material

stdout | src/tests/MultiJob.test.js > Multi-Job Juggling Verification > should NOT interrupt busy units when a new job is added
[Game] forceAssignRequest FOUND Unit 1 (DistSq:400). Scanned:2
[Game Debug] claimRequest Idempotency FAILED. Req:101 Status:pending AssignedTo:undefined UnitID:1 TargetReqID:null Match:false
[Game Debug] claimRequest Setting isMoving=false for Unit 1
[Defense Debug 1] shouldScan:false isBusy:true force:false PassedGoblins:None
[Game] Force-Assigned Request 101 to Unit 1 (Score: 400.0)
[Game] forceAssignRequest FOUND Unit 2 (DistSq:400). Scanned:2
[Game Debug] claimRequest Setting isMoving=false for Unit 2
[Defense Debug 2] shouldScan:false isBusy:true force:false PassedGoblins:None
[Game] Force-Assigned Request 102 to Unit 2 (Score: 400.0)
[Defense Debug 1] shouldScan:false isBusy:true force:false PassedGoblins:None
[Defense Debug 2] shouldScan:false isBusy:true force:false PassedGoblins:None
[Game] Request Added: build at (10,10) ID:req_0
[Game] forceAssignRequest FAILED for Req req_0. Scanned:2 (RoleSkipped:0) Busy:2 Valid:0. TotalUnits:2
[Game] forceAssignRequest FAILED for Req req_0. Scanned:2 (RoleSkipped:0) Busy:2 Valid:0. TotalUnits:2

 ç¬¨ãƒ»src/tests/MultiJob.test.js > Multi-Job Juggling Verification > should NOT interrupt busy units when a new job is added 1762ms
stdout | src/tests/JobIdempotency.test.js > Job Assignment Idempotency > should NOT reset movement if claiming the same job twice
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 40,129. Force:false
[Terrain] Building Added: cave at (40, 129) Size:1x1. Total: 1
GoblinManager: Cave registered at 40,129 
[GoblinManager] Clan clan_cave_40_129 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 151,101. Force:false
[Terrain] Building Added: cave at (151, 101) Size:1x1. Total: 2
GoblinManager: Cave registered at 151,101 
[GoblinManager] Clan clan_cave_151_101 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 125,40. Force:false
[Terrain] Building Added: cave at (125, 40) Size:1x1. Total: 3
GoblinManager: Cave registered at 125,40 
[GoblinManager] Clan clan_cave_125_40 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 50,117. Force:false
[Terrain] Building Added: cave at (50, 117) Size:1x1. Total: 4
GoblinManager: Cave registered at 50,117 
[GoblinManager] Clan clan_cave_50_117 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 156,147. Force:false
[Terrain] Building Added: cave at (156, 147) Size:1x1. Total: 5
GoblinManager: Cave registered at 156,147 
[GoblinManager] Clan clan_cave_156_147 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 7 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.

stdout | src/tests/JobIdempotency.test.js > Job Assignment Idempotency > should NOT reset movement if claiming the same job twice
[Game Debug] claimRequest Idempotency FAILED. Req:101 Status:pending AssignedTo:undefined UnitID:1 TargetReqID:null Match:false
[Game Debug] claimRequest Setting isMoving=false for Unit 1
[Defense Debug 1] shouldScan:false isBusy:true force:false PassedGoblins:None
[Test Debug] Before Second Claim: isMoving=true startTime=1000
[Test Debug] After Second Claim: isMoving=true startTime=1000

 ç¬¨ãƒ»src/tests/JobIdempotency.test.js > Job Assignment Idempotency > should NOT reset movement if claiming the same job twice 2810ms

 Test Files  2 passed (2)
      Tests  2 passed (2)
   Start at  02:14:11
   Duration  4.17s (transform 697ms, setup 79ms, import 985ms, tests 4.58s, environment 1.12s)

