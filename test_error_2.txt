
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/JobIdempotency.test.js[2m > [22m[2mJob Assignment Idempotency[2m > [22m[2mshould NOT reset movement if claiming the same job twice
[22m[39mGame constructor called
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 152,33. Force:false
[Terrain] Building Added: cave at (152, 33) Size:1x1. Total: 1
GoblinManager: Cave registered at 152,33 
[GoblinManager] Clan clan_cave_152_33 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 116,53. Force:false
[Terrain] Building Added: cave at (116, 53) Size:1x1. Total: 2
GoblinManager: Cave registered at 116,53 
[GoblinManager] Clan clan_cave_116_53 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 93,126. Force:false
[Terrain] Building Added: cave at (93, 126) Size:1x1. Total: 3
GoblinManager: Cave registered at 93,126 
[GoblinManager] Clan clan_cave_93_126 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 78,29. Force:false
[Terrain] Building Added: cave at (78, 29) Size:1x1. Total: 4
GoblinManager: Cave registered at 78,29 
[GoblinManager] Clan clan_cave_78_29 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 9,5. Force:false
[Terrain] Building Added: cave at (9, 5) Size:1x1. Total: 5
GoblinManager: Cave registered at 9,5 
[GoblinManager] Clan clan_cave_9_5 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 8 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.

 [31mç¬¶ï½¯[39m src/tests/JobIdempotency.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1991[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT reset movement if claiming the same job twice[39m[33m 1989[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/JobIdempotency.test.js > Job Assignment Idempotency > should NOT reset movement if claiming the same job twice
TypeError: Cannot read properties of null (reading 'getContext')
 ç¬¶ï½¯ new Minimap src/Minimap.js:6:32
      4|         this.terrain = game.terrain;
      5|         this.canvas = document.getElementById('minimap');
      6|         this.ctx = this.canvas.getContext('2d');
       |                                ^
      7| 
      8|         // Map size
 ç¬¶ï½¯ new Game src/Game.js:154:24
 ç¬¶ï½¯ src/tests/JobIdempotency.test.js:43:20

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:12:50
[2m   Duration [22m 3.03s[2m (transform 305ms, setup 34ms, import 413ms, tests 1.99s, environment 403ms)[22m

