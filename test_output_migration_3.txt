
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/MigrationImprovement.test.js[2m > [22m[2mMigration Improvements[2m > [22m[2mshould retry migration after 30 seconds timeout
[22m[39mUnit test-migrant migrating to 89,47 (Walking)

[90mstdout[2m | src/tests/MigrationImprovement.test.js[2m > [22m[2mMigration Improvements[2m > [22m[2mshould interrupt migration if enemy is found (Priority)
[22m[39mUnit test-migrant migrating to 89,47 (Walking)
Unit improved land at 51,50. Moisture 0.50 -> 0.50

[90mstdout[2m | src/tests/MigrationImprovement.test.js[2m > [22m[2mMigration Improvements[2m > [22m[2mshould stop migrating if construction succeeds
[22m[39mUnit test-migrant migrating to 89,47 (Walking)
Unit test-migrant built structure during migration. Stopping.

 [31mç¬¶ï½¯[39m src/tests/MigrationImprovement.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 19[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should retry migration after 30 seconds timeout[39m[32m 14[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should interrupt migration if enemy is found (Priority)[39m[32m 2[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should stop migrating if construction succeeds[32m 1[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/MigrationImprovement.test.js > Migration Improvements > should retry migration after 30 seconds timeout
AssertionError: expected 'Moving' to be 'Migrating' // Object.is equality

Expected: "Migrating"
Received: "Moving"

 ç¬¶ï½¯ src/tests/MigrationImprovement.test.js:94:29
     92|         // Simulate time passing < 30s
     93|         unit.updateLogic(10000, 10.0, false, [], [], []); // +10s
     94|         expect(unit.action).toBe('Migrating');
       |                             ^
     95|         expect(unit.migrationTarget).toBe(firstTarget);
     96| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/MigrationImprovement.test.js > Migration Improvements > should interrupt migration if enemy is found (Priority)
AssertionError: expected 'Moving' to be 'Idle' // Object.is equality

Expected: "Idle"
Received: "Moving"

 ç¬¶ï½¯ src/tests/MigrationImprovement.test.js:130:29
    128|         Math.random = originalRandom; // Restore
    129| 
    130|         expect(unit.action).toBe('Idle'); // Should reset to Idle to lçª¶ï½¦
       |                             ^
    131|         expect(unit.migrationTarget).toBeNull();
    132|         expect(unit.targetGoblin).toBeTruthy();

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (3)[39m
[2m   Start at [22m 18:27:54
[2m   Duration [22m 396ms[2m (transform 93ms, setup 0ms, import 128ms, tests 19ms, environment 0ms)[22m

