
 RUN  v4.0.15 C:/Users/mooya/develop/test

 ç¬¶ï½¯ src/tests/Hotspot.test.js (6 tests | 6 failed) 251ms
     ï¾ƒãƒ»Clusters nearby battle reports 245ms
     ï¾ƒãƒ»Decays intensity 1ms
     ï¾ƒãƒ»Mobilizes idle squads to intense hotspots (Updated Threshold) 1ms
     ï¾ƒãƒ»Triggers autonomous patrol for idle Knights 1ms
     ï¾ƒãƒ»Mobilizes idle squads 1ms
     ï¾ƒãƒ»Does not mobilize across regions 0ms
stdout | src/tests/SimpleRegion.test.js > Simple Region Connectivity > should identify a single island
Running calculateRegions...
Done.
Region ID at 5,5: 1

stdout | src/tests/GhostHouse.test.js > Terrain Ghost House Test > should NOT accumulate ghost buildings (cleared during deserialize)
[Terrain] addBuilding: house at 5,5. Force:false
[Terrain] Building Added: house at (5, 5) Size:2x2. Total: 1
Debug: Buildings Count: 1

stdout | src/tests/GhostHouse.test.js > Terrain Ghost House Test > should NOT accumulate ghost buildings (cleared during deserialize)
[Terrain] Deserializing Legacy Format...

stdout | src/tests/GhostHouse.test.js > Terrain Ghost House Test > should NOT accumulate ghost buildings (cleared during deserialize)
[Terrain] addBuilding: house at 5,5. Force:true
[Terrain] Building Added: house at (5, 5) Size:2x2. Total: 1

 ç¬¨ãƒ»src/tests/GhostHouse.test.js (1 test) 202ms
 ç¬¶ï½¯ src/tests/CombatRequestHandoff.test.js (2 tests | 2 failed) 201ms
     ï¾ƒãƒ»Worker releases job when died 21ms
     ï¾ƒãƒ»forceAssignRequest prioritizes idle unit over busy unit 177ms
 ç¬¨ãƒ»src/tests/SimpleRegion.test.js (2 tests) 324ms
 ç¬¶ï½¯ src/tests/WorkerReachability.test.js (2 tests | 2 failed) 228ms
     ï¾ƒãƒ»findBestRequest filters out unreachable jobs 224ms
     ï¾ƒãƒ»forceAssignRequest skips unreachable units 2ms
 ç¬¨ãƒ»src/tests/SafeSpawn.test.js (1 test) 230ms
stdout | src/tests/BuildingDestruction.test.js > Building Destruction Logic > should successfully remove a building from the list
[Terrain] addBuilding: house at 10,10. Force:true
[Terrain] Building Added: house at (10, 10) Size:2x2. Total: 1
[Terrain] Building removed at 10,10

stdout | src/tests/BuildingDestruction.test.js > Building Destruction Logic > should allow a goblin to destroy a building
[Terrain] addBuilding: house at 10,10. Force:true
[Terrain] Building Added: house at (10, 10) Size:2x2. Total: 1
Goblin 0 hitting Empty house. HP: 2
Goblin 0 hitting Empty house. HP: -7
[Terrain] Building removed at 10,10
Goblin 0 destroyed house!

stdout | src/tests/BuildingDestruction.test.js > Building Destruction Logic > should handle identity mismatch (Ghost Building)
[Terrain] addBuilding: house at 20,20. Force:true
[Terrain] Building Added: house at (20, 20) Size:2x2. Total: 1
[Terrain] removeBuilding: Identity mismatch! searching by coord 20,20
[Terrain] Swapping ghost building object for authoritative one.
[Terrain] Building removed at 20,20

 ç¬¨ãƒ»src/tests/BuildingDestruction.test.js (3 tests) 547ms
stdout | src/tests/GoblinFixes.test.js > Goblin Fixes Verification > GoblinManager difficulty scaling increases stronger goblin probability
GoblinManager: Generation started...
GoblinManager: Generated 0 goblin caves after 5000 attempts.
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
Lvl 1 - King: 12, Shaman: 52, Hob: 82
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
îžè˜ Goblin King Spawned!
Lvl 20 - King: 57, Shaman: 128, Hob: 286

 ç¬¨ãƒ»src/tests/GoblinFixes.test.js (4 tests) 652ms
stdout | src/tests/Pathfinding.test.js > Terrain Pathfinding Costs > Prefers a longer flat route over a shorter mountain route
Path Length: 31
Goes through gap: true
Goes through mountain: false

 ç¬¨ãƒ»src/tests/Pathfinding.test.js (1 test) 153ms
 ç¬¨ãƒ»src/tests/SpatialSearch.test.js (4 tests) 3472ms
     ç¬¨ãƒ»should register and retrieve an entity  913ms
     ç¬¨ãƒ»should move entity correctly between cells  957ms
     ç¬¨ãƒ»should unregister entity  811ms
     ç¬¨ãƒ»should find nearest entity using spatial search  787ms
stdout | src/tests/GoblinMobilization.test.js > Goblin Mobilization Verification > triggerWave should mobilize idle goblins
GoblinManager: Generation started...
GoblinManager: Generated 0 goblin caves after 5000 attempts.

stdout | src/tests/GoblinMobilization.test.js > Goblin Mobilization Verification > triggerWave should mobilize idle goblins
[GoblinManager] TRIGGERING WAVE Level 1 for Clan test_clan!
[Wave] Spawning 1 goblins at cave 10,10 (Lvl 1)
[GoblinManager] Mobilized 2 idle goblins from Clan test_clan to raid target!

stdout | src/tests/GoblinMobilization.test.js > Goblin Mobilization Verification > mobilizeClan should rely on getClanRaidTarget fallback
GoblinManager: Generation started...
GoblinManager: Generated 0 goblin caves after 5000 attempts.

stdout | src/tests/GoblinMobilization.test.js > Goblin Mobilization Verification > mobilizeClan should rely on getClanRaidTarget fallback
[GoblinManager] Mobilized 1 idle goblins from Clan test_clan_fallback to raid target!

stderr | src/tests/GoblinMobilization.test.js
[GoblinManager] Aborting spawn: Grid cell has no building. Self-healing/Destroying Cave.
[GoblinManager] Removing invalid cave at 10,10

 ç¬¨ãƒ»src/tests/GoblinMobilization.test.js (2 tests) 427ms
stdout | src/tests/GoblinTypes.test.js > Goblin Types & Stats > should correctly spawn types based on random probability
GoblinManager: Generation started...
GoblinManager: Cave registered at 50,50 
[GoblinManager] Clan clan_cave_50_50 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 50,50 
GoblinManager: Cave registered at 50,50 
GoblinManager: Cave registered at 50,50 
GoblinManager: Cave registered at 50,50 
GoblinManager: Generated 5 goblin caves after 5 attempts.
GoblinManager: Force spawning Debug Goblin
îžè˜ Goblin King Spawned!

 ç¬¨ãƒ»src/tests/GoblinTypes.test.js (4 tests) 50ms
stdout | src/tests/ForceBuild.test.js > Terrain Force Build Logic > should clear existing buildings when placing a new one
[Terrain] addBuilding: house at 10,10. Force:false
[Terrain] Building Added: house at (10, 10) Size:2x2. Total: 1
[Terrain] Clearing obstacle: house for new construction.
[Terrain] Building removed at 10,10
[Terrain] addBuilding: barracks at 10,10. Force:false
[Terrain] Building Added: barracks at (10, 10) Size:3x3. Total: 1

stdout | src/tests/GoblinSpawn.test.js > Goblin Hut Spawning > should spawn goblin when hut population reaches 10
GoblinManager: Generation started...
GoblinManager: Cave registered at 72,39 
[GoblinManager] Clan clan_cave_72_39 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 72,62 
[GoblinManager] Clan clan_cave_72_62 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 19,7 
[GoblinManager] Clan clan_cave_19_7 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 57,12 
[GoblinManager] Clan clan_cave_57_12 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 32,14 
[GoblinManager] Clan clan_cave_32_14 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 5 attempts.
GoblinManager: Force spawning Debug Goblin

stdout | src/tests/GoblinSpawn.test.js > Goblin Hut Spawning > should spawn goblin when hut population reaches 10
Goblin born from Hut! Clan: clan_hut_10_10. Global Pop: 0

stdout | src/tests/GoblinSpawn.test.js > Goblin Hut Spawning > should NOT spawn if Global Cap is reached
GoblinManager: Generation started...
GoblinManager: Cave registered at 53,22 
[GoblinManager] Clan clan_cave_53_22 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 53,51 
[GoblinManager] Clan clan_cave_53_51 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 51,18 
[GoblinManager] Clan clan_cave_51_18 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 66,57 
[GoblinManager] Clan clan_cave_66_57 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Cave registered at 20,35 
[GoblinManager] Clan clan_cave_20_35 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 5 attempts.
GoblinManager: Force spawning Debug Goblin

 ç¬¨ãƒ»src/tests/GoblinSpawn.test.js (2 tests) 109ms
stdout | src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should damage building population
Goblin 0 attacking house. Pop: 9.92

stdout | src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should destroy building when Population AND HP are depleted
Goblin 1 attacking house. Pop: 0.00
Goblin 1 hitting Empty house. HP: -5
Goblin 1 destroyed house!

stdout | src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should destroy building even if fractional population remains (e.g. 0.5)
Goblin 2 attacking house. Pop: 0.00
Goblin 2 hitting Empty house. HP: -5
Goblin 2 destroyed house!

stdout | src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should NOT destroy building if population remains >= 1.0
Goblin 3 attacking house. Pop: 6.92

stdout | src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should take retaliation damage
Goblin 4 attacking house. Pop: 19.92

 ç¬¨ãƒ»src/tests/GoblinDestruction.test.js (5 tests) 25ms
stdout | src/tests/Lighting.test.js > BuildingRenderer Lighting > should turn on barracks lights at night
Tower Geometry Initialized (Split Mode)
Tower Debug: Generated High-Res Tower Texture + Cap Material
Tower Geometry Initialized (Split Mode)
Tower Debug: Generated High-Res Tower Texture + Cap Material

 ç¬¨ãƒ»src/tests/Lighting.test.js (1 test) 58ms
stdout | src/tests/ForceBuild.test.js > Terrain Force Build Logic > should clear buildings partially in the way
[Terrain] addBuilding: house at 10,10. Force:false
[Terrain] Building Added: house at (10, 10) Size:2x2. Total: 1
Pre-Barracks Buildings: [ [32m'house'[39m ]
[Terrain] Clearing obstacle: house for new construction.
[Terrain] Building removed at 10,10
[Terrain] addBuilding: barracks at 9,9. Force:false
[Terrain] Building Added: barracks at (9, 9) Size:3x3. Total: 1
Post-Barracks Buildings: [ [32m'barracks'[39m ]

 ç¬¨ãƒ»src/tests/ForceBuild.test.js (2 tests) 2626ms
     ç¬¨ãƒ»should clear existing buildings when placing a new one  1417ms
     ç¬¨ãƒ»should clear buildings partially in the way  1206ms
stdout | src/tests/CavePersistence.test.js > GoblinManager Cave Persistence > should update cave Y position when terrain height changes
[GoblinRenderer] Updating 0 goblins.

stdout | src/tests/CavePersistence.test.js > GoblinManager Cave Persistence > should destroy cave if submerged (height <= 0)
[GoblinManager] Cave destroyed: SUBMERGED(H = -1)
[GoblinRenderer] Updating 0 goblins.

stderr | src/tests/CavePersistence.test.js > GoblinManager Cave Persistence > should destroy cave if submerged (height <= 0)
[GoblinManager] Removing invalid cave at 10,10

 ç¬¨ãƒ»src/tests/CavePersistence.test.js (2 tests) 15ms
 ç¬¨ãƒ»src/tests/Terrain.test.js (9 tests) 8164ms
       ç¬¨ãƒ»should correctly sum housing population excluding farms  916ms
       ç¬¨ãƒ»should handle massive population overflow loop correctly  771ms
       ç¬¨ãƒ»should grow crops using simDeltaTime (Not raw deltaTime)  1122ms
       ç¬¨ãƒ»should preserve overflow when harvesting  869ms
       ç¬¨ãƒ»should scale farm yield based on moisture  1000ms
       ç¬¨ãƒ»should reduce food consumption at night  786ms
       ç¬¨ãƒ»should consume normal amount during day  1051ms
         ç¬¨ãƒ»should return different colors for seasons  810ms
         ç¬¨ãƒ»should keep rock color even if dry (desert override check)  834ms
 ç¬¨ãƒ»src/tests/MovementReset.test.js (2 tests) 11ms
 ç¬¨ãƒ»src/tests/GoblinStats.test.js (2 tests) 16ms
 ç¬¨ãƒ»src/tests/Minimal.test.js (1 test) 5ms
 ç¬¨ãƒ»src/tests/WanderBehavior.test.js (2 tests) 11ms
 ç¬¨ãƒ»src/tests/SquadMemory.test.js (2 tests) 5ms

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 38 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/AdvancedUnits.test.js [ src/tests/AdvancedUnits.test.js ]
 FAIL  src/tests/BuildingDefense.test.js [ src/tests/BuildingDefense.test.js ]
 FAIL  src/tests/CombatBalance.test.js [ src/tests/CombatBalance.test.js ]
 FAIL  src/tests/CombatFixes.test.js [ src/tests/CombatFixes.test.js ]
 FAIL  src/tests/CombatVerification.test.js [ src/tests/CombatVerification.test.js ]
 FAIL  src/tests/ComplexInteraction.test.js [ src/tests/ComplexInteraction.test.js ]
 FAIL  src/tests/ForceAssignment.test.js [ src/tests/ForceAssignment.test.js ]
 FAIL  src/tests/JobAssignment.test.js [ src/tests/JobAssignment.test.js ]
 FAIL  src/tests/JobPathFailure.test.js [ src/tests/JobPathFailure.test.js ]
 FAIL  src/tests/ManaSystem.test.js [ src/tests/ManaSystem.test.js ]
 FAIL  src/tests/MigrationConflict.test.js [ src/tests/MigrationConflict.test.js ]
 FAIL  src/tests/MigrationImprovement.test.js [ src/tests/MigrationImprovement.test.js ]
 FAIL  src/tests/MinimalUnit.test.js [ src/tests/MinimalUnit.test.js ]
 FAIL  src/tests/Movement.test.js [ src/tests/Movement.test.js ]
 FAIL  src/tests/MultiJob.test.js [ src/tests/MultiJob.test.js ]
 FAIL  src/tests/NightLogic.test.js [ src/tests/NightLogic.test.js ]
 FAIL  src/tests/ReproductionJitabata.test.js [ src/tests/ReproductionJitabata.test.js ]
 FAIL  src/tests/RequestLifecycle.test.js [ src/tests/RequestLifecycle.test.js ]
 FAIL  src/tests/RubberBanding.test.js [ src/tests/RubberBanding.test.js ]
 FAIL  src/tests/ShorelineLoop.test.js [ src/tests/ShorelineLoop.test.js ]
 FAIL  src/tests/SquadAi.test.js [ src/tests/SquadAi.test.js ]
 FAIL  src/tests/StartupCrash.test.js [ src/tests/StartupCrash.test.js ]
 FAIL  src/tests/StuckDebug.test.js [ src/tests/StuckDebug.test.js ]
 FAIL  src/tests/TargetingPriority.test.js [ src/tests/TargetingPriority.test.js ]
 FAIL  src/tests/Unit.test.js [ src/tests/Unit.test.js ]
 FAIL  src/tests/UnitAISearch.test.js [ src/tests/UnitAISearch.test.js ]
 FAIL  src/tests/UnitBehavior.test.js [ src/tests/UnitBehavior.test.js ]
 FAIL  src/tests/UnitInit.test.js [ src/tests/UnitInit.test.js ]
 FAIL  src/tests/UnitLifecycle.test.js [ src/tests/UnitLifecycle.test.js ]
 FAIL  src/tests/UnitMigration.test.js [ src/tests/UnitMigration.test.js ]
 FAIL  src/tests/UnitSnatch.test.js [ src/tests/UnitSnatch.test.js ]
 FAIL  src/tests/UnitVisibility.test.js [ src/tests/UnitVisibility.test.js ]
 FAIL  src/tests/UnitWrapping.test.js [ src/tests/UnitWrapping.test.js ]
 FAIL  src/tests/WorkerDiversity.test.js [ src/tests/WorkerDiversity.test.js ]
 FAIL  src/tests/WorkerRequest.test.js [ src/tests/WorkerRequest.test.js ]
 FAIL  src/tests/WrapDistance.test.js [ src/tests/WrapDistance.test.js ]
SyntaxError: Identifier 'hasValidGoblin' has already been declared
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/48]ç«¡ï½¯

 FAIL  src/tests/JobIdempotency.test.js [ src/tests/JobIdempotency.test.js ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ç¬¶ï½¯ src/Game.js:4:1
      2| import { Terrain } from './Terrain.js';
      3| import { InputManager } from './InputManager.js';
      4| import { Unit } from './Unit.js';
       | ^
      5| import { OrbitControls } from 'three/examples/jsm/controls/OrbitControçª¶ï½¦
      6| import { SaveManager } from './SaveManager.js';
 ç¬¶ï½¯ src/tests/JobIdempotency.test.js:3:1

Caused by: SyntaxError: Identifier 'hasValidGoblin' has already been declared
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/48]ç«¡ï½¯

 FAIL  src/tests/SaveLoad.test.js [ src/tests/SaveLoad.test.js ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ç¬¶ï½¯ src/tests/SaveLoad.test.js:3:1
      1| 
      2| import { describe, it, expect, beforeEach, vi, afterEach } from 'vitesçª¶ï½¦
      3| import { Game } from '../Game.js';
       | ^
      4| import { Terrain } from '../Terrain.js';
      5| import { SaveManager } from '../SaveManager.js';

Caused by: SyntaxError: Identifier 'hasValidGoblin' has already been declared
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/48]ç«¡ï½¯


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 10 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/CombatRequestHandoff.test.js > Request Responsiveness & Combat Handoff > Worker releases job when died
 FAIL  src/tests/CombatRequestHandoff.test.js > Request Responsiveness & Combat Handoff > forceAssignRequest prioritizes idle unit over busy unit
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Clusters nearby battle reports
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Decays intensity
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Mobilizes idle squads to intense hotspots (Updated Threshold)
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Triggers autonomous patrol for idle Knights
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Mobilizes idle squads
 FAIL  src/tests/Hotspot.test.js > Global Battle Hotspots Logic > Does not mobilize across regions
 FAIL  src/tests/WorkerReachability.test.js > Worker Job Reachability > findBestRequest filters out unreachable jobs
 FAIL  src/tests/WorkerReachability.test.js > Worker Job Reachability > forceAssignRequest skips unreachable units
SyntaxError: Identifier 'hasValidGoblin' has already been declared
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[4/48]ç«¡ï½¯


 Test Files  41 failed | 20 passed (61)
      Tests  10 failed | 52 passed (62)
   Start at  21:07:20
   Duration  12.77s (transform 4.56s, setup 2.46s, import 4.80s, tests 17.78s, environment 97.31s)

