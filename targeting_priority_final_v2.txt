
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Goblin if it is much closer than Building
[UnitCore.js] Unit Created ID:0 Role:knight Pos:0,0 Special:false

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Goblin if it is much closer than Building
[Unit Debug V3] Start Logic. Night=false, Sleep=false, Action=undefined
[ActorDebug] Grid: 0,0 Target: 10,0 Diff: 10,0
[ActorDebug] Next: 1,0
[ActorDebug] Check Move 1,0 -> true

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Building if distances are similar (Bonus check)
[UnitCore.js] Unit Created ID:1 Role:knight Pos:0,0 Special:false

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Building if distances are similar (Bonus check)
[ActorDebug] Grid: 0,0 Target: 10,0 Diff: 10,0
[ActorDebug] Next: 1,0
[ActorDebug] Check Move 1,0 -> true

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should allow Workers to target Huts at range 25 (New Range: 30)
[UnitCore.js] Unit Created ID:2 Role:knight Pos:0,0 Special:false

stdout | src/tests/TargetingPriority.test.js > Unit Targeting Priority > should allow Workers to target Huts at range 25 (New Range: 30)
[ActorDebug] Grid: 0,0 Target: 5,5 Diff: 5,5
[ActorDebug] Next: 0,1
[ActorDebug] Check Move 0,1 -> true

 笨・src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Goblin if it is much closer than Building 6ms
 ﾃ・src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Building if distances are similar (Bonus check) 8ms
   竊・expected null to be { userData: { 窶ｦ(3) }, gridX: 12, 窶ｦ(1) } // Object.is equality
 ﾃ・src/tests/TargetingPriority.test.js > Unit Targeting Priority > should allow Workers to target Huts at range 25 (New Range: 30) 2ms
   竊・expected undefined to be { userData: { 窶ｦ(3) }, gridX: 25, 窶ｦ(1) } // Object.is equality

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ Failed Tests 2 竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ

 FAIL  src/tests/TargetingPriority.test.js > Unit Targeting Priority > should prioritize Building if distances are similar (Bonus check)
AssertionError: expected null to be { userData: { 窶ｦ(3) }, gridX: 12, 窶ｦ(1) } // Object.is equality

- Expected: 
{
  "gridX": 12,
  "gridZ": 0,
  "userData": {
    "gridX": 12,
    "gridZ": 0,
    "type": "goblin_hut",
  },
}

+ Received: 
null

 笶ｯ src/tests/TargetingPriority.test.js:90:37
     88| 
     89|         // AI logic prioritizes buildings < 15 tiles
     90|         expect(unit.targetBuilding).toBe(hut);
       |                                     ^
     91|     });
     92| 

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[1/2]竡ｯ

 FAIL  src/tests/TargetingPriority.test.js > Unit Targeting Priority > should allow Workers to target Huts at range 25 (New Range: 30)
AssertionError: expected undefined to be { userData: { 窶ｦ(3) }, gridX: 25, 窶ｦ(1) } // Object.is equality

- Expected: 
{
  "gridX": 25,
  "gridZ": 0,
  "userData": {
    "gridX": 25,
    "gridZ": 0,
    "type": "goblin_hut",
  },
}

+ Received: 
undefined

 笶ｯ src/tests/TargetingPriority.test.js:105:37
    103|         unit.updateLogic(1000, 0.1, false, [], [], []);
    104| 
    105|         expect(unit.targetBuilding).toBe(hut);
       |                                     ^
    106|     });
    107| });

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[2/2]竡ｯ


 Test Files  1 failed (1)
      Tests  2 failed | 1 passed (3)
   Start at  20:15:57
   Duration  833ms (transform 113ms, setup 35ms, import 153ms, tests 17ms, environment 438ms)

