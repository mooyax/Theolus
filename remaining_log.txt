
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/RealTerrainRestoration.test.js[2m > [22m[2mReal Terrain Restoration Logic[2m > [22m[2mshould successfully restore Terrain regions and Unit pathfinding
[22m[39mScene created: [33mtrue[39m Pos: object
Camera created: [33mtrue[39m Pos: object
Camera setup done

[90mstdout[2m | src/tests/RealTerrainRestoration.test.js[2m > [22m[2mReal Terrain Restoration Logic[2m > [22m[2mshould successfully restore Terrain regions and Unit pathfinding
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[Game] Request Added: raise at (15,15) ID:req_0
[Assign] Checking Unit 100 (Dead:false)
[Assign] Unit 100 Action: Idle, TargetReq: none

[90mstdout[2m | src/tests/RealTerrainRestoration.test.js[2m > [22m[2mReal Terrain Restoration Logic[2m > [22m[2mshould successfully restore Terrain regions and Unit pathfinding
[22m[39m[Unit 100] Moving onto Rock at 15,15 H:10 (Speed Penalty)

[90mstdout[2m | src/tests/ComplexAI.test.js[2m > [22m[2mComplex AI Scenarios[2m > [22m[2mshould drop job gracefully if target building is destroyed
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[Game] Request Added: cultivate at (20,20) ID:req_0
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Idle, TargetReq: none
[JobState] Entered. Target: cultivate. ResumeCtx: Approaching Job
[JobState 0] Target building destroyed. Releasing job.
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Approaching Job, TargetReq: req_0
[JobState] Entered. Target: cultivate. ResumeCtx: Approaching Job

[90mstdout[2m | src/tests/ComplexAI.test.js[2m > [22m[2mComplex AI Scenarios[2m > [22m[2mshould prioritize manual jobs even when closer auto jobs appear
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[Game] Request Added: raise at (50,50) ID:req_0
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Idle, TargetReq: none
[JobState] Entered. Target: raise. ResumeCtx: Approaching Job
[Game] Request Added: raise at (11,11) ID:req_1
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Approaching Job, TargetReq: req_0
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Approaching Job, TargetReq: req_0
[JobState] Entered. Target: raise. ResumeCtx: Approaching Job
[JobState] Entered. Target: raise. ResumeCtx: Approaching Job

[90mstdout[2m | src/tests/RealTerrainRestoration.test.js[2m > [22m[2mReal Terrain Restoration Logic[2m > [22m[2mshould successfully restore Terrain regions and Unit pathfinding
[22m[39m[Unit 100] Moving onto Rock at 15,15 H:10 (Speed Penalty)
Load Started...

[90mstdout[2m | src/tests/ComplexAI.test.js[2m > [22m[2mComplex AI Scenarios[2m > [22m[2mshould prioritize manual jobs even when closer auto jobs appear
[22m[39m[Actor] Discarding stale path. Target changed to 11,11 from 50,50

[90mstdout[2m | src/tests/ComplexAI.test.js[2m > [22m[2mComplex AI Scenarios[2m > [22m[2mshould NOT drop manual job when switching to SleepState at night
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[Game] Request Added: raise at (50,50) ID:req_0
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Idle, TargetReq: none
[JobState] Entered. Target: raise. ResumeCtx: Approaching Job

[90mstdout[2m | src/tests/ComplexAI.test.js[2m > [22m[2mComplex AI Scenarios[2m > [22m[2mshould abandon unreachable job (Abandonment Test)
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[Game] Request Added: raise at (90,90) ID:req_0
[Assign] Checking Unit 0 (Dead:false)
[Assign] Unit 0 Action: Idle, TargetReq: none
[JobState] Entered. Target: raise. ResumeCtx: Approaching Job
[JobState 0] Job Unreachable (Path Failed). Deferring for 15s.
[Game] Request req_0 Deferred (Excluded) for 15s until 15.1

 [32mç¬¨ãƒ»[39m src/tests/ComplexAI.test.js[2m > [22mComplex AI Scenarios[2m > [22mshould drop job gracefully if target building is destroyed[32m 16[2mms[22m[39m
 [31mï¾ƒãƒ»[39m src/tests/ComplexAI.test.js[2m > [22mComplex AI Scenarios[2m > [22mshould prioritize manual jobs even when closer auto jobs appear[32m 20[2mms[22m[39m
[31m   ç«Šãƒ»expected { id: 'req_1', type: 'raise', çª¶ï½¦(10) } to be { id: 'req_0', type: 'raise', çª¶ï½¦(10) } // Object.is equality[39m
 [32mç¬¨ãƒ»[39m src/tests/ComplexAI.test.js[2m > [22mComplex AI Scenarios[2m > [22mshould NOT drop manual job when switching to SleepState at night[32m 3[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/ComplexAI.test.js[2m > [22mComplex AI Scenarios[2m > [22mshould abandon unreachable job (Abandonment Test)[32m 3[2mms[22m[39m
 [31mï¾ƒãƒ»[39m src/tests/RealTerrainRestoration.test.js[2m > [22mReal Terrain Restoration Logic[2m > [22mshould successfully restore Terrain regions and Unit pathfinding[32m 79[2mms[22m[39m
[31m   ç«Šãƒ»expected undefined to be defined[39m

[2m Test Files [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 00:16:44
[2m   Duration [22m 1.16s[2m (transform 590ms, setup 106ms, import 825ms, tests 123ms, environment 861ms)[22m

