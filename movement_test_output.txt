
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/Movement.test.js
[Import Debug] Raid: function, Combat: function, Wander: function

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set very long moveDuration for Unit on Rock
[Entity 0] Calling registerEntity...
[Entity 0] registerEntity returned.
[Entity 0] Calling updatePosition...
[Entity 0] updatePosition returned.
[ActorCore] Actor Created. Type: unit Pos: 10,10
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[Unit 0] State Change: None -> Wander
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set very long moveDuration for Unit on Rock
[Entity 0] startMove -> isMoving:true. Target:10,11 StartTime:100.0000

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set normal moveDuration on Flat
[Entity 1] Calling registerEntity...
[Entity 1] registerEntity returned.
[Entity 1] Calling updatePosition...
[Entity 1] updatePosition returned.
[ActorCore] Actor Created. Type: unit Pos: 10,10
[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set normal moveDuration on Flat
[Entity 1] startMove -> isMoving:true. Target:10,11 StartTime:100.0000

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should prevent Unit from moving/building on Rock checks?
[Entity 2] Calling registerEntity...
[Entity 2] registerEntity returned.
[Entity 2] Calling updatePosition...
[Entity 2] updatePosition returned.
[ActorCore] Actor Created. Type: unit Pos: 10,10
[UnitCore.js] Unit Created ID:2 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:2 Role:worker Pos:10,10

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should prevent Unit from moving/building on Rock checks?
[Unit 2] Moving onto Rock at 10,10 H:10 (Speed Penalty)
[Entity 2] startMove -> isMoving:true. Target:10,10 StartTime:100.0000

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should increase Goblin Hut population and spawn goblin
[Entity 3] Calling registerEntity...
[Entity 3] registerEntity returned.
[Entity 3] Calling updatePosition...
[Entity 3] updatePosition returned.
[ActorCore] Actor Created. Type: unit Pos: 10,10
[UnitCore.js] Unit Created ID:3 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:3 Role:worker Pos:10,10

stdout | src/tests/Movement.test.js > Terrain Movement and Logic Tests > should increase Goblin Hut population and spawn goblin
[GoblinManager] 5è›Ÿä¹ãƒ»è±¢æ¨’ï½ªæº˜ï½’é€•æ»“ãƒ»è³ï½­...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.500000, 0.500000) -> Grid(50, 50) rngState=undefined
GoblinManager: Cave registered at 50,50 
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.500000, 0.500000) -> Grid(50, 50) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.500000, 0.500000) -> Grid(50, 50) rngState=undefined
[GoblinManager] è±¢æ¨’ï½ªæº½å‡½è¬Œä»™ï½®å¾¡ï½ºãƒ» 1/5 (éš§ï½¦é™¦æ‚Ÿå±“è¬¨ï½°: 5000)
GoblinManager: Force spawning Debug Goblin
[GoblinManager] SPAWN START: Cave at 10,10, Pop: 10.00
Goblin constructor: calling super...
[Entity 4] Calling registerEntity...
[Entity 4] registerEntity returned.
[Entity 4] Calling updatePosition...
[Entity 4] updatePosition returned.
[ActorCore] Actor Created. Type: goblin Pos: 11,10
Goblin constructor: super returned.
Goblin constructor: checking scene...
Goblin constructor: setting ID...
[Actor 0] CHANGE STATE: None -> Wander Request:null
[DEBUG] Goblin born from goblin_hut! Total: 1, Reset population to 0

 ç¬¨ãƒ»src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set very long moveDuration for Unit on Rock 5ms
 ç¬¨ãƒ»src/tests/Movement.test.js > Terrain Movement and Logic Tests > should set normal moveDuration on Flat 2ms
 ï¾ƒãƒ»src/tests/Movement.test.js > Terrain Movement and Logic Tests > should prevent Unit from moving/building on Rock checks? 8ms
   ç«Šãƒ»expected "addBuilding" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st addBuilding call:

[22m    Array [
      "house",
      10,
      10,
      false,
      false,
      "player",
    ]
[39m[90m

Number of calls: [1m1[22m
[39m
 ç¬¨ãƒ»src/tests/Movement.test.js > Terrain Movement and Logic Tests > should increase Goblin Hut population and spawn goblin 18ms

 Test Files  1 failed (1)
      Tests  1 failed | 3 passed (4)
   Start at  12:55:52
   Duration  1.83s (transform 315ms, setup 75ms, import 337ms, tests 35ms, environment 457ms)

