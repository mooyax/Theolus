
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/UnitPerformance.test.js > Unit Performance Optimization > should throttle checkSelfDefense based on ID and Frame
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10

stdout | src/tests/UnitPerformance.test.js > Unit Performance Optimization > should skip searchSurroundings for busy workers
[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10

stdout | src/tests/UnitPerformance.test.js > Unit Performance Optimization > should throttle searchSurroundings for idle units
[UnitCore.js] Unit Created ID:2 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:2 Role:worker Pos:10,10

 笶ｯ src/tests/UnitPerformance.test.js (3 tests | 1 failed) 10ms
     ﾃ・should throttle checkSelfDefense based on ID and Frame 7ms
     笨・should skip searchSurroundings for busy workers 1ms
     笨・should throttle searchSurroundings for idle units 1ms

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ Failed Tests 1 竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ

 FAIL  src/tests/UnitPerformance.test.js > Unit Performance Optimization > should throttle checkSelfDefense based on ID and Frame
AssertionError: expected "vi.fn()" to be called at least once
 笶ｯ src/tests/UnitPerformance.test.js:53:45
     51|         // But the Time Slicing is at the TOP.
     52| 
     53|         expect(unit.terrain.findBestTarget).toHaveBeenCalled();
       |                                             ^
     54|     });
     55| 

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[1/1]竡ｯ


 Test Files  1 failed (1)
      Tests  1 failed | 2 passed (3)
   Start at  09:32:44
   Duration  878ms (transform 129ms, setup 33ms, import 166ms, tests 10ms, environment 462ms)

