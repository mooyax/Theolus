{"numTotalTestSuites":216,"numPassedTestSuites":148,"numFailedTestSuites":68,"numPendingTestSuites":0,"numTotalTests":298,"numPassedTests":241,"numFailedTests":57,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1768325064696,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Action Label Stability"],"fullName":"Action Label Stability should maintain stable action label during multi-tile job approach","status":"passed","title":"should maintain stable action label during multi-tile job approach","duration":144.6953000000001,"failureMessages":[],"meta":{}}],"startTime":1768325073440,"endTime":1768325073584.6953,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ActionLabelStability.test.js"},{"assertionResults":[{"ancestorTitles":["Advanced Units"],"fullName":"Advanced Units should initialize Knight with high stats","status":"passed","title":"should initialize Knight with high stats","duration":6.837999999999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["Advanced Units"],"fullName":"Advanced Units should initialize Wizard with low HP and high stats","status":"passed","title":"should initialize Wizard with low HP and high stats","duration":1.4780000000000655,"failureMessages":[],"meta":{}},{"ancestorTitles":["Advanced Units"],"fullName":"Advanced Units should allow Wizard to attack from range","status":"passed","title":"should allow Wizard to attack from range","duration":2.521099999999933,"failureMessages":[],"meta":{}}],"startTime":1768325078272,"endTime":1768325078283.521,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/AdvancedUnits.test.js"},{"assertionResults":[{"ancestorTitles":["Animal Movement Verification"],"fullName":"Animal Movement Verification Sheep should move after interval (Manual Time Step)","status":"passed","title":"Sheep should move after interval (Manual Time Step)","duration":16.94329999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["Animal Movement Verification"],"fullName":"Animal Movement Verification Fish should move in water","status":"passed","title":"Fish should move in water","duration":30.003400000000056,"failureMessages":[],"meta":{}}],"startTime":1768325074904,"endTime":1768325074951.0034,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Animals.test.js"},{"assertionResults":[{"ancestorTitles":["Autonomous Building Attack"],"fullName":"Autonomous Building Attack should automatically engage a nearby goblin hut","status":"failed","title":"should automatically engage a nearby goblin hut","duration":21.906999999999925,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at CombatState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:593:24)\n    at CombatState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:508:14)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at UnitWanderState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:60:24)\n    at C:/Users/mooya/develop/test/src/tests/BuildingAttackAuto.test.js:72:20\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Autonomous Building Attack"],"fullName":"Autonomous Building Attack should NOT engage if worker (safeguard check)","status":"passed","title":"should NOT engage if worker (safeguard check)","duration":4.88760000000002,"failureMessages":[],"meta":{}}],"startTime":1768325069012,"endTime":1768325069038.8877,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/BuildingAttackAuto.test.js"},{"assertionResults":[{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Goblins deal population damage to player buildings","status":"passed","title":"Goblins deal population damage to player buildings","duration":16.96530000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Goblins deal structural damage to empty player buildings","status":"passed","title":"Goblins deal structural damage to empty player buildings","duration":1.2412999999999101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Goblins destroy player buildings when HP reaches 0","status":"passed","title":"Goblins destroy player buildings when HP reaches 0","duration":3.830199999999877,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Buildings retaliate against melee goblins","status":"passed","title":"Buildings retaliate against melee goblins","duration":1.568699999999808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Towers have massive retaliation","status":"passed","title":"Towers have massive retaliation","duration":1.2095999999999094,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic No retaliation for distant attackers (Shamans)","status":"passed","title":"No retaliation for distant attackers (Shamans)","duration":1.2643000000000484,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Goblins can target buildings with 0 population but > 0 structural HP","status":"passed","title":"Goblins can target buildings with 0 population but > 0 structural HP","duration":1.355199999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Defense Logic"],"fullName":"Building Defense Logic Standard HP logic for Goblin buildings","status":"passed","title":"Standard HP logic for Goblin buildings","duration":3.0471999999999753,"failureMessages":[],"meta":{}}],"startTime":1768325075078,"endTime":1768325075109.047,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/BuildingDefense.test.js"},{"assertionResults":[{"ancestorTitles":["Building Destruction Logic"],"fullName":"Building Destruction Logic should successfully remove a building from the list","status":"passed","title":"should successfully remove a building from the list","duration":361.1234000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Destruction Logic"],"fullName":"Building Destruction Logic should allow a goblin to destroy a building","status":"passed","title":"should allow a goblin to destroy a building","duration":500.3862999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Building Destruction Logic"],"fullName":"Building Destruction Logic should handle identity mismatch (Ghost Building)","status":"passed","title":"should handle identity mismatch (Ghost Building)","duration":261.1176999999998,"failureMessages":[],"meta":{}}],"startTime":1768325070567,"endTime":1768325071690.1177,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/BuildingDestruction.test.js"},{"assertionResults":[{"ancestorTitles":["Building Distraction Bug"],"fullName":"Building Distraction Bug should NOT build a house while in JobState moving to target","status":"failed","title":"should NOT build a house while in JobState moving to target","duration":19.91969999999992,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/BuildingDistraction.test.js:87:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Building Distraction Bug"],"fullName":"Building Distraction Bug should NOT build immediately after job abort (cooldown check)","status":"passed","title":"should NOT build immediately after job abort (cooldown check)","duration":4.760200000000168,"failureMessages":[],"meta":{}}],"startTime":1768325068955,"endTime":1768325068979.7603,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/BuildingDistraction.test.js"},{"assertionResults":[{"ancestorTitles":["Cave Destruction Bug"],"fullName":"Cave Destruction Bug should damage cave when attacking directly","status":"passed","title":"should damage cave when attacking directly","duration":4.784799999999905,"failureMessages":[],"meta":{}}],"startTime":1768325078623,"endTime":1768325078627.785,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CaveDestruction.test.js"},{"assertionResults":[{"ancestorTitles":["GoblinManager Cave Persistence"],"fullName":"GoblinManager Cave Persistence should update cave Y position when terrain height changes","status":"passed","title":"should update cave Y position when terrain height changes","duration":5.560400000000072,"failureMessages":[],"meta":{}},{"ancestorTitles":["GoblinManager Cave Persistence"],"fullName":"GoblinManager Cave Persistence should destroy cave if submerged (height <= 0)","status":"passed","title":"should destroy cave if submerged (height <= 0)","duration":3.3610000000001037,"failureMessages":[],"meta":{}}],"startTime":1768325078352,"endTime":1768325078360.361,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CavePersistence.test.js"},{"assertionResults":[{"ancestorTitles":["Combat Balance Verification"],"fullName":"Combat Balance Verification Worker vs Normal Goblin (Expected: Unit Win)","status":"passed","title":"Worker vs Normal Goblin (Expected: Unit Win)","duration":305.3953999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Balance Verification"],"fullName":"Combat Balance Verification Normal Goblin vs House (Expected: Mutually Assured Destruction or House Defense)","status":"passed","title":"Normal Goblin vs House (Expected: Mutually Assured Destruction or House Defense)","duration":80.74939999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Balance Verification"],"fullName":"Combat Balance Verification Knight vs Normal Goblin (Expected: Knight Stomp)","status":"passed","title":"Knight vs Normal Goblin (Expected: Knight Stomp)","duration":75.79500000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Balance Verification"],"fullName":"Combat Balance Verification Knight vs King Goblin (Expected: Close or King Advantage)","status":"passed","title":"Knight vs King Goblin (Expected: Close or King Advantage)","duration":72.11529999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Balance Verification"],"fullName":"Combat Balance Verification Wizard vs Hobgoblin (Expected: Wizard High DPS but Fragile)","status":"passed","title":"Wizard vs Hobgoblin (Expected: Wizard High DPS but Fragile)","duration":75.62469999999985,"failureMessages":[],"meta":{}}],"startTime":1768325071039,"endTime":1768325071648.6248,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CombatBalance.test.js"},{"assertionResults":[{"ancestorTitles":["Combat and Logic Fixes"],"fullName":"Combat and Logic Fixes should find target goblin","status":"passed","title":"should find target goblin","duration":11.321300000000065,"failureMessages":[],"meta":{}}],"startTime":1768325077078,"endTime":1768325077089.3213,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CombatFixes.test.js"},{"assertionResults":[{"ancestorTitles":["Request Responsiveness & Combat Handoff"],"fullName":"Request Responsiveness & Combat Handoff Worker releases job when died","status":"passed","title":"Worker releases job when died","duration":115.6866,"failureMessages":[],"meta":{}},{"ancestorTitles":["Request Responsiveness & Combat Handoff"],"fullName":"Request Responsiveness & Combat Handoff forceAssignRequest prioritizes idle unit over busy unit","status":"passed","title":"forceAssignRequest prioritizes idle unit over busy unit","duration":107.27040000000011,"failureMessages":[],"meta":{}}],"startTime":1768325072857,"endTime":1768325073080.2705,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CombatRequestHandoff.test.js"},{"assertionResults":[{"ancestorTitles":["Combat Retaliation System"],"fullName":"Combat Retaliation System should retaliate when hit while working (JobState)","status":"failed","title":"should retaliate when hit while working (JobState)","duration":25.224500000000035,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/CombatRetaliation.test.js:159:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Combat Retaliation System"],"fullName":"Combat Retaliation System should switch strictly for self-defense scan failure in JobState (Non-worker)","status":"failed","title":"should switch strictly for self-defense scan failure in JobState (Non-worker)","duration":4.653700000000072,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/CombatRetaliation.test.js:204:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}}],"startTime":1768325068136,"endTime":1768325068165.6538,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CombatRetaliation.test.js"},{"assertionResults":[{"ancestorTitles":["Combat Logic Verification"],"fullName":"Combat Logic Verification Scenario A: Worker destroys Cave","status":"passed","title":"Scenario A: Worker destroys Cave","duration":13.369200000000092,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Logic Verification"],"fullName":"Combat Logic Verification Scenario B: Goblin destroys House","status":"passed","title":"Scenario B: Goblin destroys House","duration":8.938499999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Combat Logic Verification"],"fullName":"Combat Logic Verification Scenario C: Goblin finds and destroys House","status":"passed","title":"Scenario C: Goblin finds and destroys House","duration":2.078700000000026,"failureMessages":[],"meta":{}}],"startTime":1768325075383,"endTime":1768325075407.0786,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/CombatVerification.test.js"},{"assertionResults":[{"ancestorTitles":["Complex AI Scenarios"],"fullName":"Complex AI Scenarios should drop job gracefully if target building is destroyed","status":"passed","title":"should drop job gracefully if target building is destroyed","duration":105.43689999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Complex AI Scenarios"],"fullName":"Complex AI Scenarios should prioritize manual jobs even when closer auto jobs appear","status":"passed","title":"should prioritize manual jobs even when closer auto jobs appear","duration":74.34439999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Complex AI Scenarios"],"fullName":"Complex AI Scenarios should NOT drop manual job when switching to SleepState at night","status":"passed","title":"should NOT drop manual job when switching to SleepState at night","duration":88.83899999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Complex AI Scenarios"],"fullName":"Complex AI Scenarios should ignore unreachable job to prevent flicker (Regression Test)","status":"passed","title":"should ignore unreachable job to prevent flicker (Regression Test)","duration":70.54289999999992,"failureMessages":[],"meta":{}}],"startTime":1768325072678,"endTime":1768325073017.543,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ComplexAI.test.js"},{"assertionResults":[{"ancestorTitles":["Complex Job Interaction and Cancellation"],"fullName":"Complex Job Interaction and Cancellation should immediately stop unit when job is cancelled mid-approach","status":"passed","title":"should immediately stop unit when job is cancelled mid-approach","duration":127.54739999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Complex Job Interaction and Cancellation"],"fullName":"Complex Job Interaction and Cancellation should pickup NEXT job if current is cancelled","status":"passed","title":"should pickup NEXT job if current is cancelled","duration":68.86950000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Complex Job Interaction and Cancellation"],"fullName":"Complex Job Interaction and Cancellation should handle cancellation while Working (arrived)","status":"passed","title":"should handle cancellation while Working (arrived)","duration":60.4679000000001,"failureMessages":[],"meta":{}}],"startTime":1768325072904,"endTime":1768325073161.468,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ComplexInteraction.test.js"},{"assertionResults":[{"ancestorTitles":["Death Animation and Logic Fixes"],"fullName":"Death Animation and Logic Fixes should update death animation and remove cross after duration","status":"passed","title":"should update death animation and remove cross after duration","duration":11.427400000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Death Animation and Logic Fixes"],"fullName":"Death Animation and Logic Fixes should Stop moving/updating logic when Dead (Ghost Unit Fix)","status":"passed","title":"should Stop moving/updating logic when Dead (Ghost Unit Fix)","duration":2.338600000000042,"failureMessages":[],"meta":{}}],"startTime":1768325077466,"endTime":1768325077480.3386,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/DeathAnimation.test.js"},{"assertionResults":[{"ancestorTitles":["Debug Regression"],"fullName":"Debug Regression reproduce Snatch movement","status":"failed","title":"reproduce Snatch movement","duration":27.948000000000093,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.smartMove (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:285:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/DebugRegression.test.js:66:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)"],"meta":{}}],"startTime":1768325069096,"endTime":1768325069123.948,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/DebugRegression.test.js"},{"assertionResults":[{"ancestorTitles":["Deep Cup Pathfinding"],"fullName":"Deep Cup Pathfinding should find path out of Deep Cup within maxSteps (Trap Check)","status":"passed","title":"should find path out of Deep Cup within maxSteps (Trap Check)","duration":15.594299999999976,"failureMessages":[],"meta":{}}],"startTime":1768325076707,"endTime":1768325076722.5942,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/DeepCup.test.js"},{"assertionResults":[{"ancestorTitles":["Force Assignment Integration"],"fullName":"Force Assignment Integration should successfully triggerMove without infinite loop","status":"failed","title":"should successfully triggerMove without infinite loop","duration":38.40750000000003,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ForceAssignment.test.js:131:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Force Assignment Integration"],"fullName":"Force Assignment Integration should handle Force Assignment logic block","status":"failed","title":"should handle Force Assignment logic block","duration":2.5574000000001433,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ForceAssignment.test.js:131:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325067594,"endTime":1768325067635.5574,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ForceAssignment.test.js"},{"assertionResults":[{"ancestorTitles":["Terrain Force Build Logic"],"fullName":"Terrain Force Build Logic should clear existing buildings when placing a new one","status":"passed","title":"should clear existing buildings when placing a new one","duration":1932.8642,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Force Build Logic"],"fullName":"Terrain Force Build Logic should clear buildings partially in the way","status":"passed","title":"should clear buildings partially in the way","duration":2008.9453999999996,"failureMessages":[],"meta":{}}],"startTime":1768325069258,"endTime":1768325073208.9453,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ForceBuild.test.js"},{"assertionResults":[{"ancestorTitles":["Terrain Ghost House Test"],"fullName":"Terrain Ghost House Test should NOT accumulate ghost buildings (cleared during deserialize)","status":"failed","title":"should NOT accumulate ghost buildings (cleared during deserialize)","duration":244.9629,"failureMessages":["AssertionError: expected 2 to be 1 // Object.is equality\n    at C:/Users/mooya/develop/test/src/tests/GhostHouse.test.js:144:42\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1768325066201,"endTime":1768325066445.963,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GhostHouse.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Activity & Persistence"],"fullName":"Goblin Activity & Persistence should spawn a goblin at a cave and persist effectively","status":"passed","title":"should spawn a goblin at a cave and persist effectively","duration":159.37490000000003,"failureMessages":[],"meta":{}}],"startTime":1768325072977,"endTime":1768325073136.375,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinActivity.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Aggression Bug"],"fullName":"Goblin Aggression Bug should find target, chase, and attack","status":"failed","title":"should find target, chase, and attack","duration":42.41439999999989,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Goblin.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Goblin.executeCombatLogic (C:/Users/mooya/develop/test/src/Goblin.js:327:23)\n    at GoblinCombatState.update (C:/Users/mooya/develop/test/src/ai/states/GoblinStates.js:221:24)\n    at Goblin.updateLogic (C:/Users/mooya/develop/test/src/Goblin.js:284:24)\n    at C:/Users/mooya/develop/test/src/tests/GoblinAggression.test.js:133:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)"],"meta":{}}],"startTime":1768325067819,"endTime":1768325067861.4143,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinAggression.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Building Destruction"],"fullName":"Goblin Building Destruction should damage building population","status":"passed","title":"should damage building population","duration":15.71180000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Building Destruction"],"fullName":"Goblin Building Destruction should destroy building when Population AND HP are depleted","status":"passed","title":"should destroy building when Population AND HP are depleted","duration":4.391999999999825,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Building Destruction"],"fullName":"Goblin Building Destruction should destroy building even if fractional population remains (e.g. 0.5)","status":"passed","title":"should destroy building even if fractional population remains (e.g. 0.5)","duration":1.393199999999979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Building Destruction"],"fullName":"Goblin Building Destruction should NOT destroy building if population remains >= 1.0","status":"passed","title":"should NOT destroy building if population remains >= 1.0","duration":1.078800000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Building Destruction"],"fullName":"Goblin Building Destruction should take retaliation damage","status":"passed","title":"should take retaliation damage","duration":1.4205999999999221,"failureMessages":[],"meta":{}}],"startTime":1768325076509,"endTime":1768325076533.4207,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinDestruction.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Spawning Logic"],"fullName":"Goblin Spawning Logic should update building population","status":"passed","title":"should update building population","duration":3.3086000000000695,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Spawning Logic"],"fullName":"Goblin Spawning Logic should synchronize clipping planes with controls.target when available","status":"failed","title":"should synchronize clipping planes with controls.target when available","duration":32.72479999999996,"failureMessages":["TypeError: this.renderer.init is not a function\n    at new GoblinManager (C:/Users/mooya/develop/test/src/GoblinManager.js:19:23)\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:214:30)\n    at C:/Users/mooya/develop/test/src/tests/GoblinFixes.test.js:135:22\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"],"meta":{}}],"startTime":1768325067616,"endTime":1768325067652.7249,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinFixes.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Hut Fix"],"fullName":"Goblin Hut Fix should NOT trigger spawnCallback for goblin_hut even if overpopulated","status":"passed","title":"should NOT trigger spawnCallback for goblin_hut even if overpopulated","duration":1348.9158000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Hut Fix"],"fullName":"Goblin Hut Fix should trigger spawnCallback for house when overpopulated (Control)","status":"passed","title":"should trigger spawnCallback for house when overpopulated (Control)","duration":1650.0367,"failureMessages":[],"meta":{}}],"startTime":1768325069494,"endTime":1768325072493.0366,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinHutFix.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Mobilization Verification"],"fullName":"Goblin Mobilization Verification triggerWave should mobilize idle goblins","status":"passed","title":"triggerWave should mobilize idle goblins","duration":369.63599999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Mobilization Verification"],"fullName":"Goblin Mobilization Verification mobilizeClan should rely on getClanRaidTarget fallback","status":"passed","title":"mobilizeClan should rely on getClanRaidTarget fallback","duration":360.11159999999995,"failureMessages":[],"meta":{}}],"startTime":1768325070683,"endTime":1768325071413.1116,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinMobilization.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Raid Expiry Persistence"],"fullName":"Goblin Raid Expiry Persistence should serialize and deserialize raidGoal timestamp","status":"passed","title":"should serialize and deserialize raidGoal timestamp","duration":33.21250000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Raid Expiry Persistence"],"fullName":"Goblin Raid Expiry Persistence should expire RaidState after load if timestamp is preserved","status":"passed","title":"should expire RaidState after load if timestamp is preserved","duration":15.135300000000143,"failureMessages":[],"meta":{}}],"startTime":1768325074730,"endTime":1768325074778.1353,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinRaidExpiry.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Raid Threshold"],"fullName":"Goblin Raid Threshold should NOT activate raid on first aggression (1/3)","status":"passed","title":"should NOT activate raid on first aggression (1/3)","duration":21.851000000000113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Raid Threshold"],"fullName":"Goblin Raid Threshold should activate raid on third aggression (3/3)","status":"passed","title":"should activate raid on third aggression (3/3)","duration":6.257500000000164,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Raid Threshold"],"fullName":"Goblin Raid Threshold should decay aggression over time","status":"passed","title":"should decay aggression over time","duration":12.8279,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Raid Threshold"],"fullName":"Goblin Raid Threshold should reset aggression decay if it drops below zero","status":"passed","title":"should reset aggression decay if it drops below zero","duration":3.9150999999999385,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Raid Threshold"],"fullName":"Goblin Raid Threshold should DEACTIVATE raid state if aggression decays to zero","status":"passed","title":"should DEACTIVATE raid state if aggression decays to zero","duration":4.456100000000106,"failureMessages":[],"meta":{}}],"startTime":1768325074805,"endTime":1768325074855.456,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinRaidThreshold.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Hut Spawning"],"fullName":"Goblin Hut Spawning should spawn goblin when hut population reaches 10","status":"passed","title":"should spawn goblin when hut population reaches 10","duration":18.142100000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Hut Spawning"],"fullName":"Goblin Hut Spawning should NOT spawn if Global Cap is reached","status":"passed","title":"should NOT spawn if Global Cap is reached","duration":11.862700000000132,"failureMessages":[],"meta":{}}],"startTime":1768325075118,"endTime":1768325075147.8628,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinSpawn.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Stats Verification"],"fullName":"Goblin Stats Verification Normal Goblin should have sufficient lifespan and speed","status":"passed","title":"Normal Goblin should have sufficient lifespan and speed","duration":3.8976000000000113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Stats Verification"],"fullName":"Goblin Stats Verification King Goblin should be long lived","status":"passed","title":"King Goblin should be long lived","duration":1.2917999999999665,"failureMessages":[],"meta":{}}],"startTime":1768325078831,"endTime":1768325078836.2917,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinStats.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Combat and Stagnation"],"fullName":"Goblin Combat and Stagnation should blacklist unreachable targets and transition state","status":"passed","title":"should blacklist unreachable targets and transition state","duration":18.08660000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Combat and Stagnation"],"fullName":"Goblin Combat and Stagnation should respect blacklist in findTarget","status":"passed","title":"should respect blacklist in findTarget","duration":1.9735000000000582,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Combat and Stagnation"],"fullName":"Goblin Combat and Stagnation should not stop movement if already fighting","status":"passed","title":"should not stop movement if already fighting","duration":1.1170999999999367,"failureMessages":[],"meta":{}}],"startTime":1768325075249,"endTime":1768325075270.1172,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinStuckness.test.js"},{"assertionResults":[{"ancestorTitles":["Goblin Types & Stats"],"fullName":"Goblin Types & Stats should create Goblin King with correct stats","status":"passed","title":"should create Goblin King with correct stats","duration":8.40039999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Types & Stats"],"fullName":"Goblin Types & Stats should create Goblin Shaman with correct stats","status":"passed","title":"should create Goblin Shaman with correct stats","duration":2.480199999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Types & Stats"],"fullName":"Goblin Types & Stats should correctly spawn types based on random probability","status":"passed","title":"should correctly spawn types based on random probability","duration":17.302200000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["Goblin Types & Stats"],"fullName":"Goblin Types & Stats should use staff visual for Shaman in Renderer logic","status":"passed","title":"should use staff visual for Shaman in Renderer logic","duration":1.5418999999999414,"failureMessages":[],"meta":{}}],"startTime":1768325075067,"endTime":1768325075097.542,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GoblinTypes.test.js"},{"assertionResults":[{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario: 5 Goblins vs 3 Workers (Close Match / Goblin Edge)","status":"failed","title":"Scenario: 5 Goblins vs 3 Workers (Close Match / Goblin Edge)","duration":32.26259999999979,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Goblin.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Goblin.executeCombatLogic (C:/Users/mooya/develop/test/src/Goblin.js:327:23)\n    at GoblinWanderState.g.state.update (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:204:54)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:207:49\n    at Array.forEach (<anonymous>)\n    at runSimulation (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:177:21)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:226:9\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20"],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario: 3 Knights vs 10 Goblins (Knights Stomp)","status":"passed","title":"Scenario: 3 Knights vs 10 Goblins (Knights Stomp)","duration":9.583200000000033,"failureMessages":[],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario: 3 Goblins vs 1 House (House Defends)","status":"passed","title":"Scenario: 3 Goblins vs 1 House (House Defends)","duration":4.0009000000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario: 5 Goblins vs 1 House (House Destroyed)","status":"passed","title":"Scenario: 5 Goblins vs 1 House (House Destroyed)","duration":3.6596000000001823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario 5: King vs 1 Knight (Knight Wins)","status":"failed","title":"Scenario 5: King vs 1 Knight (Knight Wins)","duration":2.988499999999931,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Goblin.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Goblin.executeCombatLogic (C:/Users/mooya/develop/test/src/Goblin.js:327:23)\n    at GoblinWanderState.g.state.update (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:204:54)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:207:49\n    at Array.forEach (<anonymous>)\n    at runSimulation (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:177:21)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:302:9\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20"],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario 6: King vs 20 Workers (Workers Swarm)","status":"passed","title":"Scenario 6: King vs 20 Workers (Workers Swarm)","duration":5.3753999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario 7: Shaman vs 1 Worker (Shaman Snipes)","status":"failed","title":"Scenario 7: Shaman vs 1 Worker (Shaman Snipes)","duration":2.5851000000000113,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Goblin.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Goblin.executeCombatLogic (C:/Users/mooya/develop/test/src/Goblin.js:327:23)\n    at GoblinWanderState.g.state.update (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:204:54)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:207:49\n    at Array.forEach (<anonymous>)\n    at runSimulation (C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:177:21)\n    at C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js:344:9\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20"],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario 8: King vs House (King Smashes)","status":"passed","title":"Scenario 8: King vs House (King Smashes)","duration":2.1052000000001954,"failureMessages":[],"meta":{}},{"ancestorTitles":["Group Combat Simulations"],"fullName":"Group Combat Simulations Scenario 9: 3 Goblins vs Building Class House (House Defends)","status":"passed","title":"Scenario 9: 3 Goblins vs Building Class House (House Defends)","duration":3.0908999999999196,"failureMessages":[],"meta":{}}],"startTime":1768325066487,"endTime":1768325066553.0908,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/GroupCombat.test.js"},{"assertionResults":[{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Clusters nearby battle reports","status":"passed","title":"Clusters nearby battle reports","duration":194.18100000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Decays intensity","status":"passed","title":"Decays intensity","duration":1.2304999999998927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Mobilizes idle squads to intense hotspots (Updated Threshold)","status":"passed","title":"Mobilizes idle squads to intense hotspots (Updated Threshold)","duration":2.577600000000075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Triggers autonomous patrol for idle Knights","status":"passed","title":"Triggers autonomous patrol for idle Knights","duration":1.7300000000000182,"failureMessages":[],"meta":{}},{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Mobilizes idle squads","status":"passed","title":"Mobilizes idle squads","duration":1.0832000000000335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Global Battle Hotspots Logic"],"fullName":"Global Battle Hotspots Logic Does not mobilize across regions","status":"passed","title":"Does not mobilize across regions","duration":0.4498000000000957,"failureMessages":[],"meta":{}}],"startTime":1768325072523,"endTime":1768325072724.4497,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Hotspot.test.js"},{"assertionResults":[{"ancestorTitles":["Human Spawning Survival"],"fullName":"Human Spawning Survival should allow population growth (slowly) even with 0 food","status":"passed","title":"should allow population growth (slowly) even with 0 food","duration":1539.2101999999998,"failureMessages":[],"meta":{}}],"startTime":1768325069517,"endTime":1768325071056.2102,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/HumanSpawningSurvival.test.js"},{"assertionResults":[{"ancestorTitles":["Job/Moving Idle Regression"],"fullName":"Job/Moving Idle Regression should NOT abandon JobState when smartMove is throttled (Time Slicing)","status":"failed","title":"should NOT abandon JobState when smartMove is throttled (Time Slicing)","duration":21.336000000000013,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/IdleRegression.test.js:90:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Job/Moving Idle Regression"],"fullName":"Job/Moving Idle Regression should NOT increment stuckTimer when smartMove is throttled","status":"failed","title":"should NOT increment stuckTimer when smartMove is throttled","duration":6.549099999999953,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/IdleRegression.test.js:120:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Job/Moving Idle Regression"],"fullName":"Job/Moving Idle Regression should NOT revert action to \"Moving\" if already \"Approaching Job\"","status":"passed","title":"should NOT revert action to \"Moving\" if already \"Approaching Job\"","duration":4.859299999999848,"failureMessages":[],"meta":{}},{"ancestorTitles":["Job/Moving Idle Regression"],"fullName":"Job/Moving Idle Regression should NOT execute updateCombatLogic if State Machine is active","status":"passed","title":"should NOT execute updateCombatLogic if State Machine is active","duration":2.389399999999796,"failureMessages":[],"meta":{}}],"startTime":1768325066484,"endTime":1768325066519.3894,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/IdleRegression.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Interrupt and Resume"],"fullName":"Unit Interrupt and Resume should return to previous movement target after finishing a job","status":"failed","title":"should return to previous movement target after finishing a job","duration":16.30320000000006,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at C:/Users/mooya/develop/test/src/tests/InterruptResume.test.js:90:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)"],"meta":{}},{"ancestorTitles":["Unit Interrupt and Resume"],"fullName":"Unit Interrupt and Resume should resume MIGRATION after Combat interruption","status":"failed","title":"should resume MIGRATION after Combat interruption","duration":13.606800000000021,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at UnitWanderState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:37:32)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at CombatState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:524:24)\n    at CombatState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:508:14)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/InterruptResume.test.js:142:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20"],"meta":{}}],"startTime":1768325068160,"endTime":1768325068190.6067,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/InterruptResume.test.js"},{"assertionResults":[{"ancestorTitles":["Movement Jitter Investigation"],"fullName":"Movement Jitter Investigation should monitor limb state between tile arrivals","status":"failed","title":"should monitor limb state between tile arrivals","duration":29.945000000000164,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at C:/Users/mooya/develop/test/src/tests/JitterInvestigation.test.js:72:20\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"],"meta":{}},{"ancestorTitles":["Movement Jitter Investigation"],"fullName":"Movement Jitter Investigation should check if executeMove mid-move resets speed significantly","status":"passed","title":"should check if executeMove mid-move resets speed significantly","duration":4.024400000000014,"failureMessages":[],"meta":{}}],"startTime":1768325067866,"endTime":1768325067900.0244,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/JitterInvestigation.test.js"},{"assertionResults":[{"ancestorTitles":["Job Assignment & Continuation"],"fullName":"Job Assignment & Continuation should release old job when a new job is claimed (Sequential assignment)","status":"passed","title":"should release old job when a new job is claimed (Sequential assignment)","duration":3.0302999999998974,"failureMessages":[],"meta":{}},{"ancestorTitles":["Job Assignment & Continuation"],"fullName":"Job Assignment & Continuation should continue to the next nearby job after completing current one (Chaining)","status":"passed","title":"should continue to the next nearby job after completing current one (Chaining)","duration":1.0536999999999352,"failureMessages":[],"meta":{}},{"ancestorTitles":["Job Assignment & Continuation"],"fullName":"Job Assignment & Continuation should properly interrupt and change state if a job is snatched by another unit","status":"passed","title":"should properly interrupt and change state if a job is snatched by another unit","duration":1.1161999999999352,"failureMessages":[],"meta":{}}],"startTime":1768325078672,"endTime":1768325078677.1162,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/JobAssignment.test.js"},{"assertionResults":[{"ancestorTitles":["Job Assignment Idempotency"],"fullName":"Job Assignment Idempotency should NOT reset movement if claiming the same job twice","status":"failed","title":"should NOT reset movement if claiming the same job twice","duration":54.86410000000001,"failureMessages":["TypeError: this.buildingRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:222:31)\n    at C:/Users/mooya/develop/test/src/tests/JobIdempotency.test.js:195:20\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325066484,"endTime":1768325066538.864,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/JobIdempotency.test.js"},{"assertionResults":[{"ancestorTitles":["Job Pathfinding Failure Handling"],"fullName":"Job Pathfinding Failure Handling should abandon job if smartMove fails repeatedly","status":"failed","title":"should abandon job if smartMove fails repeatedly","duration":138.83069999999998,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/JobPathFailure.test.js:79:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}}],"startTime":1768325066486,"endTime":1768325066624.8308,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/JobPathFailure.test.js"},{"assertionResults":[{"ancestorTitles":["Job Reassignment on Death"],"fullName":"Job Reassignment on Death should reassign job when original worker dies","status":"passed","title":"should reassign job when original worker dies","duration":143.12120000000004,"failureMessages":[],"meta":{}}],"startTime":1768325073369,"endTime":1768325073512.121,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/JobReassignment.test.js"},{"assertionResults":[{"ancestorTitles":["BuildingRenderer Lighting"],"fullName":"BuildingRenderer Lighting should turn on barracks lights at night","status":"failed","title":"should turn on barracks lights at night","duration":6.401499999999942,"failureMessages":["TypeError: renderer.initAssets is not a function\n    at C:/Users/mooya/develop/test/src/tests/Lighting.test.js:28:18\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:12)"],"meta":{}}],"startTime":1768325069202,"endTime":1768325069208.4016,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Lighting.test.js"},{"assertionResults":[{"ancestorTitles":["Load Update Loop Integration"],"fullName":"Load Update Loop Integration should maintain JobState after first update loop post-load","status":"failed","title":"should maintain JobState after first update loop post-load","duration":43.28810000000021,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/LoadUpdateLoop.test.js:147:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325067624,"endTime":1768325067667.288,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/LoadUpdateLoop.test.js"},{"assertionResults":[{"ancestorTitles":["Mana System"],"fullName":"Mana System should block actions when mana is negative","status":"passed","title":"should block actions when mana is negative","duration":3.2612000000001444,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mana System"],"fullName":"Mana System should allow actions when mana is positive","status":"passed","title":"should allow actions when mana is positive","duration":0.6781000000000859,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mana System"],"fullName":"Mana System should consume mana correctly","status":"passed","title":"should consume mana correctly","duration":3.4139000000000124,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mana System","InputManager Integration"],"fullName":"Mana System InputManager Integration should consume mana on raise terrain","status":"passed","title":"should consume mana on raise terrain","duration":8.802900000000136,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mana System","InputManager Integration"],"fullName":"Mana System InputManager Integration should block raise terrain if mana is negative","status":"passed","title":"should block raise terrain if mana is negative","duration":2.0331999999998516,"failureMessages":[],"meta":{}}],"startTime":1768325076855,"endTime":1768325076874.0332,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ManaSystem.test.js"},{"assertionResults":[{"ancestorTitles":["Manual Assignment Debugging"],"fullName":"Manual Assignment Debugging should assign a manual request to an Idle worker","status":"failed","title":"should assign a manual request to an Idle worker","duration":35.792900000000145,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js:124:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Manual Assignment Debugging"],"fullName":"Manual Assignment Debugging should NOT assign to a Busy worker (already working)","status":"failed","title":"should NOT assign to a Busy worker (already working)","duration":12.535200000000032,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js:124:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Manual Assignment Debugging"],"fullName":"Manual Assignment Debugging should assign to a Wandering worker (Low Priority)","status":"failed","title":"should assign to a Wandering worker (Low Priority)","duration":6.4202000000000226,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js:124:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Manual Assignment Debugging"],"fullName":"Manual Assignment Debugging should assign to a Moving worker (Low Priority)","status":"failed","title":"should assign to a Moving worker (Low Priority)","duration":11.019199999999955,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js:124:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Manual Assignment Debugging"],"fullName":"Manual Assignment Debugging should re-assign a unit that is \"Moving\" to a job (Not yet Working)","status":"failed","title":"should re-assign a unit that is \"Moving\" to a job (Not yet Working)","duration":3.3274999999998727,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js:124:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325066483,"endTime":1768325066553.3274,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ManualAssignment.test.js"},{"assertionResults":[{"ancestorTitles":["Manual Request Priority and Preemption"],"fullName":"Manual Request Priority and Preemption should allow manual request to preempt CombatState","status":"failed","title":"should allow manual request to preempt CombatState","duration":53.91750000000002,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at CombatState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:534:32)\n    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.js:1717:24)\n    at C:/Users/mooya/develop/test/src/tests/ManualPriority.test.js:69:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Manual Request Priority and Preemption"],"fullName":"Manual Request Priority and Preemption should allow manual request to preempt SleepState","status":"failed","title":"should allow manual request to preempt SleepState","duration":3.8414000000000215,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at SleepState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:695:32)\n    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.js:1717:24)\n    at C:/Users/mooya/develop/test/src/tests/ManualPriority.test.js:85:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Manual Request Priority and Preemption"],"fullName":"Manual Request Priority and Preemption should NOT allow auto request to preempt CombatState","status":"passed","title":"should NOT allow auto request to preempt CombatState","duration":1.3006000000000313,"failureMessages":[],"meta":{}}],"startTime":1768325066274,"endTime":1768325066333.3005,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ManualPriority.test.js"},{"assertionResults":[{"ancestorTitles":["Marker Distraction and Pathfinding Persistence"],"fullName":"Marker Distraction and Pathfinding Persistence should NOT abandon manual job during pathfinding throttle","status":"passed","title":"should NOT abandon manual job during pathfinding throttle","duration":11.412000000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Marker Distraction and Pathfinding Persistence"],"fullName":"Marker Distraction and Pathfinding Persistence should be more persistent for manual jobs on hard failure","status":"passed","title":"should be more persistent for manual jobs on hard failure","duration":2.2366000000001804,"failureMessages":[],"meta":{}}],"startTime":1768325077897,"endTime":1768325077910.2366,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MarkerDistraction.test.js"},{"assertionResults":[{"ancestorTitles":["Marker End-to-End: Persistence and Wrap Support"],"fullName":"Marker End-to-End: Persistence and Wrap Support should calculate shortest distance across map boundaries (Wrap Support)","status":"passed","title":"should calculate shortest distance across map boundaries (Wrap Support)","duration":5.825599999999895,"failureMessages":[],"meta":{}},{"ancestorTitles":["Marker End-to-End: Persistence and Wrap Support"],"fullName":"Marker End-to-End: Persistence and Wrap Support should persist through pathfinding delays for manual jobs","status":"failed","title":"should persist through pathfinding delays for manual jobs","duration":26.90610000000015,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:172:15\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"],"meta":{}},{"ancestorTitles":["Marker End-to-End: Persistence and Wrap Support"],"fullName":"Marker End-to-End: Persistence and Wrap Support should handle sequential manual instructions with efficient preemption","status":"failed","title":"should handle sequential manual instructions with efficient preemption","duration":3.271600000000035,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at Object.<anonymous> (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:74:19)\n    at Object.Mock [as claimRequest] (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:285:34)\n    at Object.assignRequestSync (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:131:26)\n    at Object.processAssignments (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:87:30)\n    at Object.addRequest (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:81:22)\n    at C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:187:27\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11"],"meta":{}},{"ancestorTitles":["Marker End-to-End: Persistence and Wrap Support"],"fullName":"Marker End-to-End: Persistence and Wrap Support should assign pending jobs to newly spawned workers","status":"failed","title":"should assign pending jobs to newly spawned workers","duration":2.011700000000019,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at Object.<anonymous> (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:74:19)\n    at Object.Mock [as claimRequest] (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:285:34)\n    at Object.assignRequestSync (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:131:26)\n    at Object.processAssignments (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:87:30)\n    at Object.addRequest (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:81:22)\n    at C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:203:27\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11"],"meta":{}},{"ancestorTitles":["Marker End-to-End: Persistence and Wrap Support"],"fullName":"Marker End-to-End: Persistence and Wrap Support should handle job cancellation and release worker","status":"failed","title":"should handle job cancellation and release worker","duration":2.853700000000117,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at Object.<anonymous> (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:74:19)\n    at Object.Mock [as claimRequest] (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:285:34)\n    at Object.assignRequestSync (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:131:26)\n    at Object.processAssignments (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:87:30)\n    at Object.addRequest (C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:81:22)\n    at C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js:216:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11"],"meta":{}}],"startTime":1768325067861,"endTime":1768325067901.8538,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MarkerEndToEnd.test.js"},{"assertionResults":[{"ancestorTitles":["Migration Conflict Regression (Jitabata Bug)"],"fullName":"Migration Conflict Regression (Jitabata Bug) should handle basic Unit update without crash","status":"passed","title":"should handle basic Unit update without crash","duration":5.27110000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Migration Conflict Regression (Jitabata Bug)"],"fullName":"Migration Conflict Regression (Jitabata Bug) should NOT allow WanderState to interfere with Migration Movement","status":"failed","title":"should NOT allow WanderState to interfere with Migration Movement","duration":32.58230000000003,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.findBestPlaceToMigrate (C:/Users/mooya/develop/test/src/Unit.js:1661:22)\n    at Unit.migrate (C:/Users/mooya/develop/test/src/Unit.js:1638:14)\n    at C:/Users/mooya/develop/test/src/tests/MigrationConflict.test.js:81:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Migration Conflict Regression (Jitabata Bug)"],"fullName":"Migration Conflict Regression (Jitabata Bug) should allow Migration Logic to control repeated movement","status":"failed","title":"should allow Migration Logic to control repeated movement","duration":2.186200000000099,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.findBestPlaceToMigrate (C:/Users/mooya/develop/test/src/Unit.js:1661:22)\n    at Unit.migrate (C:/Users/mooya/develop/test/src/Unit.js:1638:14)\n    at C:/Users/mooya/develop/test/src/tests/MigrationConflict.test.js:98:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}}],"startTime":1768325067612,"endTime":1768325067652.1863,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MigrationConflict.test.js"},{"assertionResults":[{"ancestorTitles":["Migration Improvements"],"fullName":"Migration Improvements should retry migration after 30 seconds timeout","status":"failed","title":"should retry migration after 30 seconds timeout","duration":44.565399999999954,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.findBestPlaceToMigrate (C:/Users/mooya/develop/test/src/Unit.js:1661:22)\n    at Unit.migrate (C:/Users/mooya/develop/test/src/Unit.js:1638:14)\n    at C:/Users/mooya/develop/test/src/tests/MigrationImprovement.test.js:106:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Migration Improvements"],"fullName":"Migration Improvements should interrupt migration if enemy is found (Priority)","status":"failed","title":"should interrupt migration if enemy is found (Priority)","duration":15.513599999999997,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.findBestPlaceToMigrate (C:/Users/mooya/develop/test/src/Unit.js:1661:22)\n    at Unit.migrate (C:/Users/mooya/develop/test/src/Unit.js:1638:14)\n    at C:/Users/mooya/develop/test/src/tests/MigrationImprovement.test.js:128:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Migration Improvements"],"fullName":"Migration Improvements should stop migrating if construction succeeds","status":"failed","title":"should stop migrating if construction succeeds","duration":5.448499999999967,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.findBestPlaceToMigrate (C:/Users/mooya/develop/test/src/Unit.js:1661:22)\n    at Unit.migrate (C:/Users/mooya/develop/test/src/Unit.js:1638:14)\n    at C:/Users/mooya/develop/test/src/tests/MigrationImprovement.test.js:156:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Migration Improvements"],"fullName":"Migration Improvements DEBUG: should log blockage reasons correctly","status":"passed","title":"DEBUG: should log blockage reasons correctly","duration":3.7159999999998945,"failureMessages":[],"meta":{}}],"startTime":1768325066251,"endTime":1768325066319.716,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MigrationImprovement.test.js"},{"assertionResults":[{"ancestorTitles":["Minimal Test"],"fullName":"Minimal Test should pass","status":"passed","title":"should pass","duration":1.196299999999951,"failureMessages":[],"meta":{}}],"startTime":1768325079088,"endTime":1768325079089.1963,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Minimal.test.js"},{"assertionResults":[{"ancestorTitles":["Minimal Unit Sanity"],"fullName":"Minimal Unit Sanity can instantiate Unit","status":"passed","title":"can instantiate Unit","duration":3.0106000000000677,"failureMessages":[],"meta":{}}],"startTime":1768325078905,"endTime":1768325078908.0105,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MinimalUnit.test.js"},{"assertionResults":[{"ancestorTitles":["Terrain Movement and Logic Tests"],"fullName":"Terrain Movement and Logic Tests should set very long moveDuration for Unit on Rock","status":"passed","title":"should set very long moveDuration for Unit on Rock","duration":9.457300000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Movement and Logic Tests"],"fullName":"Terrain Movement and Logic Tests should set normal moveDuration on Flat","status":"passed","title":"should set normal moveDuration on Flat","duration":3.460700000000088,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Movement and Logic Tests"],"fullName":"Terrain Movement and Logic Tests should prevent Unit from moving/building on Rock checks?","status":"passed","title":"should prevent Unit from moving/building on Rock checks?","duration":10.611099999999851,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Movement and Logic Tests"],"fullName":"Terrain Movement and Logic Tests should increase Goblin Hut population and spawn goblin","status":"passed","title":"should increase Goblin Hut population and spawn goblin","duration":15.769900000000007,"failureMessages":[],"meta":{}}],"startTime":1768325074782,"endTime":1768325074821.77,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Movement.test.js"},{"assertionResults":[{"ancestorTitles":["Movement Execution under Pressure"],"fullName":"Movement Execution under Pressure should WAIT (return false) when pathfinding is throttled","status":"passed","title":"should WAIT (return false) when pathfinding is throttled","duration":8.56730000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Movement Execution under Pressure"],"fullName":"Movement Execution under Pressure should WAIT (return false) when pathfinding budget is exhausted","status":"passed","title":"should WAIT (return false) when pathfinding budget is exhausted","duration":2.31049999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["Movement Execution under Pressure"],"fullName":"Movement Execution under Pressure should immediately trigger movement in JobState if currently idle","status":"passed","title":"should immediately trigger movement in JobState if currently idle","duration":8.520599999999831,"failureMessages":[],"meta":{}}],"startTime":1768325076206,"endTime":1768325076226.5205,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MovementExecution.test.js"},{"assertionResults":[{"ancestorTitles":["Actor Movement Reset"],"fullName":"Actor Movement Reset should NOT reset movement timer when calling smartMove frequently for the same target","status":"passed","title":"should NOT reset movement timer when calling smartMove frequently for the same target","duration":4.399600000000191,"failureMessages":[],"meta":{}},{"ancestorTitles":["Actor Movement Reset"],"fullName":"Actor Movement Reset should progress visually even with frequent smartMove calls","status":"failed","title":"should progress visually even with frequent smartMove calls","duration":13.748699999999872,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Actor.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at C:/Users/mooya/develop/test/src/tests/MovementReset.test.js:56:15\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)"],"meta":{}}],"startTime":1768325069287,"endTime":1768325069305.7488,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MovementReset.test.js"},{"assertionResults":[{"ancestorTitles":["Moving Flicker Check"],"fullName":"Moving Flicker Check should NOT flicker to Idle while moving to a distant job","status":"passed","title":"should NOT flicker to Idle while moving to a distant job","duration":1063.7016999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Moving Flicker Check"],"fullName":"Moving Flicker Check should reproduce flicker when pathfinding budget is exhausted","status":"passed","title":"should reproduce flicker when pathfinding budget is exhausted","duration":121.91090000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Moving Flicker Check"],"fullName":"Moving Flicker Check should NOT drop manual job if temporarily blocked mid-move","status":"passed","title":"should NOT drop manual job if temporarily blocked mid-move","duration":171.51130000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Moving Flicker Check"],"fullName":"Moving Flicker Check should resume job after combat interruption","status":"passed","title":"should resume job after combat interruption","duration":67.71820000000025,"failureMessages":[],"meta":{}}],"startTime":1768325070534,"endTime":1768325071959.7183,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MovingFlicker.test.js"},{"assertionResults":[{"ancestorTitles":["Multi-Job Juggling Verification"],"fullName":"Multi-Job Juggling Verification should NOT interrupt busy units when a new job is added","status":"passed","title":"should NOT interrupt busy units when a new job is added","duration":1117.8097,"failureMessages":[],"meta":{}}],"startTime":1768325070518,"endTime":1768325071635.8098,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/MultiJob.test.js"},{"assertionResults":[{"ancestorTitles":["Night Loading Job Assignment"],"fullName":"Night Loading Job Assignment should correctly resume manual job when loaded at night","status":"passed","title":"should correctly resume manual job when loaded at night","duration":527.1417000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Night Loading Job Assignment"],"fullName":"Night Loading Job Assignment should wake up unit if they were saved while sleeping but had a job assigned (manual)","status":"passed","title":"should wake up unit if they were saved while sleeping but had a job assigned (manual)","duration":447.68619999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["Night Loading Job Assignment"],"fullName":"Night Loading Job Assignment should treat legacy requests (missing isManual) as manual for specific types","status":"failed","title":"should treat legacy requests (missing isManual) as manual for specific types","duration":459.4825000000001,"failureMessages":["AssertionError: expected 'UnitWanderState' to be 'JobState' // Object.is equality\n    at C:/Users/mooya/develop/test/src/tests/NightLoadJob.test.js:356:51\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1768325066482,"endTime":1768325067917.4824,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/NightLoadJob.test.js"},{"assertionResults":[{"ancestorTitles":["Night Logic - Shelter Entry"],"fullName":"Night Logic - Shelter Entry Worker should engage pathfinding to House but is likely blocked","status":"passed","title":"Worker should engage pathfinding to House but is likely blocked","duration":12.706900000000132,"failureMessages":[],"meta":{}}],"startTime":1768325078122,"endTime":1768325078134.7068,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/NightLogic.test.js"},{"assertionResults":[{"ancestorTitles":["Night Manual Work Priority"],"fullName":"Night Manual Work Priority should continue MANUAL job when night falls","status":"failed","title":"should continue MANUAL job when night falls","duration":31.741700000000037,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/NightManualWork.test.js:60:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Night Manual Work Priority"],"fullName":"Night Manual Work Priority should release AUTO job when night falls","status":"failed","title":"should release AUTO job when night falls","duration":2.5812000000000808,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/NightManualWork.test.js:74:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Night Manual Work Priority"],"fullName":"Night Manual Work Priority should prefer MANUAL job over sleep in UnitWanderState at night","status":"failed","title":"should prefer MANUAL job over sleep in UnitWanderState at night","duration":27.13059999999996,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at UnitWanderState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:79:36)\n    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.js:1717:24)\n    at C:/Users/mooya/develop/test/src/tests/NightManualWork.test.js:92:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Night Manual Work Priority"],"fullName":"Night Manual Work Priority should go to sleep if only AUTO jobs available at night","status":"passed","title":"should go to sleep if only AUTO jobs available at night","duration":1.2950000000000728,"failureMessages":[],"meta":{}}],"startTime":1768325066271,"endTime":1768325066334.295,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/NightManualWork.test.js"},{"assertionResults":[{"ancestorTitles":["Night Movement and Sleep State"],"fullName":"Night Movement and Sleep State should transition from WanderState to SleepState at night","status":"passed","title":"should transition from WanderState to SleepState at night","duration":8.768499999999904,"failureMessages":[],"meta":{}},{"ancestorTitles":["Night Movement and Sleep State"],"fullName":"Night Movement and Sleep State should remain in SleepState if isNight persists","status":"passed","title":"should remain in SleepState if isNight persists","duration":1.8580999999999221,"failureMessages":[],"meta":{}},{"ancestorTitles":["Night Movement and Sleep State"],"fullName":"Night Movement and Sleep State should transition back to WanderState when it becomes day","status":"passed","title":"should transition back to WanderState when it becomes day","duration":1.3468000000000302,"failureMessages":[],"meta":{}},{"ancestorTitles":["Night Movement and Sleep State"],"fullName":"Night Movement and Sleep State should move towards shelter when in SleepState","status":"passed","title":"should move towards shelter when in SleepState","duration":5.042999999999893,"failureMessages":[],"meta":{}}],"startTime":1768325076372,"endTime":1768325076389.043,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/NightMovement.test.js"},{"assertionResults":[{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should initialize with correct default values","status":"passed","title":"should initialize with correct default values","duration":3.860200000000077,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should enable and disable correctly","status":"passed","title":"should enable and disable correctly","duration":15.142200000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should toggle state","status":"passed","title":"should toggle state","duration":3.651100000000042,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should measure update time","status":"passed","title":"should measure update time","duration":2.085700000000088,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should measure render time","status":"passed","title":"should measure render time","duration":1.6467000000000098,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should update entity counts","status":"passed","title":"should update entity counts","duration":0.49080000000003565,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should measure FPS over time","status":"passed","title":"should measure FPS over time","duration":0.699100000000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should add data to history","status":"passed","title":"should add data to history","duration":2.060599999999795,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should limit history length","status":"passed","title":"should limit history length","duration":1.454200000000128,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should get stats correctly","status":"passed","title":"should get stats correctly","duration":0.8669999999999618,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should reset stats","status":"passed","title":"should reset stats","duration":1,"failureMessages":[],"meta":{}},{"ancestorTitles":["PerformanceMonitor"],"fullName":"PerformanceMonitor should update with game instance","status":"passed","title":"should update with game instance","duration":9.865000000000009,"failureMessages":[],"meta":{}}],"startTime":1768325074150,"endTime":1768325074192.865,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/PerformanceMonitor.test.js"},{"assertionResults":[{"ancestorTitles":["Real Terrain Restoration Logic"],"fullName":"Real Terrain Restoration Logic should successfully restore Terrain regions and Unit pathfinding","status":"failed","title":"should successfully restore Terrain regions and Unit pathfinding","duration":34.17900000000009,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/RealTerrainRestoration.test.js:196:16\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}}],"startTime":1768325067865,"endTime":1768325067899.179,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/RealTerrainRestoration.test.js"},{"assertionResults":[{"ancestorTitles":["Refuse Distraction"],"fullName":"Refuse Distraction should prioritize MANUAL move marker over autonomous HOUSE BUILDING","status":"passed","title":"should prioritize MANUAL move marker over autonomous HOUSE BUILDING","duration":838.0288999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Refuse Distraction"],"fullName":"Refuse Distraction should NOT Switch to a better Auto-Job if Manual Job is active","status":"passed","title":"should NOT Switch to a better Auto-Job if Manual Job is active","duration":591.4297000000001,"failureMessages":[],"meta":{}}],"startTime":1768325070450,"endTime":1768325071879.4297,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/RefuseDistraction.test.js"},{"assertionResults":[{"ancestorTitles":["Jitabata Bug Reproduction (Interrupt Loop)"],"fullName":"Jitabata Bug Reproduction (Interrupt Loop) should NOT trigger Jitabata (Stop-and-Go) when a distant Raid Point appears during Migration","status":"passed","title":"should NOT trigger Jitabata (Stop-and-Go) when a distant Raid Point appears during Migration","duration":11.675500000000056,"failureMessages":[],"meta":{}}],"startTime":1768325078363,"endTime":1768325078374.6755,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ReproductionJitabata.test.js"},{"assertionResults":[{"ancestorTitles":["Game Request Lifecycle"],"fullName":"Game Request Lifecycle should tag new requests with createdAt timestamp","status":"passed","title":"should tag new requests with createdAt timestamp","duration":523.3802999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Game Request Lifecycle"],"fullName":"Game Request Lifecycle should cleanup expired pending requests","status":"passed","title":"should cleanup expired pending requests","duration":460.02300000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Game Request Lifecycle"],"fullName":"Game Request Lifecycle should NOT cleanup assigned requests even if old","status":"passed","title":"should NOT cleanup assigned requests even if old","duration":542.0063,"failureMessages":[],"meta":{}},{"ancestorTitles":["Game Request Lifecycle"],"fullName":"Game Request Lifecycle should cancel request via Proximity Search","status":"passed","title":"should cancel request via Proximity Search","duration":556.2505999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Game Request Lifecycle"],"fullName":"Game Request Lifecycle should prioritize nearest request when cancelling","status":"passed","title":"should prioritize nearest request when cancelling","duration":333.8640999999998,"failureMessages":[],"meta":{}}],"startTime":1768325069636,"endTime":1768325072051.864,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/RequestLifecycle.test.js"},{"assertionResults":[{"ancestorTitles":["Rubber-banding and Chaining Verification"],"fullName":"Rubber-banding and Chaining Verification should NOT snap back when arriving at a job during mid-move","status":"passed","title":"should NOT snap back when arriving at a job during mid-move","duration":10.294099999999844,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rubber-banding and Chaining Verification"],"fullName":"Rubber-banding and Chaining Verification should use visual position for chaining the next job","status":"passed","title":"should use visual position for chaining the next job","duration":8.961399999999912,"failureMessages":[],"meta":{}}],"startTime":1768325075863,"endTime":1768325075881.9614,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/RubberBanding.test.js"},{"assertionResults":[{"ancestorTitles":["Safe Population Zero"],"fullName":"Safe Population Zero should NOT destroy house when spawning unit resets population to 0","status":"passed","title":"should NOT destroy house when spawning unit resets population to 0","duration":231.9674,"failureMessages":[],"meta":{}}],"startTime":1768325072941,"endTime":1768325073172.9673,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SafeSpawn.test.js"},{"assertionResults":[{"ancestorTitles":["Save/Load System"],"fullName":"Save/Load System should save game data correctly","status":"failed","title":"should save game data correctly","duration":1443.9894,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/SaveLoad.test.js:91:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Save/Load System"],"fullName":"Save/Load System should load game data correctly","status":"failed","title":"should load game data correctly","duration":1553.7829000000006,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/SaveLoad.test.js:91:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Save/Load System"],"fullName":"Save/Load System should restore request markers with correct renderOrder","status":"failed","title":"should restore request markers with correct renderOrder","duration":1696.0117,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/SaveLoad.test.js:91:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325066484,"endTime":1768325071179.0117,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SaveLoad.test.js"},{"assertionResults":[{"ancestorTitles":["Comprehensive Save/Load Integration"],"fullName":"Comprehensive Save/Load Integration should maintain game continuity across save/load","status":"passed","title":"should maintain game continuity across save/load","duration":352.2647000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive Save/Load Integration"],"fullName":"Comprehensive Save/Load Integration should ignore unreachable jobs after load (IgnoredTarget Persistence)","status":"passed","title":"should ignore unreachable jobs after load (IgnoredTarget Persistence)","duration":311.26890000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive Save/Load Integration"],"fullName":"Comprehensive Save/Load Integration should expire goblin raid after load (Aggression Persistence)","status":"passed","title":"should expire goblin raid after load (Aggression Persistence)","duration":308.9213999999997,"failureMessages":[],"meta":{}}],"startTime":1768325070638,"endTime":1768325071610.9214,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SaveLoadIntegration.test.js"},{"assertionResults":[{"ancestorTitles":["Save/Load Job Restoration"],"fullName":"Save/Load Job Restoration should restore unit ID and re-link to JobState correctly","status":"failed","title":"should restore unit ID and re-link to JobState correctly","duration":1361.5087,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/SaveLoadRestoration.test.js:80:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}},{"ancestorTitles":["Save/Load Job Restoration"],"fullName":"Save/Load Job Restoration should reset ghost-assigned requests during load","status":"failed","title":"should reset ghost-assigned requests during load","duration":1496.2449000000001,"failureMessages":["TypeError: this.unitRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:220:27)\n    at C:/Users/mooya/develop/test/src/tests/SaveLoadRestoration.test.js:80:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325066481,"endTime":1768325069339.2449,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SaveLoadRestoration.test.js"},{"assertionResults":[{"ancestorTitles":["Shoreline Loop Reproduction"],"fullName":"Shoreline Loop Reproduction should NOT target unrelated region goblin via findTargetGoblin","status":"passed","title":"should NOT target unrelated region goblin via findTargetGoblin","duration":7.561300000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["Shoreline Loop Reproduction"],"fullName":"Shoreline Loop Reproduction should NOT target land goblin when unit is in water (Region 0)","status":"passed","title":"should NOT target land goblin when unit is in water (Region 0)","duration":1.5505000000000564,"failureMessages":[],"meta":{}}],"startTime":1768325078565,"endTime":1768325078573.5505,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/ShorelineLoop.test.js"},{"assertionResults":[{"ancestorTitles":["Simple Region Connectivity"],"fullName":"Simple Region Connectivity should identify a single island","status":"passed","title":"should identify a single island","duration":418.3782000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Simple Region Connectivity"],"fullName":"Simple Region Connectivity should split two islands","status":"passed","title":"should split two islands","duration":316.6817000000001,"failureMessages":[],"meta":{}}],"startTime":1768325070654,"endTime":1768325071389.6816,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SimpleRegion.test.js"},{"assertionResults":[{"ancestorTitles":["Spatial Partitioning"],"fullName":"Spatial Partitioning should register and retrieve an entity","status":"passed","title":"should register and retrieve an entity","duration":1309.6788999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spatial Partitioning"],"fullName":"Spatial Partitioning should move entity correctly between cells","status":"passed","title":"should move entity correctly between cells","duration":1600.6153000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spatial Partitioning"],"fullName":"Spatial Partitioning should unregister entity","status":"passed","title":"should unregister entity","duration":1332.3272000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spatial Partitioning"],"fullName":"Spatial Partitioning should find nearest entity using spatial search","status":"passed","title":"should find nearest entity using spatial search","duration":1462.2813999999998,"failureMessages":[],"meta":{}}],"startTime":1768325069344,"endTime":1768325075049.2815,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SpatialSearch.test.js"},{"assertionResults":[{"ancestorTitles":["Squad AI & Region Logic"],"fullName":"Squad AI & Region Logic should register a squad and assign valid ID","status":"passed","title":"should register a squad and assign valid ID","duration":4.8180999999999585,"failureMessages":[],"meta":{}},{"ancestorTitles":["Squad AI & Region Logic"],"fullName":"Squad AI & Region Logic should share targets among squad members","status":"passed","title":"should share targets among squad members","duration":7.863900000000058,"failureMessages":[],"meta":{}},{"ancestorTitles":["Squad AI & Region Logic"],"fullName":"Squad AI & Region Logic Regression: Migration Stagnation Fix (Knight)","status":"passed","title":"Regression: Migration Stagnation Fix (Knight)","duration":1.6865000000000236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Squad AI & Region Logic"],"fullName":"Squad AI & Region Logic Regression: Migration Stagnation Fix (Worker)","status":"passed","title":"Regression: Migration Stagnation Fix (Worker)","duration":3.412700000000086,"failureMessages":[],"meta":{}},{"ancestorTitles":["Squad AI & Region Logic"],"fullName":"Squad AI & Region Logic should allow cross-region movement if target is very close (Self Defense)","status":"passed","title":"should allow cross-region movement if target is very close (Self Defense)","duration":1.5153000000000247,"failureMessages":[],"meta":{}}],"startTime":1768325075693,"endTime":1768325075712.5154,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SquadAi.test.js"},{"assertionResults":[{"ancestorTitles":["Squad-Based Memory (Decoupled)"],"fullName":"Squad-Based Memory (Decoupled) should link manually spawned units to nearby barracks","status":"passed","title":"should link manually spawned units to nearby barracks","duration":1.3007000000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Squad-Based Memory (Decoupled)"],"fullName":"Squad-Based Memory (Decoupled) should report enemy immediately on hit","status":"passed","title":"should report enemy immediately on hit","duration":0.8486000000000331,"failureMessages":[],"meta":{}}],"startTime":1768325079056,"endTime":1768325079057.8486,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/SquadMemory.test.js"},{"assertionResults":[{"ancestorTitles":["Startup Crash Verification"],"fullName":"Startup Crash Verification UnitRenderer should initialize without null materials","status":"failed","title":"UnitRenderer should initialize without null materials","duration":8.819700000000012,"failureMessages":["AssertionError: expected undefined to be defined\n    at C:/Users/mooya/develop/test/src/tests/StartupCrash.test.js:34:35\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/mooya/develop/test/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:12)"],"meta":{}},{"ancestorTitles":["Startup Crash Verification"],"fullName":"Startup Crash Verification UnitRenderer update should not crash with active units","status":"passed","title":"UnitRenderer update should not crash with active units","duration":2.167500000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Startup Crash Verification"],"fullName":"Startup Crash Verification FaceMesh should be present if split logic is active","status":"passed","title":"FaceMesh should be present if split logic is active","duration":0.5641000000000531,"failureMessages":[],"meta":{}}],"startTime":1768325069043,"endTime":1768325069054.5642,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StartupCrash.test.js"},{"assertionResults":[{"ancestorTitles":["Large Scale Stress Testing (Phase 26)"],"fullName":"Large Scale Stress Testing (Phase 26) should handle 200 units and 50 goblins without crashing (Spawn Storm)","status":"failed","title":"should handle 200 units and 50 goblins without crashing (Spawn Storm)","duration":206.91830000000004,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at C:/Users/mooya/develop/test/src/tests/StressTest.test.js:173:27\n    at Array.forEach (<anonymous>)\n    at C:/Users/mooya/develop/test/src/tests/StressTest.test.js:170:28\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}},{"ancestorTitles":["Large Scale Stress Testing (Phase 26)"],"fullName":"Large Scale Stress Testing (Phase 26) should complete a 60-second simulation with 100 colliding entities (Chaos Test)","status":"passed","title":"should complete a 60-second simulation with 100 colliding entities (Chaos Test)","duration":116.3406,"failureMessages":[],"meta":{}}],"startTime":1768325066484,"endTime":1768325066807.3406,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StressTest.test.js"},{"assertionResults":[{"ancestorTitles":["Stuck and Frozen Fix Verification"],"fullName":"Stuck and Frozen Fix Verification JobState.enter should call smartMove with actor.simTime, not 0","status":"passed","title":"JobState.enter should call smartMove with actor.simTime, not 0","duration":7.591000000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stuck and Frozen Fix Verification"],"fullName":"Stuck and Frozen Fix Verification JobState.enter should fallback to 0 only if simTime is missing","status":"passed","title":"JobState.enter should fallback to 0 only if simTime is missing","duration":0.944400000000087,"failureMessages":[],"meta":{}}],"startTime":1768325078396,"endTime":1768325078404.9443,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StuckAndFrozen.test.js"},{"assertionResults":[{"ancestorTitles":["Stuck and Marker Debugging"],"fullName":"Stuck and Marker Debugging should move IMMEDIATELY when assigned a job (no 3s delay)","status":"failed","title":"should move IMMEDIATELY when assigned a job (no 3s delay)","duration":34.68550000000005,"failureMessages":["TypeError: this.buildingRenderer.init is not a function\n    at new Game (C:/Users/mooya/develop/test/src/Game.js:222:31)\n    at C:/Users/mooya/develop/test/src/tests/StuckAndMarker.test.js:274:16\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTest (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1642:26)"],"meta":{}}],"startTime":1768325068067,"endTime":1768325068101.6855,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StuckAndMarker.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Stuck Debugging"],"fullName":"Unit Stuck Debugging should log reason for blockage","status":"passed","title":"should log reason for blockage","duration":226.1681000000001,"failureMessages":[],"meta":{}}],"startTime":1768325072695,"endTime":1768325072921.1682,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StuckDebug.test.js"},{"assertionResults":[{"ancestorTitles":["Stuck/Throttled Job Reassignment"],"fullName":"Stuck/Throttled Job Reassignment should release job if throttled and not moving for 45s","status":"passed","title":"should release job if throttled and not moving for 45s","duration":118.65899999999988,"failureMessages":[],"meta":{}}],"startTime":1768325073249,"endTime":1768325073367.659,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/StuckReassignment.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Targeting Priority"],"fullName":"Unit Targeting Priority should prioritize Goblin if it is much closer than Building","status":"passed","title":"should prioritize Goblin if it is much closer than Building","duration":11.398099999999886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Targeting Priority"],"fullName":"Unit Targeting Priority should prioritize Building if distances are very close (Siege Mode)","status":"passed","title":"should prioritize Building if distances are very close (Siege Mode)","duration":4.860900000000129,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Targeting Priority"],"fullName":"Unit Targeting Priority should NOT auto-target distant Huts (Workers are passive)","status":"passed","title":"should NOT auto-target distant Huts (Workers are passive)","duration":3.746399999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Targeting Priority"],"fullName":"Unit Targeting Priority should auto-target CLOSE Huts for self-defense (Workers)","status":"passed","title":"should auto-target CLOSE Huts for self-defense (Workers)","duration":2.6585999999999785,"failureMessages":[],"meta":{}}],"startTime":1768325076735,"endTime":1768325076758.6587,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/TargetingPriority.test.js"},{"assertionResults":[{"ancestorTitles":["Terrain Logic","Population Update"],"fullName":"Terrain Logic Population Update should correctly sum housing population excluding farms","status":"passed","title":"should correctly sum housing population excluding farms","duration":1826.9905999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Population Update"],"fullName":"Terrain Logic Population Update should handle massive population overflow loop correctly","status":"passed","title":"should handle massive population overflow loop correctly","duration":1516.2501000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Farm Logic"],"fullName":"Terrain Logic Farm Logic should grow crops using simDeltaTime (Not raw deltaTime)","status":"passed","title":"should grow crops using simDeltaTime (Not raw deltaTime)","duration":1386.7699000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Farm Logic"],"fullName":"Terrain Logic Farm Logic should preserve overflow when harvesting","status":"passed","title":"should preserve overflow when harvesting","duration":1561.2187999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Advanced Mechanics"],"fullName":"Terrain Logic Advanced Mechanics should scale farm yield based on moisture","status":"passed","title":"should scale farm yield based on moisture","duration":1531.2879999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Advanced Mechanics"],"fullName":"Terrain Logic Advanced Mechanics should reduce food consumption at night","status":"passed","title":"should reduce food consumption at night","duration":1450.3899000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Advanced Mechanics"],"fullName":"Terrain Logic Advanced Mechanics should consume normal amount during day","status":"passed","title":"should consume normal amount during day","duration":850.1430999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Advanced Mechanics","Seasonal Colors"],"fullName":"Terrain Logic Advanced Mechanics Seasonal Colors should return different colors for seasons","status":"passed","title":"should return different colors for seasons","duration":726.6090999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Terrain Logic","Advanced Mechanics","Seasonal Colors"],"fullName":"Terrain Logic Advanced Mechanics Seasonal Colors should keep rock color even if dry (desert override check)","status":"passed","title":"should keep rock color even if dry (desert override check)","duration":817.194300000001,"failureMessages":[],"meta":{}}],"startTime":1768325069257,"endTime":1768325080925.1943,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Terrain.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Logic","Resource Gathering"],"fullName":"Unit Logic Resource Gathering should gather fish if checking neighbors finds water","status":"passed","title":"should gather fish if checking neighbors finds water","duration":9.37279999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Resource Gathering"],"fullName":"Unit Logic Resource Gathering should NOT gather fish if completely inland","status":"passed","title":"should NOT gather fish if completely inland","duration":4.731200000000172,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Build Priority (Famine)"],"fullName":"Unit Logic Build Priority (Famine) should prioritize Farm and ABORT house if farm fails during famine","status":"passed","title":"should prioritize Farm and ABORT house if farm fails during famine","duration":13.759000000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Build Priority (Famine)"],"fullName":"Unit Logic Build Priority (Famine) should fallback to House if NOT in famine","status":"passed","title":"should fallback to House if NOT in famine","duration":6.9525000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Advanced Mechanics - Unit"],"fullName":"Unit Logic Advanced Mechanics - Unit should accept role in constructor","status":"passed","title":"should accept role in constructor","duration":3.1343000000001666,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Advanced Mechanics - Unit"],"fullName":"Unit Logic Advanced Mechanics - Unit should FAIL buildFarm and IMPROVE LAND if moisture is poor","status":"passed","title":"should FAIL buildFarm and IMPROVE LAND if moisture is poor","duration":3.7206999999998516,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Advanced Mechanics - Unit"],"fullName":"Unit Logic Advanced Mechanics - Unit should succeed buildFarm if moisture is optimal","status":"passed","title":"should succeed buildFarm if moisture is optimal","duration":2.4187999999999192,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Logic","Advanced Mechanics - Unit"],"fullName":"Unit Logic Advanced Mechanics - Unit should check heights during moveRandomly","status":"passed","title":"should check heights during moveRandomly","duration":2.293100000000095,"failureMessages":[],"meta":{}}],"startTime":1768325074466,"endTime":1768325074514.2932,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/Unit.test.js"},{"assertionResults":[{"ancestorTitles":["Unit AI Search Optimization"],"fullName":"Unit AI Search Optimization should use Spatial Search to find goblin","status":"passed","title":"should use Spatial Search to find goblin","duration":11.954799999999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit AI Search Optimization"],"fullName":"Unit AI Search Optimization should find Base using Spatial Search","status":"passed","title":"should find Base using Spatial Search","duration":3.35979999999995,"failureMessages":[],"meta":{}}],"startTime":1768325076930,"endTime":1768325076945.3599,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitAISearch.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Patrol for Knight/Wizard when idle","status":"passed","title":"should return Patrol for Knight/Wizard when idle","duration":8.2029,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Wander for Worker when idle","status":"passed","title":"should return Wander for Worker when idle","duration":1.173799999999801,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Combat when targetGoblin is set","status":"passed","title":"should return Combat when targetGoblin is set","duration":2.1877999999999247,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Siege when targetBuilding is set","status":"passed","title":"should return Siege when targetBuilding is set","duration":2.571100000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Working when targetRequest is set","status":"passed","title":"should return Working when targetRequest is set","duration":3.3776000000000295,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Patrolling with coords when targetRaidPoint is set","status":"passed","title":"should return Patrolling with coords when targetRaidPoint is set","duration":1.674099999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should return Wander for Migrating if action is Migrating but state is Wander","status":"passed","title":"should return Wander for Migrating if action is Migrating but state is Wander","duration":1.0072999999999865,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Behavior Mode"],"fullName":"Unit Behavior Mode should prioritize Combat mode when in CombatState","status":"passed","title":"should prioritize Combat mode when in CombatState","duration":0.7208000000000538,"failureMessages":[],"meta":{}}],"startTime":1768325075262,"endTime":1768325075282.7207,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitBehavior.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Initialization and Movement Start"],"fullName":"Unit Initialization and Movement Start should NOT freeze if started at time 0","status":"failed","title":"should NOT freeze if started at time 0","duration":49.4855,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at Unit.moveRandomly (C:/Users/mooya/develop/test/src/Unit.js:1574:18)\n    at UnitWanderState.update (C:/Users/mooya/develop/test/src/ai/states/State.js:72:24)\n    at UnitWanderState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:181:15)\n    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.js:1717:24)\n    at C:/Users/mooya/develop/test/src/tests/UnitInit.test.js:45:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)"],"meta":{}}],"startTime":1768325066259,"endTime":1768325066308.4856,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitInit.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Lifecycle and Aging"],"fullName":"Unit Lifecycle and Aging should initialize with age 20","status":"passed","title":"should initialize with age 20","duration":6.988200000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Lifecycle and Aging"],"fullName":"Unit Lifecycle and Aging should increment age when updateLogic is called","status":"passed","title":"should increment age when updateLogic is called","duration":2.8904999999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Lifecycle and Aging"],"fullName":"Unit Lifecycle and Aging should die when age exceeds lifespan","status":"passed","title":"should die when age exceeds lifespan","duration":1.1648000000000138,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Lifecycle and Aging"],"fullName":"Unit Lifecycle and Aging should age slower for Knights and Wizards (0.02 rate)","status":"passed","title":"should age slower for Knights and Wizards (0.02 rate)","duration":3.4705999999998767,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Lifecycle and Aging"],"fullName":"Unit Lifecycle and Aging should have longer lifespan for Special units","status":"passed","title":"should have longer lifespan for Special units","duration":1.1692000000000462,"failureMessages":[],"meta":{}}],"startTime":1768325076976,"endTime":1768325076992.1692,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitLifecycle.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Migration Logic"],"fullName":"Unit Migration Logic should return true on successful build","status":"passed","title":"should return true on successful build","duration":10.137300000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Migration Logic"],"fullName":"Unit Migration Logic should increment stagnation on failed build","status":"passed","title":"should increment stagnation on failed build","duration":3.889799999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Migration Logic"],"fullName":"Unit Migration Logic should migrate after 20 seconds of stagnation","status":"passed","title":"should migrate after 20 seconds of stagnation","duration":3.201699999999846,"failureMessages":[],"meta":{}}],"startTime":1768325076692,"endTime":1768325076709.2017,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitMigration.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Performance Optimization"],"fullName":"Unit Performance Optimization should throttle checkSelfDefense based on ID and Frame","status":"passed","title":"should throttle checkSelfDefense based on ID and Frame","duration":12.660599999999931,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Performance Optimization"],"fullName":"Unit Performance Optimization should skip searchSurroundings for busy workers","status":"passed","title":"should skip searchSurroundings for busy workers","duration":1.6172999999998865,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Performance Optimization"],"fullName":"Unit Performance Optimization should throttle searchSurroundings for idle units","status":"passed","title":"should throttle searchSurroundings for idle units","duration":1.3285000000000764,"failureMessages":[],"meta":{}}],"startTime":1768325077313,"endTime":1768325077329.3286,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitPerformance.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Snatching and Race Conditions"],"fullName":"Unit Snatching and Race Conditions should stop and wander if another unit snatches its job","status":"passed","title":"should stop and wander if another unit snatches its job","duration":11.237499999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Snatching and Race Conditions"],"fullName":"Unit Snatching and Race Conditions should stop if the job is completed by someone else","status":"passed","title":"should stop if the job is completed by someone else","duration":1.9993999999999232,"failureMessages":[],"meta":{}}],"startTime":1768325078020,"endTime":1768325078033.9995,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitSnatch.test.js"},{"assertionResults":[{"ancestorTitles":["Unit AI Stress Testing"],"fullName":"Unit AI Stress Testing should handle 100 units starting distant jobs simultaneously without dropping tasks","status":"passed","title":"should handle 100 units starting distant jobs simultaneously without dropping tasks","duration":280.1562000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit AI Stress Testing"],"fullName":"Unit AI Stress Testing should eventually reach target even with extreme congestion (low budget)","status":"failed","title":"should eventually reach target even with extreme congestion (low budget)","duration":91.32089999999994,"failureMessages":["TypeError: this.terrain.findBestTarget is not a function\n    at Unit.checkSelfDefense (C:/Users/mooya/develop/test/src/Unit.js:657:46)\n    at JobState.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:299:59)\n    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.js:1717:24)\n    at C:/Users/mooya/develop/test/src/tests/UnitStress.test.js:147:19\n    at Array.forEach (<anonymous>)\n    at C:/Users/mooya/develop/test/src/tests/UnitStress.test.js:129:19\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)"],"meta":{}}],"startTime":1768325066482,"endTime":1768325066854.3208,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitStress.test.js"},{"assertionResults":[{"ancestorTitles":["UnitRenderer Visibility"],"fullName":"UnitRenderer Visibility should set matrix with valid scale when unit is visible","status":"failed","title":"should set matrix with valid scale when unit is visible","duration":11.355999999999995,"failureMessages":["Error: The vi.spyOn() function could not find an object to spy upon. The first argument must be defined.\n    at assert (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:232:9)\n    at Object.spyOn (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:150:2)\n    at C:/Users/mooya/develop/test/src/tests/UnitVisibility.test.js:50:12\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}},{"ancestorTitles":["UnitRenderer Visibility"],"fullName":"UnitRenderer Visibility should render correct count of instances","status":"failed","title":"should render correct count of instances","duration":2.718900000000076,"failureMessages":["Error: The vi.spyOn() function could not find an object to spy upon. The first argument must be defined.\n    at assert (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:232:9)\n    at Object.spyOn (file:///C:/Users/mooya/develop/test/node_modules/@vitest/spy/dist/index.js:150:2)\n    at C:/Users/mooya/develop/test/src/tests/UnitVisibility.test.js:50:12\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)\n    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}}],"startTime":1768325069296,"endTime":1768325069310.719,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitVisibility.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Movement Wrapping"],"fullName":"Unit Movement Wrapping should move normally for short distances","status":"passed","title":"should move normally for short distances","duration":11.751199999999926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Movement Wrapping"],"fullName":"Unit Movement Wrapping should wrap LEFT if target is across right boundary","status":"passed","title":"should wrap LEFT if target is across right boundary","duration":3.8881000000001222,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Movement Wrapping"],"fullName":"Unit Movement Wrapping should wrap RIGHT if target is across left boundary","status":"passed","title":"should wrap RIGHT if target is across left boundary","duration":4.975800000000163,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Movement Wrapping"],"fullName":"Unit Movement Wrapping should handle Z axis wrapping","status":"passed","title":"should handle Z axis wrapping","duration":4.546100000000024,"failureMessages":[],"meta":{}}],"startTime":1768325076443,"endTime":1768325076468.5461,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/UnitWrapping.test.js"},{"assertionResults":[{"ancestorTitles":["Wander Behavior Verification"],"fullName":"Wander Behavior Verification UnitWanderState should trigger moveRandomly after interval","status":"passed","title":"UnitWanderState should trigger moveRandomly after interval","duration":6.616899999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Wander Behavior Verification"],"fullName":"Wander Behavior Verification GoblinWanderState should also wander and scan for targets","status":"passed","title":"GoblinWanderState should also wander and scan for targets","duration":1.0935000000001764,"failureMessages":[],"meta":{}}],"startTime":1768325078543,"endTime":1768325078551.0935,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WanderBehavior.test.js"},{"assertionResults":[{"ancestorTitles":["Worker Distraction Investigation"],"fullName":"Worker Distraction Investigation should immediately switch to JobState and target the job upon assignment","status":"passed","title":"should immediately switch to JobState and target the job upon assignment","duration":12.9067,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Distraction Investigation"],"fullName":"Worker Distraction Investigation should NOT be distracted by WanderState updates during Job","status":"passed","title":"should NOT be distracted by WanderState updates during Job","duration":12.728200000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Distraction Investigation"],"fullName":"Worker Distraction Investigation should not freeze due to throttle at low game time","status":"passed","title":"should not freeze due to throttle at low game time","duration":2.9416000000001077,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Distraction Investigation"],"fullName":"Worker Distraction Investigation should NOT Ping-Pong between two manual requests","status":"passed","title":"should NOT Ping-Pong between two manual requests","duration":1.9676999999999225,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Distraction Investigation"],"fullName":"Worker Distraction Investigation should NOT build a house immediately if pathfinding fails temporarily","status":"passed","title":"should NOT build a house immediately if pathfinding fails temporarily","duration":16.1721,"failureMessages":[],"meta":{}}],"startTime":1768325073955,"endTime":1768325074002.172,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WorkerDistraction.test.js"},{"assertionResults":[{"ancestorTitles":["Worker Diversity Spawning"],"fullName":"Worker Diversity Spawning should spawn diverse roles (Worker/Hunter/Fisher) from a House","status":"passed","title":"should spawn diverse roles (Worker/Hunter/Fisher) from a House","duration":15.71770000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Diversity Spawning"],"fullName":"Worker Diversity Spawning should spawn Knights from Barracks","status":"passed","title":"should spawn Knights from Barracks","duration":1.3009999999999309,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Diversity Spawning"],"fullName":"Worker Diversity Spawning should spawn Wizards from Towers","status":"passed","title":"should spawn Wizards from Towers","duration":1.0599999999999454,"failureMessages":[],"meta":{}}],"startTime":1768325076684,"endTime":1768325076702.06,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WorkerDiversity.test.js"},{"assertionResults":[{"ancestorTitles":["Worker Job Reachability"],"fullName":"Worker Job Reachability findBestRequest filters out unreachable jobs","status":"passed","title":"findBestRequest filters out unreachable jobs","duration":194.26040000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Job Reachability"],"fullName":"Worker Job Reachability forceAssignRequest skips unreachable units","status":"passed","title":"forceAssignRequest skips unreachable units","duration":12.21309999999994,"failureMessages":[],"meta":{}}],"startTime":1768325072852,"endTime":1768325073059.2131,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WorkerReachability.test.js"},{"assertionResults":[{"ancestorTitles":["Worker Job Logic (Unit.js + States)"],"fullName":"Worker Job Logic (Unit.js + States) Unit finds and claims request when idle","status":"passed","title":"Unit finds and claims request when idle","duration":9.742099999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Job Logic (Unit.js + States)"],"fullName":"Worker Job Logic (Unit.js + States) Unit moves to target request","status":"passed","title":"Unit moves to target request","duration":3.0318999999999505,"failureMessages":[],"meta":{}},{"ancestorTitles":["Worker Job Logic (Unit.js + States)"],"fullName":"Worker Job Logic (Unit.js + States) Unit completes request upon arrival","status":"failed","title":"Unit completes request upon arrival","duration":33.21389999999997,"failureMessages":["TypeError: this.terrain.findPathAsync is not a function\n    at Unit.smartMove (C:/Users/mooya/develop/test/src/Actor.js:188:34)\n    at JobState.enter (C:/Users/mooya/develop/test/src/ai/states/UnitStates.js:227:24)\n    at Unit.changeState (C:/Users/mooya/develop/test/src/Actor.js:35:24)\n    at C:/Users/mooya/develop/test/src/tests/WorkerRequest.test.js:138:14\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1650:37"],"meta":{}}],"startTime":1768325067866,"endTime":1768325067912.2139,"status":"failed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WorkerRequest.test.js"},{"assertionResults":[{"ancestorTitles":["Unit Distance Wrap Logic"],"fullName":"Unit Distance Wrap Logic should calculate short distance across wrap (0,0 -> 79,0)","status":"passed","title":"should calculate short distance across wrap (0,0 -> 79,0)","duration":6.819000000000187,"failureMessages":[],"meta":{}},{"ancestorTitles":["Unit Distance Wrap Logic"],"fullName":"Unit Distance Wrap Logic should calculate diagonal wrap correctly (0,0 -> 79,79)","status":"passed","title":"should calculate diagonal wrap correctly (0,0 -> 79,79)","duration":1.3121000000001004,"failureMessages":[],"meta":{}}],"startTime":1768325078431,"endTime":1768325078439.312,"status":"passed","message":"","name":"C:/Users/mooya/develop/test/src/tests/WrapDistance.test.js"}]}