
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/GoblinEncounter.test.js
[DEBUG] Actor.ts loaded

stdout | src/tests/GoblinEncounter.test.js
[DEBUG] Goblin.ts loaded

stdout | src/tests/GoblinEncounter.test.js
[DEBUG] Building.ts loaded

stdout | src/tests/GoblinEncounter.test.js
[DEBUG] Terrain.ts top-level load

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should detect Worker within range and enter Combat
[Terrain] Constructor. updatePopulation type: function

stderr | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should detect Worker within range and enter Combat
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 200 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:117:24
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should detect Worker within range and enter Combat
[Entity 0] CONSTRUCTOR START: type=goblin at 20,20
[Entity 0] Calling registerEntity...
[Entity 0] registerEntity returned.
[Entity 0] Calling updatePosition...
[Entity 0] updatePosition returned.
[DIAG] Actor Created ID: 0
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[Actor 0] CHANGE STATE: None -> Wander Request:null 
[Entity 1] CONSTRUCTOR START: type=unit at 30,20
[Entity 1] Calling registerEntity...
[Entity 1] registerEntity returned.
[Entity 1] Calling updatePosition...
[Entity 1] updatePosition returned.
[DIAG] Actor Created ID: 1
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:0 Role:worker Pos:30,20 Special:false
[Unit 0] State Change: None -> Wander
[UnitCore.js] Unit Created ID:0 Role:worker Pos:30,20
[UnitCore.js] Unit Construction Finished ID:0
[Test Debug] Worker keys: id,scene,terrain,game,frameCount,gridX,gridZ,type,spatialType,position,rotationY,userData,isMoving,moveTimer,moveDuration,moveStartTime,startGridX,startGridZ,targetGridX,targetGridZ,walkAnimTimer,isDead,age,limbs,_spatial,path,pathIndex,stuckCount,stuckTimer,lastPos,pathFailCount,action,lastMoveLog,raidGoal,lifespan,isFinished,unreachableTimer,mesh,targetRequest,targetItem,heldItem,targetEntity,targetBuilding,hp,maxHp,damage,attackRate,attackCooldown,combatRange,isRanged,baseMoveDuration,lastPathTime,isPathfinding,isPathfindingThrottled,isUnreachable,isWaitingForPath,minDistToTarget,pathStagnation,pathRequestId,pathTargetX,pathTargetZ,pathRequestedTargetX,pathRequestedTargetZ,state,simTime,role,isSpecial,squadId,faction,lastJobResult,lastGridX,lastGridZ,stagnationTimer,buildStagnationCount,lastTime,lastGatherTime,lastHitTime,moveInterval,huntingCooldown,target,targetX,targetZ,wanderCount,migrationTarget,patrolTarget,patrolTimer,ignoredTargets,debugFrame,isSleeping,targetGoblin,targetUnit,targetRaidPoint,lastWaterLogTime,scanTimer,homeBase,residence,xp,crossMesh,level,name,lastPathAttempt,savedHomeBaseX,savedHomeBaseZ,savedTargetRequestId,migrationTimer,moisture,deathTimer
[GoblinState Debug] ID:100 Calling scanForTargets...
[Goblin 100] Found Unit Candidate: 200 Dist:? 
[Actor 100] Resetting Unreachable (Target changed or initializing)
[Actor 100] Pathfinding SUCCESS: Got 11 nodes to 30,20
[Entity 100] startMove -> isMoving:true. Target:21,20 StartTime:0.7000

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should prioritize Worker if Building is far, or attack Building if close
Disposing detached game instance

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should prioritize Worker if Building is far, or attack Building if close
[Terrain] Constructor. updatePopulation type: function

stderr | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should prioritize Worker if Building is far, or attack Building if close
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
[Unit Error] ID 201 in updateLogic: TypeError: window.game.findBestRequest is not a function
    at Wander.update (C:/Users/mooya/develop/test/src/ai/states/UnitStates.ts:93:46)
    at Unit.updateLogic (C:/Users/mooya/develop/test/src/Unit.ts:1841:32)
    at Unit.update (C:/Users/mooya/develop/test/src/Actor.ts:527:14)
    at Unit.update (C:/Users/mooya/develop/test/src/Unit.ts:1808:15)
    at C:/Users/mooya/develop/test/src/tests/GoblinEncounter.test.js:166:39
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should prioritize Worker if Building is far, or attack Building if close
[Entity 2] CONSTRUCTOR START: type=goblin at 20,20
[Entity 2] Calling registerEntity...
[Entity 2] registerEntity returned.
[Entity 2] Calling updatePosition...
[Entity 2] updatePosition returned.
[DIAG] Actor Created ID: 2
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[Entity 3] CONSTRUCTOR START: type=unit at 30,20
[Entity 3] Calling registerEntity...
[Entity 3] registerEntity returned.
[Entity 3] Calling updatePosition...
[Entity 3] updatePosition returned.
[DIAG] Actor Created ID: 3
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:1 Role:worker Pos:30,20 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:30,20
[UnitCore.js] Unit Construction Finished ID:1
[Goblin 101] Found Unit Candidate: 201 Dist:? 
[Actor 101] Resetting Unreachable (Target changed or initializing)
[Actor 101] Pathfinding SUCCESS: Got 11 nodes to 30,20
[Entity 101] startMove -> isMoving:true. Target:21,20 StartTime:0.7000

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should switch target to Worker if it encounters one while moving to a far Building
Disposing detached game instance

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should switch target to Worker if it encounters one while moving to a far Building
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should switch target to Worker if it encounters one while moving to a far Building
[Entity 4] CONSTRUCTOR START: type=goblin at 20,20
[Entity 4] Calling registerEntity...
[Entity 4] registerEntity returned.
[Entity 4] Calling updatePosition...
[Entity 4] updatePosition returned.
[DIAG] Actor Created ID: 4
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[Entity 5] CONSTRUCTOR START: type=unit at 25,20
[Entity 5] Calling registerEntity...
[Entity 5] registerEntity returned.
[Entity 5] Calling updatePosition...
[Entity 5] updatePosition returned.
[DIAG] Actor Created ID: 5
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:2 Role:worker Pos:25,20 Special:false
[UnitCore.js] Unit Created ID:2 Role:worker Pos:25,20
[UnitCore.js] Unit Construction Finished ID:2
[Goblin 102] Found Unit Candidate: 202 Dist:? 
[Actor 102] Resetting Unreachable (Target changed or initializing)

stdout | src/tests/GoblinEncounter.test.js > Goblin Encounter Logic > Goblin should switch target to Worker if it encounters one while moving to a far Building
[Actor 102] Pathfinding SUCCESS: Got 6 nodes to 25,20
[Entity 102] startMove -> isMoving:true. Target:21,20 StartTime:0.8000

 src/tests/GoblinEncounter.test.js (3 tests) 413ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  00:05:19
   Duration  1.62s (transform 330ms, setup 78ms, import 363ms, tests 413ms, environment 512ms)

