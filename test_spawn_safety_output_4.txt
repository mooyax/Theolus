
> test@0.0.0 test
> vitest src/tests/SafeSpawn.test.js


[1m[44m DEV [49m[22m [34mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ç¬¶ï½¯ src/Terrain.js:1:1
      1| import * as THREE from 'three';
       | ^
      2| 
      3| export class Terrain {

Caused by: ReferenceError: Object3D is not defined
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:38:29

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:41:51
[2m   Duration [22m 280ms[2m (transform 69ms, setup 0ms, import 0ms, tests 0ms, environment 0ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 89[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:42:19
[2m   Duration [22m 149ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 143[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:48:59
[2m   Duration [22m 418ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 302[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:46:48
[2m   Duration [22m 833ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx4 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 263[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:47:50
[2m   Duration [22m 779ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx5 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 343[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 340[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 22:40:34
[2m   Duration [22m 642ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx6 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 253[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 22:43:08
[2m   Duration [22m 589ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx7 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 302[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:00:14
[2m   Duration [22m 736ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx8 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 271[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:09:36
[2m   Duration [22m 389ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx9 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 375[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 371[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:41:02
[2m   Duration [22m 976ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx10 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 191[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:48:31
[2m   Duration [22m 387ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx11 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 880[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 876[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:04:58
[2m   Duration [22m 1.10s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx12 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 172[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:12:39
[2m   Duration [22m 512ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx13 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 155[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:17:47
[2m   Duration [22m 326ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx14 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 577[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 574[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:26:29
[2m   Duration [22m 1.04s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx15 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 177[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:42:21
[2m   Duration [22m 294ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx16 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 365[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 363[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:46:48
[2m   Duration [22m 917ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx17 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 125[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 01:03:51
[2m   Duration [22m 331ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx18 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 307[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 304[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:22:30
[2m   Duration [22m 889ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx19 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
RollupError: Parse failure: Expression expected
At file: /src/Terrain.js:566:10
  File: /src/Terrain.js:566:10
  576 |                  // Simple hash function for 0..1 range
  577 |                  const dot = lx * 12.9898 + lz * 78.233;
  578 |                  let hash = Math.sin(dot) * 43758.5453;
      |     ^
  579 |                  hash = hash - Math.floor(hash); // Fract
  580 |  
 ç¬¶ï½¯ getRollupError node_modules/rollup/dist/es/shared/parseAst.js:401:41
 ç¬¶ï½¯ convertProgram node_modules/rollup/dist/es/shared/parseAst.js:1098:26
 ç¬¶ï½¯ parseAstAsync node_modules/rollup/dist/es/shared/parseAst.js:2084:106
 ç¬¶ï½¯ ssrTransformScript node_modules/vite/dist/node/chunks/config.js:16031:9
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23347:64
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:23:14
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx20 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:23:50
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx21 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:24:33
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx22 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:25:04
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx23 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:26:42
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx24 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:29:07
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx25 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 308[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 305[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:31:18
[2m   Duration [22m 705ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx26 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 269[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 266[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:47:56
[2m   Duration [22m 897ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx27 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 151[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 147[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:08:55
[2m   Duration [22m 557ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx28 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 144[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 141[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:23:08
[2m   Duration [22m 386ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx29 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 225[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 223[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:37:10
[2m   Duration [22m 978ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx30 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 370[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 367[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:41:31
[2m   Duration [22m 524ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx31 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 338[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 335[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:43:02
[2m   Duration [22m 1.01s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx32 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 714[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 710[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 15:12:33
[2m   Duration [22m 1.45s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx33 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 402[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 399[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:628:27
    626| 
    627|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    628|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    629|             }
    630|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:363:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 18:54:18
[2m   Duration [22m 702ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx34 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:54:27
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx35 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:54:46
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx36 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:57:42
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx37 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:59:57
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx38 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 143[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 140[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:651:27
    649| 
    650|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    651|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    652|             }
    653|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:386:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:331:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:278:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 19:03:12
[2m   Duration [22m 860ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx39 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 294[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 291[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:655:27
    653| 
    654|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    655|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    656|             }
    657|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:390:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 19:14:27
[2m   Duration [22m 420ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx40 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 297[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 295[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:655:27
    653| 
    654|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    655|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    656|             }
    657|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:390:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:15:34
[2m   Duration [22m 1.37s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx41 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 12[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 10[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: __vi_import_0__.Terrain is not a constructor
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19
     67|         global.window = { game: { gameTotalTime: 0, units: [] } };
     68|         const scene = { add: () => { }, remove: () => { } };
     69|         terrain = new Terrain(scene, []);
       |                   ^
     70| 
     71|         house = {

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:28:29
[2m   Duration [22m 77ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx42 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[Terrain] Validating specific cell 5,5: H=6 R=1

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 482[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 480[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:661:27
    659| 
    660|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    661|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    662|             }
    663|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:396:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:28:31
[2m   Duration [22m 620ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx43 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 566[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 563[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
Error: DEBUG: Visited 5,5 with H=10 R=1 W=160 D=160
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:363:27
    361|                 if (x === 5 && z === 5) {
    362|                     // Throw to confirm visit
    363|                     throw new Error(`DEBUG: Visited 5,5 with H=${startçª¶ï½¦
       |                           ^
    364|                 }
    365| 
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:30:05
[2m   Duration [22m 960ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx44 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 592[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 587[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:656:27
    654| 
    655|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    656|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    657|             }
    658|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:391:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:35:07
[2m   Duration [22m 864ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
