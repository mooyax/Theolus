
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/Terrain.test.js
[DEBUG] Building.ts loaded

stdout | src/tests/Terrain.test.js
[DEBUG] Terrain.ts top-level load

stdout | src/tests/Terrain.test.js > Terrain Logic > Population Update > should correctly sum housing population excluding farms
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Population Update > should grow population in a house over time
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Population Update > should grow population in a house over time
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should grow crops using simDeltaTime (Not raw deltaTime)
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should grow crops using simDeltaTime (Not raw deltaTime)
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should preserve overflow when harvesting
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should preserve overflow when harvesting
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should scale farm yield based on moisture
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should scale farm yield based on moisture
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should reduce food consumption at night
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should reduce food consumption at night
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should consume normal amount during day
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should consume normal amount during day
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > Seasonal Colors > should return different colors for seasons
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > Seasonal Colors > should return different colors for seasons
[Terrain] Constructor. updatePopulation type: function

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > Seasonal Colors > should keep rock color even if dry (desert override check)
Disposing detached game instance

stdout | src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > Seasonal Colors > should keep rock color even if dry (desert override check)
[Terrain] Constructor. updatePopulation type: function

 笶ｯ src/tests/Terrain.test.js (9 tests | 4 failed) 1261ms
       笨・should correctly sum housing population excluding farms 145ms
       ﾃ・should grow population in a house over time 127ms
       ﾃ・should grow crops using simDeltaTime (Not raw deltaTime) 133ms
       ﾃ・should preserve overflow when harvesting 129ms
       ﾃ・should scale farm yield based on moisture 130ms
       笨・should reduce food consumption at night 168ms
       笨・should consume normal amount during day 128ms
         笨・should return different colors for seasons 148ms
         笨・should keep rock color even if dry (desert override check) 150ms

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ Failed Tests 4 竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ

 FAIL  src/tests/Terrain.test.js > Terrain Logic > Population Update > should grow population in a house over time
AssertionError: expected 5 to be 10 // Object.is equality

- Expected
+ Received

- 10
+ 5

 笶ｯ src/tests/Terrain.test.js:79:38
     77|             // Should have grown to capacity
     78|             expect(house.userData.population).toBeGreaterThan(2);
     79|             expect(house.population).toBe(10);
       |                                      ^
     80|         });
     81|     });

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[1/4]竡ｯ

 FAIL  src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should grow crops using simDeltaTime (Not raw deltaTime)
AssertionError: expected 0 to be greater than 0
 笶ｯ src/tests/Terrain.test.js:91:52
     89|             terrain.updatePopulation(rawDelta);
     90| 
     91|             expect(farm.userData.productionBuffer).toBeGreaterThan(0);
       |                                                    ^
     92|         });
     93| 

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[2/4]竡ｯ

 FAIL  src/tests/Terrain.test.js > Terrain Logic > Farm Logic > should preserve overflow when harvesting
AssertionError: expected +0 to be 4 // Object.is equality

- Expected
+ Received

- 4
+ 0

 笶ｯ src/tests/Terrain.test.js:102:46
    100|             terrain.updatePopulation(2.0, vi.fn(), false, 0);
    101| 
    102|             expect(mockGame.resources.grain).toBe(4); // Yield is 4
       |                                              ^
    103|             expect(farm.userData.population).toBeCloseTo(15, 0); // 11窶ｦ
    104|         });

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[3/4]竡ｯ

 FAIL  src/tests/Terrain.test.js > Terrain Logic > Advanced Mechanics > should scale farm yield based on moisture
AssertionError: expected +0 to be 4 // Object.is equality

- Expected
+ Received

- 4
+ 0

 笶ｯ src/tests/Terrain.test.js:124:46
    122| 
    123|             // Yield should happen
    124|             expect(mockGame.resources.grain).toBe(4);
       |                                              ^
    125|         });
    126| 

竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ竡ｯ[4/4]竡ｯ


 Test Files  1 failed (1)
      Tests  4 failed | 5 passed (9)
   Start at  12:03:22
   Duration  2.36s (transform 282ms, setup 104ms, import 289ms, tests 1.26s, environment 514ms)

