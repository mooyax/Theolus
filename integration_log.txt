npm warn Unknown cli config "--run". This will stop working in the next major version of npm.

> test@0.0.0 test
> vitest src/tests/ManualRequestIntegration.test.js


[1m[44m DEV [49m[22m [34mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 560[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 324[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should fail to find path if blocked by water[32m 235[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
TypeError: Cannot read properties of undefined (reading 'id')
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:92:36
     90|         // 3. Verify Assignment
     91|         expect(unit.currentRequest).not.toBeNull();
     92|         expect(unit.currentRequest.id).toBe(req.id);
       |                                    ^
     93|         expect(req.claimedBy).toBe(unit.id); // Should match numeric Içª¶ï½¦
     94|         // Note: Unit.id is usually number or string. Mock used 1.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:42:58
[2m   Duration [22m 1.77s[2m (transform 447ms, setup 278ms, import 305ms, tests 560ms, environment 436ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] smartMove received NaN target: undefined,undefined

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: undefined,undefined
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] smartMove received NaN target: undefined,undefined

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: undefined,undefined
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 870[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 448[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 419[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected null to be 1 // Object.is equality

- Expected: 
1

+ Received: 
null

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:100:31
     98|         expect(unit.targetRequest).toBeDefined();
     99|         // expect(unit.targetRequest.id).toBe(req.id); // Valid check
    100|         expect(req.claimedBy).toBe(unit.id);
       |                               ^
    101|         // Note: Unit.id is usually number or string. Mock used 1.
    102| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:44:31
[2m   Duration [22m 1.05s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] Worker Path Received! Length: 6 First: 5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] Worker Path Received! Length: 16 First: 5,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1016[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 526[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 487[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected null to be 1 // Object.is equality

- Expected: 
1

+ Received: 
null

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:100:31
     98|         expect(unit.targetRequest).toBeDefined();
     99|         // expect(unit.targetRequest.id).toBe(req.id); // Valid check
    100|         expect(req.claimedBy).toBe(unit.id);
       |                               ^
    101|         // Note: Unit.id is usually number or string. Mock used 1.
    102| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:44:59
[2m   Duration [22m 1.24s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1238[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 634[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 600[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected null to be 1 // Object.is equality

- Expected: 
1

+ Received: 
null

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:100:31
     98|         expect(unit.targetRequest).toBeDefined();
     99|         // expect(unit.targetRequest.id).toBe(req.id); // Valid check
    100|         expect(req.claimedBy).toBe(unit.id);
       |                               ^
    101|         // Note: Unit.id is usually number or string. Mock used 1.
    102| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:46:22
[2m   Duration [22m 1.56s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx4 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1388[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 751[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 635[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected null to be 1 // Object.is equality

- Expected: 
1

+ Received: 
null

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:103:31
    101|         expect(unit.targetRequest).toBeDefined();
    102|         // expect(unit.targetRequest.id).toBe(req.id); // Valid check
    103|         expect(req.claimedBy).toBe(unit.id);
       |                               ^
    104|         // Note: Unit.id is usually number or string. Mock used 1.
    105| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:48:43
[2m   Duration [22m 1.57s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx5 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1548[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 793[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 753[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected null not to be null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:114:31
    112|         // Check if path is calculated
    113|         // Since we verify integration, we expect path to be populatedçª¶ï½¦
    114|         expect(unit.path).not.toBeNull();
       |                               ^
    115|         expect(unit.path.length).toBeGreaterThan(0);
    116| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:50:30
[2m   Duration [22m 1.80s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx6 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1882[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 969[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 907[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
TypeError: Cannot read properties of null (reading 'length')
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:128:52
    126|         }
    127| 
    128|         console.log(`Unit Path Length: ${unit.path.length} First: ${unçª¶ï½¦
       |                                                    ^
    129| 
    130|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:52:49
[2m   Duration [22m 2.19s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx7 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2101[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1076[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1021[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 23:53:42
[2m   Duration [22m 2.45s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx8 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js [ src/tests/ManualRequestIntegration.test.js ]
Error: Transform failed with 1 error:
C:/Users/mooya/develop/test/src/Actor.ts:225:14: ERROR: Unexpected "else"
  Plugin: vite:esbuild
  File: C:/Users/mooya/develop/test/src/Actor.ts:225:14
  
  Unexpected "else"
  223 |                  }
  224 |              } else {
  225 |              } else {
      |                ^
  226 |                  const canMove = this.canMoveTo && this.canMoveTo(node.x, node.z);
  227 |                  if (canMove) {
  
 ç¬¶ï½¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 ç¬¶ï½¯ node_modules/esbuild/lib/main.js:736:50
 ç¬¶ï½¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 ç¬¶ï½¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 ç¬¶ï½¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 00:02:52
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx9 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js [ src/tests/ManualRequestIntegration.test.js ]
Error: Transform failed with 1 error:
C:/Users/mooya/develop/test/src/Actor.ts:251:7: ERROR: Expected identifier but found "!"
  Plugin: vite:esbuild
  File: C:/Users/mooya/develop/test/src/Actor.ts:251:7
  
  Expected identifier but found "!"
  249 |  
  250 |      // 2. Pathfinding Calculation
  251 |      if(!this.path || this.path.length === 0) {
      |         ^
  252 |      const dist = this.getDistance(tx, tz);
  253 |      if (dist > 4.0) {
  
 ç¬¶ï½¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 ç¬¶ï½¯ node_modules/esbuild/lib/main.js:736:50
 ç¬¶ï½¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 ç¬¶ï½¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 ç¬¶ï½¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 00:08:37
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx10 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job
stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5


 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2396[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1334[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1058[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:10:11
[2m   Duration [22m 3.20s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx11 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2656[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1197[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1454[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:11:42
[2m   Duration [22m 3.22s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Entity.ts [22m[34mx12 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2422[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1333[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1085[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:12:28
[2m   Duration [22m 3.01s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Entity.ts [22m[34mx13 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1553[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 862[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 689[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:19:23
[2m   Duration [22m 2.04s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Entity.ts [22m[34mx14 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2366[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1047[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1315[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:20:04
[2m   Duration [22m 3.07s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx15 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz) {
    let dx = Math.abs(this.gridX - tx);
    let dz = Math.abs(this.gridZ - tz)...

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Path is Null. isMoving: false isPathfinding: false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Actor 1] Path Mismatch! Dist: 5 Target: 10,5 PathEnd: 10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz) {
    let dx = Math.abs(this.gridX - tx);
    let dz = Math.abs(this.gridZ - tz)...

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2714[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1197[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should fail to find path if blocked by water [33m 1514[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
null
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:137:27
    135|         }
    136| 
    137|         expect(unit.path).toSatisfy(p => p && p.length > 0);
       |                           ^
    138| 
    139|         // 5. Simulate movement updates

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:21:26
[2m   Duration [22m 3.28s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Unit.ts [22m[34mx16 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Entity 1] getDistance args: tx=10 tz=5 ox=null oz=null
[Entity 1] getDistance args: tx=10 tz=5 ox=null oz=null

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz, ox = null, oz = null) {
    console.error(`[Entity ${this.id}] getDistance args:...

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[Entity 1] getDistance args: tx=10 tz=5 ox=10 oz=5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Entity 1] getDistance args: tx=10 tz=5 ox=null oz=null
[Entity 1] getDistance args: tx=10 tz=5 ox=null oz=null

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz, ox = null, oz = null) {
    console.error(`[Entity ${this.id}] getDistance args:...

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[Entity 1] getDistance args: tx=10 tz=5 ox=10 oz=5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1921[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1144[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 726[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148|         }
    149| 
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:175:31
    173| 
    174|             // Should have empty path or remain stuck
    175|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    176|         } else {
    177|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:22:26
[2m   Duration [22m 4.05s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Entity.ts [22m[34mx17 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz, ox = null, oz = null) {
    const sx = ox !== null ? ox : this.gridX;
    const ...

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] getDistance Source: getDistance(tx, tz, ox = null, oz = null) {
    const sx = ox !== null ? ox : this.gridX;
    const ...

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 3821[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 2216[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1601[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:175:31

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:23:13
[2m   Duration [22m 5.36s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx18 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job
stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5


 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1880[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1022[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 847[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148|         }
    149| 
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:175:31
    173| 
    174|             // Should have empty path or remain stuck
    175|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    176|         } else {
    177|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:23:23
[2m   Duration [22m 4.47s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx19 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 2049[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1375[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 667[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148|         }
    149| 
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:175:31
    173| 
    174|             // Should have empty path or remain stuck
    175|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    176|         } else {
    177|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:23:32
[2m   Duration [22m 5.86s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx20 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 2448[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1138[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1308[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:175:31
    173| 
    174|             // Should have empty path or remain stuck
    175|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    176|         } else {
    177|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:25:58
[2m   Duration [22m 3.36s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx21 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 6201[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 2701[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 2157[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1340[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:27:10
[2m   Duration [22m 8.22s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx22 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 3646[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1429[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 1110[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1104[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:30:33
[2m   Duration [22m 4.62s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx23 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5


[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 4731[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1781[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 1750[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1198[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:31:14
[2m   Duration [22m 5.93s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx24 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 7903[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 2741[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 2962[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 2196[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:33:12
[2m   Duration [22m 9.59s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx25 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 7803[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 2643[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 2347[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 2805[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:34:50
[2m   Duration [22m 10.36s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx26 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job
stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5


[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 2530[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 909[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 893[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 722[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|         expect(unit.gridX).not.toBe(startX);
    152|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27
    183|         await new Promise(r => setTimeout(r, 100));
    184| 
    185|         expect(unit.path).toSatisfy(p => p && p.length > 5); // Expectçª¶ï½¦
       |                           ^
    186|         console.log(`Unit Path Length for wrapping: ${unit.path ? unitçª¶ï½¦
    187|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31
    208| 
    209|             // Should have empty path or remain stuck
    210|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    211|         } else {
    212|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:36:10
[2m   Duration [22m 6.45s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx27 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5
[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0


[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould find path around obstruction (wrapping)
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,6 My:5,5 d:1,1

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 2040[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 722[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should find path around obstruction (wrapping)[39m[33m 663[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 651[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should find path around obstruction (wrapping)
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 6,
    "z": 6,
  },
  Object {
    "x": 7,
    "z": 6,
  },
  Object {
    "x": 8,
    "z": 6,
  },
  Object {
    "x": 9,
    "z": 6,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:185:27

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:210:31

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:36:27
[2m   Duration [22m 22.41s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx28 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js [ src/tests/ManualRequestIntegration.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/tests/ManualRequestIntegration.test.js:1:0
  1  |  
     |  ^
  2  |  import { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';
  3  |  import { Game } from '../Game.js';
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 00:36:58
[2m   Duration [22m 3.57s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/ManualRequestIntegration.test.js [22m[34mx29 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 3438[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1527[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1908[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31

    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:38:11
[2m   Duration [22m 4.64s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx30 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1996[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 1104[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 890[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:40:01
[2m   Duration [22m 18.15s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx31 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5
[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5


 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 5977[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 4333[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1642[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:41:41
[2m   Duration [22m 7.96s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx32 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5
[Actor 1] executeMoveDEBUG to 6,5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false
stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5


[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5
[Actor 1] executeMoveDEBUG to 4,5 isMoving=false

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 908[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 514[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 391[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:42:00
[2m   Duration [22m 3.36s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx33 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5
[Actor 1] executeMoveDEBUG to 6,5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5
[Actor 1] executeMoveDEBUG to 4,5 isMoving=false

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1011[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 650[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 359[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:42:12
[2m   Duration [22m 22.85s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx34 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 6344[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 4923[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 1417[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:43:22
[2m   Duration [22m 7.88s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Actor.ts [22m[34mx35 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/ManualRequestIntegration.test.js[39m

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
[Actor 1] Path Received: Length=6 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] SmartMove Depth:1 Node:6,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:6,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 9: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 17: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 25: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 33: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=5 Z=5 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[ActorCore] Actor Created. Type: unit Pos: 5,5
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[JobState 1] Entering. Target: 10,5
[JobState 1] smartMove type: function
[JobState 1] smartMove source: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor ${this.id}] smartMove received NaN target: ${tx},${tz}`);
      return false;
    };
    if (Math.abs
[Actor 1] smartMove: triggers pathfinding. Dist: 5.0 Time:0.1 Last:-100.0 Throttle:1.10 Action:Approaching Job

stderr | src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
[Actor 1] Path Received: Length=16 First=5,5 Last=10,5

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] SmartMove Depth:1 Node:4,5 My:5,5 d:1,0
[Actor 1] Path Check: canMove=true isMoving=false Heading=false Tgt:0,0 Node:4,5

 [31mç¬¶ï½¯[39m src/tests/ManualRequestIntegration.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 915[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should assign a manual request and move unit towards it[39m[33m 536[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should fail to find path if blocked by water[39m[33m 376[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should assign a manual request and move unit towards it
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:150:23
    148| 
    149|         console.log(`Unit Verified Path Length: ${unit.path ? unit.patçª¶ï½¦
    150|         expect(moved).toBe(true);
       |                       ^
    151|     });
    152| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/ManualRequestIntegration.test.js > Manual Request Integration > should fail to find path if blocked by water
Error: expect(received).toSatisfy()

Expected value to satisfy:
[Function anonymous]

Received:
Array [
  Object {
    "x": 4,
    "z": 5,
  },
  Object {
    "x": 3,
    "z": 5,
  },
  Object {
    "x": 2,
    "z": 5,
  },
  Object {
    "x": 1,
    "z": 5,
  },
  Object {
    "x": 0,
    "z": 5,
  },
  Object {
    "x": 19,
    "z": 5,
  },
  Object {
    "x": 18,
    "z": 5,
  },
  Object {
    "x": 17,
    "z": 5,
  },
  Object {
    "x": 16,
    "z": 5,
  },
  Object {
    "x": 15,
    "z": 5,
  },
  Object {
    "x": 14,
    "z": 5,
  },
  Object {
    "x": 13,
    "z": 5,
  },
  Object {
    "x": 12,
    "z": 5,
  },
  Object {
    "x": 11,
    "z": 5,
  },
  Object {
    "x": 10,
    "z": 5,
  },
]
 ç¬¶ï½¯ src/tests/ManualRequestIntegration.test.js:174:31
    172| 
    173|             // Should have empty path or remain stuck
    174|             expect(unit.path).toSatisfy(p => !p || p.length === 0);
       |                               ^
    175|         } else {
    176|             // If smart enough to check path before claim (not currentçª¶ï½¦

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m   Start at [22m 00:43:44
[2m   Duration [22m 13.24s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
