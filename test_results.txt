
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould damage building population
[22m[39mGoblin Raid: House population reduced.Rem: 9 

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould destroy building when Population AND HP are depleted
[22m[39mGoblin Raid: House population reduced.Rem: -0.95 
Goblin destroyed Building house (Legacy) !
Goblin 1 destroyed house !

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould destroy building even if fractional population remains (e.g. 0.5)
[22m[39mGoblin Raid: House population reduced.Rem: -0.95 
Goblin destroyed Building house (Legacy) !
Goblin 2 destroyed house !

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould NOT destroy building if population remains >= 1.0
[22m[39mGoblin Raid: House population reduced.Rem: 6 

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould take retaliation damage
[22m[39mGoblin Raid: House population reduced.Rem: 19 

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould damage real building population
[22m[39m[Building] house(6) took 10 dmg. Pop: 9. Retaliation: 36

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould destroy real building when Pop and HP reach zero
[22m[39m[Building] house(8) took 10 dmg. Pop: 0. Retaliation: 0
Goblin 6 destroyed house !

[90mstdout[2m | src/tests/GoblinDestruction.test.js[2m > [22m[2mGoblin Building Destruction[2m > [22m[2mshould NOT destroy if population remains high
[22m[39m[Building] house(10) took 10 dmg. Pop: 4. Retaliation: 16

 [31mç¬¶ï½¯[39m src/tests/GoblinDestruction.test.js [2m([22m[2m8 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 21[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should damage building population[32m 9[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should destroy building when Population AND HP are depleted[32m 2[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should destroy building even if fractional population remains (e.g. 0.5)[32m 1[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should NOT destroy building if population remains >= 1.0[32m 0[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should take retaliation damage[32m 1[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should damage real building population[32m 1[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should destroy real building when Pop and HP reach zero[39m[32m 6[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should NOT destroy if population remains high[32m 1[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/GoblinDestruction.test.js > Goblin Building Destruction > should destroy real building when Pop and HP reach zero
AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 ç¬¶ï½¯ src/tests/GoblinDestruction.test.js:165:42
    163| 
    164|         expect(mockTerrain.removeBuilding).toHaveBeenCalledWith(buildiçª¶ï½¦
    165|         expect(building.userData.isDead).toBe(true);
       |                                          ^
    166|     });
    167| 

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m7 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 08:48:28
[2m   Duration [22m 817ms[2m (transform 113ms, setup 51ms, import 139ms, tests 21ms, environment 413ms)[22m

