
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/Unit.test.js
[22m[39m[DEBUG] Actor.ts loaded

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[DEBUG] Building.ts loaded

[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[DEBUG] Building.ts loaded

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[DEBUG] Terrain.ts top-level load

[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[DEBUG] Terrain.ts top-level load

[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[DEBUG] Actor.ts loaded

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[DEBUG] Actor.ts loaded

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mResource Gathering[2m > [22m[2mshould gather fish if checking neighbors finds water
[22m[39m[Entity 0] CONSTRUCTOR START: type=unit at 5,5
[Entity 0] Calling registerEntity...
[Entity 0] registerEntity returned.
[Entity 0] Calling updatePosition...
[Entity 0] updatePosition returned.
[DIAG] Actor Created ID: 0
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[Unit 0] State Change: None -> Wander
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:0

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mResource Gathering[2m > [22m[2mshould NOT gather fish if completely inland
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mResource Gathering[2m > [22m[2mshould NOT gather fish if completely inland
[22m[39m[Entity 1] CONSTRUCTOR START: type=unit at 5,5
[Entity 1] Calling registerEntity...
[Entity 1] registerEntity returned.
[Entity 1] Calling updatePosition...
[Entity 1] updatePosition returned.
[DIAG] Actor Created ID: 1
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:1

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mBuild Priority (Famine)[2m > [22m[2mshould prioritize Farm and ABORT house if farm fails during famine
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mBuild Priority (Famine)[2m > [22m[2mshould prioritize Farm and ABORT house if farm fails during famine
[22m[39m[Entity 2] CONSTRUCTOR START: type=unit at 5,5
[Entity 2] Calling registerEntity...
[Entity 2] registerEntity returned.
[Entity 2] Calling updatePosition...
[Entity 2] updatePosition returned.
[DIAG] Actor Created ID: 2
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:2 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:2 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:2

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mBuild Priority (Famine)[2m > [22m[2mshould fallback to House if NOT in famine
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mBuild Priority (Famine)[2m > [22m[2mshould fallback to House if NOT in famine
[22m[39m[Entity 3] CONSTRUCTOR START: type=unit at 5,5
[Entity 3] Calling registerEntity...
[Entity 3] registerEntity returned.
[Entity 3] Calling updatePosition...
[Entity 3] updatePosition returned.
[DIAG] Actor Created ID: 3
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:3 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:3 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:3

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mBuild Priority (Famine)[2m > [22m[2mshould fallback to House if NOT in famine
[22m[39m[Actor 3] Resetting Unreachable (Target changed or initializing)

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould accept role in constructor
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould accept role in constructor
[22m[39m[Entity 4] CONSTRUCTOR START: type=unit at 5,5
[Entity 4] Calling registerEntity...
[Entity 4] registerEntity returned.
[Entity 4] Calling updatePosition...
[Entity 4] updatePosition returned.
[DIAG] Actor Created ID: 4
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:4 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:4 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:4

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould accept role in constructor
[22m[39m[Entity 5] CONSTRUCTOR START: type=unit at 5,5
[Entity 5] Calling registerEntity...
[Entity 5] registerEntity returned.
[Entity 5] Calling updatePosition...
[Entity 5] updatePosition returned.
[DIAG] Actor Created ID: 5
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:5 Role:hunter Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:5 Role:hunter Pos:5,5
[UnitCore.js] Unit Construction Finished ID:5
[Entity 6] CONSTRUCTOR START: type=unit at 5,5
[Entity 6] Calling registerEntity...
[Entity 6] registerEntity returned.
[Entity 6] Calling updatePosition...
[Entity 6] updatePosition returned.
[DIAG] Actor Created ID: 6
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:6 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:6 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:6
[Entity 7] CONSTRUCTOR START: type=unit at 5,5
[Entity 7] Calling registerEntity...
[Entity 7] registerEntity returned.
[Entity 7] Calling updatePosition...
[Entity 7] updatePosition returned.
[DIAG] Actor Created ID: 7
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:7 Role:true Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:7 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:7

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould FAIL buildFarm and IMPROVE LAND if moisture is poor
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould FAIL buildFarm and IMPROVE LAND if moisture is poor
[22m[39m[Entity 8] CONSTRUCTOR START: type=unit at 5,5
[Entity 8] Calling registerEntity...
[Entity 8] registerEntity returned.
[Entity 8] Calling updatePosition...
[Entity 8] updatePosition returned.
[DIAG] Actor Created ID: 8
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:8 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:8 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:8

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould FAIL buildFarm and IMPROVE LAND if moisture is poor
[22m[39m[Actor 8] Resetting Unreachable (Target changed or initializing)

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould succeed buildFarm if moisture is optimal
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould succeed buildFarm if moisture is optimal
[22m[39m[Entity 9] CONSTRUCTOR START: type=unit at 5,5
[Entity 9] Calling registerEntity...
[Entity 9] registerEntity returned.
[Entity 9] Calling updatePosition...
[Entity 9] updatePosition returned.
[DIAG] Actor Created ID: 9
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:9 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:9 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:9

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould succeed buildFarm if moisture is optimal
[22m[39m[Actor 9] Resetting Unreachable (Target changed or initializing)

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould check regions during moveRandomly
[22m[39mDisposing detached game instance

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould check regions during moveRandomly
[22m[39m[Entity 10] CONSTRUCTOR START: type=unit at 5,5
[Entity 10] Calling registerEntity...
[Entity 10] registerEntity returned.
[Entity 10] Calling updatePosition...
[Entity 10] updatePosition returned.
[DIAG] Actor Created ID: 10
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:10 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:10 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:10

[90mstdout[2m | src/tests/Unit.test.js[2m > [22m[2mUnit Logic[2m > [22m[2mAdvanced Mechanics - Unit[2m > [22m[2mshould check regions during moveRandomly
[22m[39m[Actor 10] Resetting Unreachable (Target changed or initializing)

 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mResource Gathering[2m > [22mshould gather fish if checking neighbors finds water[32m 6[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mResource Gathering[2m > [22mshould NOT gather fish if completely inland[32m 3[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mBuild Priority (Famine)[2m > [22mshould prioritize Farm and ABORT house if farm fails during famine[32m 3[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mBuild Priority (Famine)[2m > [22mshould fallback to House if NOT in famine[32m 6[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mAdvanced Mechanics - Unit[2m > [22mshould accept role in constructor[32m 3[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mAdvanced Mechanics - Unit[2m > [22mshould FAIL buildFarm and IMPROVE LAND if moisture is poor[32m 3[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mAdvanced Mechanics - Unit[2m > [22mshould succeed buildFarm if moisture is optimal[32m 24[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/Unit.test.js[2m > [22mUnit Logic[2m > [22mAdvanced Mechanics - Unit[2m > [22mshould check regions during moveRandomly[32m 3[2mms[22m[39m
[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[DEBUG] Goblin.ts loaded

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[DEBUG] Goblin.ts loaded

[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[Import Debug] Raid: function, Combat: function, Wander: function

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[Import Debug] Raid: function, Combat: function, Wander: function

[90mstdout[2m | src/tests/GameLighting.test.js
[22m[39m[DEBUG] Game.ts top-level load

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js
[22m[39m[DEBUG] Game.ts top-level load

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould have high intensity during noon
[22m[39m[Game] Init SphereGeometry
[Game] Minimal/Override Init Start
[Game] Minimal: Init Clock
[Game FORCE CONST 1] Creating mock terrain
[Game] Minimal: Init Managers
[Game] Minimal: Init GoblinManager
[GoblinManager] 5è›Ÿä¹ãƒ»è±¢æ¨’ï½ªæº˜ï½’é€•æ»“ãƒ»è³ï½­...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.266317, 0.041302) -> Grid(42, 6) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.209071, 0.211115) -> Grid(33, 33) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.408934, 0.086472) -> Grid(65, 13) rngState=undefined
[GoblinManager] è±¢æ¨’ï½ªæº½å‡½è¬Œä»™ï½®å¾¡ï½ºãƒ» 0/5 (éš§ï½¦é™¦æ‚Ÿå±“è¬¨ï½°: 5000)
[Game] Minimal: Init EnemyAI
[Game] Minimal: Done. Returning.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould have low intensity and blueish color during night
[22m[39mDisposing detached game instance
[Game] Dispose called for Game Instance.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould have low intensity and blueish color during night
[22m[39m[Game] Init SphereGeometry
[Game] Minimal/Override Init Start
[Game] Minimal: Init Clock
[Game FORCE CONST 2] Creating mock terrain
[Game] Minimal: Init Managers
[Game] Minimal: Init GoblinManager
[GoblinManager] 5è›Ÿä¹ãƒ»è±¢æ¨’ï½ªæº˜ï½’é€•æ»“ãƒ»è³ï½­...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.642194, 0.456081) -> Grid(102, 72) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.892823, 0.683167) -> Grid(142, 109) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.201020, 0.929947) -> Grid(32, 148) rngState=undefined
[GoblinManager] è±¢æ¨’ï½ªæº½å‡½è¬Œä»™ï½®å¾¡ï½ºãƒ» 0/5 (éš§ï½¦é™¦æ‚Ÿå±“è¬¨ï½°: 5000)
[Game] Minimal: Init EnemyAI
[Game] Minimal: Done. Returning.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould have warm light during dusk
[22m[39mDisposing detached game instance
[Game] Dispose called for Game Instance.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould have warm light during dusk
[22m[39m[Game] Init SphereGeometry
[Game] Minimal/Override Init Start
[Game] Minimal: Init Clock
[Game FORCE CONST 3] Creating mock terrain
[Game] Minimal: Init Managers
[Game] Minimal: Init GoblinManager
[GoblinManager] 5è›Ÿä¹ãƒ»è±¢æ¨’ï½ªæº˜ï½’é€•æ»“ãƒ»è³ï½­...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.470426, 0.226713) -> Grid(75, 36) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.890829, 0.712893) -> Grid(142, 114) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.413866, 0.746723) -> Grid(66, 119) rngState=undefined
[GoblinManager] è±¢æ¨’ï½ªæº½å‡½è¬Œä»™ï½®å¾¡ï½ºãƒ» 0/5 (éš§ï½¦é™¦æ‚Ÿå±“è¬¨ï½°: 5000)
[Game] Minimal: Init EnemyAI
[Game] Minimal: Done. Returning.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould sync fog color with sky color
[22m[39mDisposing detached game instance
[Game] Dispose called for Game Instance.

[90mstdout[2m | src/tests/GameLighting.test.js[2m > [22m[2mGame Lighting (Day/Night Cycle)[2m > [22m[2mshould sync fog color with sky color
[22m[39m[Game] Init SphereGeometry
[Game] Minimal/Override Init Start
[Game] Minimal: Init Clock
[Game FORCE CONST 4] Creating mock terrain
[Game] Minimal: Init Managers
[Game] Minimal: Init GoblinManager
[GoblinManager] 5è›Ÿä¹ãƒ»è±¢æ¨’ï½ªæº˜ï½’é€•æ»“ãƒ»è³ï½­...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.704766, 0.054568) -> Grid(112, 8) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.236225, 0.949241) -> Grid(37, 151) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.086628, 0.926817) -> Grid(13, 148) rngState=undefined
[GoblinManager] è±¢æ¨’ï½ªæº½å‡½è¬Œä»™ï½®å¾¡ï½ºãƒ» 0/5 (éš§ï½¦é™¦æ‚Ÿå±“è¬¨ï½°: 5000)
[Game] Minimal: Init EnemyAI
[Game] Minimal: Done. Returning.

 [32mç¬¨ãƒ»[39m src/tests/GameLighting.test.js[2m > [22mGame Lighting (Day/Night Cycle)[2m > [22mshould have high intensity during noon[32m 16[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/GameLighting.test.js[2m > [22mGame Lighting (Day/Night Cycle)[2m > [22mshould have low intensity and blueish color during night[32m 15[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/GameLighting.test.js[2m > [22mGame Lighting (Day/Night Cycle)[2m > [22mshould have warm light during dusk[32m 11[2mms[22m[39m
 [32mç¬¨ãƒ»[39m src/tests/GameLighting.test.js[2m > [22mGame Lighting (Day/Night Cycle)[2m > [22mshould sync fog color with sky color[32m 8[2mms[22m[39m
[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Terrain] Constructor. updatePopulation type: function
[Entity 0] CONSTRUCTOR START: type=unit at 5,5
[Entity 0] Calling registerEntity...
[Entity 0] registerEntity returned.
[Entity 0] Calling updatePosition...
[Entity 0] updatePosition returned.
[DIAG] Actor Created ID: 0
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5 Special:false
[Unit 0] State Change: None -> Wander
[UnitCore.js] Unit Created ID:0 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:0

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] Resetting Unreachable (Target changed or initializing)
[Actor 1] Resetting Unreachable (Target changed or initializing)

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Actor 1] Pathfinding SUCCESS: Got 6 nodes to 10,5
[Entity 1] startMove -> isMoving:true. Target:6,5 StartTime:0.1000

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 5
Unit Path First: 6,5
Step 0: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 1: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 2: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 3: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 4: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 5: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 6: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 7: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 8: X=5.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Entity 1] updateMovement ARRIVAL -> isMoving:false. Time:1.0000 StartTime:0.1000 Dur:0.8000 PrevGrid:5,5 Target:6,5
[Entity 1] startMove -> isMoving:true. Target:7,5 StartTime:1.0000
Step 9: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 10: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 11: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 12: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 13: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 14: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 15: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 16: X=6.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Entity 1] updateMovement ARRIVAL -> isMoving:false. Time:1.8000 StartTime:1.0000 Dur:0.8000 PrevGrid:6,5 Target:7,5
[Entity 1] startMove -> isMoving:true. Target:8,5 StartTime:1.8000
Step 17: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 18: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 19: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 20: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 21: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 22: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 23: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 24: X=7.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Entity 1] updateMovement ARRIVAL -> isMoving:false. Time:2.6000 StartTime:1.8000 Dur:0.8000 PrevGrid:7,5 Target:8,5
[Entity 1] startMove -> isMoving:true. Target:9,5 StartTime:2.6000
Step 25: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 26: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 27: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 28: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 29: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 30: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 31: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 32: X=8.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39m[Entity 1] updateMovement ARRIVAL -> isMoving:false. Time:3.4000 StartTime:2.6000 Dur:0.8000 PrevGrid:8,5 Target:9,5
[Entity 1] startMove -> isMoving:true. Target:10,5 StartTime:3.4000
Step 33: X=9.00 Z=5.00 isMoving=true

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 34: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 35: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 36: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 37: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 38: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 39: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 40: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 41: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 42: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 43: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 44: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 45: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 46: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 47: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 48: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mStep 49: X=9.00 Z=5.00 isMoving=false

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould assign a manual request and move unit towards it
[22m[39mUnit Verified Path Length: 1

[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Terrain] Constructor. updatePopulation type: function
[Entity 1] CONSTRUCTOR START: type=unit at 5,5
[Entity 1] Calling registerEntity...
[Entity 1] registerEntity returned.
[Entity 1] Calling updatePosition...
[Entity 1] updatePosition returned.
[DIAG] Actor Created ID: 1
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:5,5
[UnitCore.js] Unit Construction Finished ID:1

 [32mç¬¨ãƒ»[39m src/tests/ManualRequestIntegration.test.js[2m > [22mManual Request Integration[2m > [22mshould assign a manual request and move unit towards it[32m 275[2mms[22m[39m
[90mstdout[2m | src/tests/ManualRequestIntegration.test.js[2m > [22m[2mManual Request Integration[2m > [22m[2mshould fail to find path if blocked by water
[22m[39m[Actor 1] Resetting Unreachable (Target changed or initializing)
[Actor 1] Resetting Unreachable (Target changed or initializing)

 [32mç¬¨ãƒ»[39m src/tests/ManualRequestIntegration.test.js[2m > [22mManual Request Integration[2m > [22mshould fail to find path if blocked by water[32m 117[2mms[22m[39m

[2m Test Files [22m [1m[32m3 passed[39m[22m[90m (3)[39m
[2m      Tests [22m [1m[32m14 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 14:12:02
[2m   Duration [22m 1.91s[2m (transform 1.31s, setup 335ms, import 1.82s, tests 498ms, environment 1.53s)[22m

