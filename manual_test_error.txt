
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/ManualJobRetry.test.js[2m > [22m[2mManual Job Retry and Water Reachability Test[2m > [22m[2mTerrain.isReachable should return true for water adjacent to same region land
[22m[39mSheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
GoblinManager: Generated 0 goblin caves after 5000 attempts.
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.

stderr | src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > Terrain.isReachable should return true for water adjacent to same region land
Cam Error: TypeError: Cannot set properties of undefined (setting 'constant')
    at Game.updateCameraControls (C:/Users/mooya/develop/test/src/Game.js:1350:45)
    at Game.animate (C:/Users/mooya/develop/test/src/Game.js:1546:18)
    at new Game (C:/Users/mooya/develop/test/src/Game.js:331:14)
    at C:/Users/mooya/develop/test/src/tests/ManualJobRetry.test.js:37:16
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1206:10)
    at runHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1511:51)
    at callSuiteHook (file:///C:/Users/mooya/develop/test/node_modules/@vitest/runner/dist/index.js:1517:25)

 [31mç¬¶ï½¯[39m src/tests/ManualJobRetry.test.js [2m([22m[2m5 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[33m 3379[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Terrain.isReachable should return true for water adjacent to same region land[39m[33m 735[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Terrain.isReachable should return false for water NOT adjacent to same region land[39m[33m 592[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Game.findBestRequest should pick a manual job on water[39m[33m 615[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m JobState should defer manual jobs for only 3 seconds on unreachability[39m[33m 724[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m JobState should defer auto jobs for 15 seconds on unreachability[39m[33m 711[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 5 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > Terrain.isReachable should return true for water adjacent to same region land
TypeError: this.camera.updateMatrixWorld is not a function
 ç¬¶ï½¯ Game.animate src/Game.js:1567:21
    1565| 
    1566|         // Calculate Frustum for Culling
    1567|         this.camera.updateMatrixWorld();
       |                     ^
    1568|         this.camera.matrixWorldInverse.copy(this.camera.matrixWorld).içª¶ï½¦
    1569| 
 ç¬¶ï½¯ new Game src/Game.js:331:14
 ç¬¶ï½¯ src/tests/ManualJobRetry.test.js:37:16

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/5]ç«¡ï½¯

 FAIL  src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > Terrain.isReachable should return false for water NOT adjacent to same region land
 FAIL  src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > Game.findBestRequest should pick a manual job on water
 FAIL  src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > JobState should defer manual jobs for only 3 seconds on unreachability
 FAIL  src/tests/ManualJobRetry.test.js > Manual Job Retry and Water Reachability Test > JobState should defer auto jobs for 15 seconds on unreachability
ReferenceError: window is not defined
 ç¬¶ï½¯ new Game src/Game.js:88:9
     86|         this.squads = new Map(); // id -> { id, type, target: {x,z,timçª¶ï½¦
     87| 
     88|         window.game = this;
       |         ^
     89| 
     90|         // 1. Setup Scene & Camera
 ç¬¶ï½¯ src/tests/ManualJobRetry.test.js:37:16

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/5]ç«¡ï½¯

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Errors ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

Vitest caught 38 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Unhandled Rejection ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
Error: [vitest-worker]: Closing rpc while "onUnhandledError" was pending
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:79:28
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/index.0kCJoeWi.js:133:14
 ç¬¶ï½¯ Proxy.$rejectPendingCalls node_modules/vitest/dist/chunks/index.0kCJoeWi.js:129:36
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:78:26
 ç¬¶ï½¯ node_modules/vitest/dist/chunks/init.B04saIIg.js:107:42
 ç¬¶ï½¯ execute node_modules/vitest/dist/chunks/init.B04saIIg.js:107:30
 ç¬¶ï½¯ processTicksAndRejections node:internal/process/task_queues:105:5
 ç¬¶ï½¯ process.onMessage node_modules/vitest/dist/chunks/init.B04saIIg.js:233:14

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Uncaught Exception ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯
ReferenceError: window is not defined
 ç¬¶ï½¯ Terrain.updatePopulation src/Terrain.js:1671:27
    1669| 
    1670|         // Make window.game.resources check safe
    1671|         const resources = (window.game && window.game.resources) ? winçª¶ï½¦
       |                           ^
    1672|         let hasFood = true;
    1673| 
 ç¬¶ï½¯ Terrain.update src/Terrain.js:1890:14
 ç¬¶ï½¯ Game.animate src/Game.js:1541:30
 ç¬¶ï½¯ Immediate.<anonymous> node_modules/happy-dom/lib/window/BrowserWindow.js:1354:17
 ç¬¶ï½¯ processImmediate node:internal/timers:485:21

This error originated in "src/tests/ManualJobRetry.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m5 failed[39m[22m[90m (5)[39m
[2m     Errors [22m [1m[31m38 errors[39m[22m
[2m   Start at [22m 16:22:59
[2m   Duration [22m 4.57s[2m (transform 396ms, setup 51ms, import 501ms, tests 3.38s, environment 417ms)[22m

