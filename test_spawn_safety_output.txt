
> test@0.0.0 test
> vitest src/tests/SafeSpawn.test.js


[1m[44m DEV [49m[22m [34mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 21[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 20[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: posAttr.getX is not a function
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:180:31
    178|         const posAttr = this.geometry.attributes.position;
    179|         for (let i = 0; i < count; i++) {
    180|             const x = posAttr.getX(i);
       |                               ^
    181|             const y = posAttr.getY(i);
    182| 

 ç¬¶ï½¯ new Terrain src/Terrain.js:19:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:33:19

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m

[2m   Start at [22m 12:39:05
[2m   Duration [22m 297ms[2m (transform 71ms, setup 0ms, import 101ms, tests 21ms, environment 0ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 64[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 63[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
Error: [vitest] No "BufferGeometry" export is defined on the "three" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("three"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ç¬¶ï½¯ Terrain.createMesh src/Terrain.js:296:35
    294| 
    295|         // 1. Grid Lines (Gray) - User Request
    296|         const gridGeo = new THREE.BufferGeometry();
       |                                   ^
    297|         gridGeo.setAttribute('position', this.geometry.attributes.posiçª¶ï½¦
    298| 
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:197:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:19:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:44:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:39:23
[2m   Duration [22m 109ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 91[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 90[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: Cannot read properties of undefined (reading 'set')
 ç¬¶ï½¯ Terrain.createMesh src/Terrain.js:321:27
    319| 
    320|         const gridMesh = new THREE.LineSegments(gridGeo, gridMat);
    321|         gridMesh.position.set(0, 0, 0.04); // Slightly below dots
       |                           ^
    322|         this.mesh.add(gridMesh);
    323| 
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:197:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:19:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:48:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:40:42
[2m   Duration [22m 129ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ç¬¶ï½¯ src/Terrain.js:1:1
      1| import * as THREE from 'three';
       | ^
      2| 
      3| export class Terrain {

Caused by: ReferenceError: Object3D is not defined
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:34:37

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:41:13
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx4 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ç¬¶ï½¯ src/Terrain.js:1:1
      1| import * as THREE from 'three';
       | ^
      2| 
      3| export class Terrain {

Caused by: ReferenceError: Object3D is not defined
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:38:29

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:41:29
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/tests/SafeSpawn.test.js [22m[34mx5 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 104[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:42:19
[2m   Duration [22m 145ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx6 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 336[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 334[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:48:59
[2m   Duration [22m 480ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx7 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 418[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 416[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:46:48
[2m   Duration [22m 701ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx8 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 303[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [32m 300[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:47:50
[2m   Duration [22m 809ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx9 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 223[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 22:40:34
[2m   Duration [22m 373ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx10 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 408[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 404[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 22:43:08
[2m   Duration [22m 703ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx11 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 793[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 791[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:00:14
[2m   Duration [22m 956ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx12 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 172[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:09:36
[2m   Duration [22m 315ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx13 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 527[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 524[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:41:02
[2m   Duration [22m 952ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx14 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 176[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:48:31
[2m   Duration [22m 661ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx15 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 189[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:04:58
[2m   Duration [22m 309ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx16 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 338[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 334[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:12:39
[2m   Duration [22m 784ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx17 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 228[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:17:47
[2m   Duration [22m 835ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx18 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 134[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:26:29
[2m   Duration [22m 436ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx19 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 205[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:42:21
[2m   Duration [22m 317ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx20 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 121[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:46:48
[2m   Duration [22m 535ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx21 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[32m 137[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 01:03:51
[2m   Duration [22m 364ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx22 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[DEBUG] Terrain.updateColors: Season=Spring, IsNight=false

 [32mç¬¨ãƒ»[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 369[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT destroy house when spawning unit resets population to 0 [33m 367[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:22:30
[2m   Duration [22m 874ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx23 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
RollupError: Parse failure: Expression expected
At file: /src/Terrain.js:566:10
  File: /src/Terrain.js:566:10
  576 |                  // Simple hash function for 0..1 range
  577 |                  const dot = lx * 12.9898 + lz * 78.233;
  578 |                  let hash = Math.sin(dot) * 43758.5453;
      |     ^
  579 |                  hash = hash - Math.floor(hash); // Fract
  580 |  
 ç¬¶ï½¯ getRollupError node_modules/rollup/dist/es/shared/parseAst.js:401:41
 ç¬¶ï½¯ convertProgram node_modules/rollup/dist/es/shared/parseAst.js:1098:26
 ç¬¶ï½¯ parseAstAsync node_modules/rollup/dist/es/shared/parseAst.js:2084:106
 ç¬¶ï½¯ ssrTransformScript node_modules/vite/dist/node/chunks/config.js:16031:9
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23347:64
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:23:14
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx24 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:23:50
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx25 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:24:33
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx26 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:25:04
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx27 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:26:42
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx28 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:29:07
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx29 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 429[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 426[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:31:18
[2m   Duration [22m 1.37s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx30 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 283[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 280[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 12:47:56
[2m   Duration [22m 416ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx31 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 287[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 284[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:08:55
[2m   Duration [22m 1.15s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx32 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 739[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 736[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 13:23:08
[2m   Duration [22m 858ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx33 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 180[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 176[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:37:10
[2m   Duration [22m 1.01s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx34 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 462[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 459[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:41:31
[2m   Duration [22m 958ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx35 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 255[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 251[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 14:43:02
[2m   Duration [22m 1.06s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx36 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 309[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 306[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:550:27
    548| 
    549|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    550|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    551|             }
    552|         }
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 15:12:33
[2m   Duration [22m 792ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx37 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 265[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 262[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:628:27
    626| 
    627|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    628|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    629|             }
    630|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:363:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:308:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:255:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 18:54:18
[2m   Duration [22m 782ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx38 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:54:27
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx39 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:54:46
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx40 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:57:42
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx41 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m


ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Suites 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js [ src/tests/SafeSpawn.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: C:/Users/mooya/develop/test/src/Terrain.js:1:0
  1  |  import * as THREE from 'three';
     |  ^
  2  |  
  3  |  export class Terrain {
 ç¬¶ï½¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:29647:43
 ç¬¶ï½¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:29644:14
 ç¬¶ï½¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27730:10
 ç¬¶ï½¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:29445:14
 ç¬¶ï½¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:23316:26
 ç¬¶ï½¯ fetchModule node_modules/vite/dist/node/chunks/config.js:34641:15

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 18:59:57
[2m   Duration [22m 0ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx42 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 254[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 252[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:651:27
    649| 
    650|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    651|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    652|             }
    653|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:386:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:331:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:278:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 19:03:12
[2m   Duration [22m 785ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx43 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 770[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 767[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:655:27
    653| 
    654|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    655|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    656|             }
    657|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:390:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 19:14:27
[2m   Duration [22m 913ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx44 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 562[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 559[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:655:27
    653| 
    654|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    655|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    656|             }
    657|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:390:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:15:34
[2m   Duration [22m 1.08s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx45 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 16[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[32m 11[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: __vi_import_0__.Terrain is not a constructor
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19
     67|         global.window = { game: { gameTotalTime: 0, units: [] } };
     68|         const scene = { add: () => { }, remove: () => { } };
     69|         terrain = new Terrain(scene, []);
       |                   ^
     70| 
     71|         house = {

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:28:29
[2m   Duration [22m 67ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx46 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

[90mstdout[2m | src/tests/SafeSpawn.test.js[2m > [22m[2mSafe Population Zero[2m > [22m[2mshould NOT destroy house when spawning unit resets population to 0
[22m[39m[Terrain] Validating specific cell 5,5: H=2 R=1

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 627[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 624[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:661:27
    659| 
    660|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    661|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    662|             }
    663|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:396:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:28:31
[2m   Duration [22m 1.79s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx47 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 545[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 541[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
Error: DEBUG: Visited 5,5 with H=8 R=1 W=160 D=160
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:363:27
    361|                 if (x === 5 && z === 5) {
    362|                     // Throw to confirm visit
    363|                     throw new Error(`DEBUG: Visited 5,5 with H=${startçª¶ï½¦
       |                           ^
    364|                 }
    365| 
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:30:05
[2m   Duration [22m 764ms

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/Terrain.js [22m[34mx48 [34m[39m
       [2m Filename pattern: [22m[34msrc/tests/SafeSpawn.test.js[39m

 [31mç¬¶ï½¯[39m src/tests/SafeSpawn.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 519[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should NOT destroy house when spawning unit resets population to 0[39m[33m 513[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/SafeSpawn.test.js > Safe Population Zero > should NOT destroy house when spawning unit resets population to 0
TypeError: colorAttr.setXYZ is not a function
 ç¬¶ï½¯ Terrain.updateColors src/Terrain.js:656:27
    654| 
    655|                 const color = this.getBiomeColor(height, moisture, noiçª¶ï½¦
    656|                 colorAttr.setXYZ(i, color.r, color.g, color.b);
       |                           ^
    657|             }
    658|         }
 ç¬¶ï½¯ Terrain.calculateRegions src/Terrain.js:391:14
 ç¬¶ï½¯ Terrain.generateRandomTerrain src/Terrain.js:335:14
 ç¬¶ï½¯ Terrain.initTerrain src/Terrain.js:282:14
 ç¬¶ï½¯ new Terrain src/Terrain.js:26:14
 ç¬¶ï½¯ src/tests/SafeSpawn.test.js:69:19

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m   Start at [22m 23:35:07
[2m   Duration [22m 1.37s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
^C
