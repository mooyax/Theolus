
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/WorkerRequest.test.js
[22m[39m[Unit.js] Module Loaded! V=FINAL

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit finds and claims request when idle
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit finds and claims request when idle
[22m[39mUnit died.

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit moves to target request
[22m[39m[UnitCore.js] Unit Created ID:1 Role:worker Pos:0,0 Special:false

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit moves to target request
[22m[39mUnit died.

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit completes request upon arrival
[22m[39m[UnitCore.js] Unit Created ID:2 Role:worker Pos:0,0 Special:false

[90mstdout[2m | src/tests/WorkerRequest.test.js[2m > [22m[2mWorker Job Logic (Unit.js)[2m > [22m[2mUnit completes request upon arrival
[22m[39mUnit died.

 [31mç¬¶ï½¯[39m src/tests/WorkerRequest.test.js [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 23[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Unit finds and claims request when idle[39m[32m 16[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Unit moves to target request[39m[32m 3[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Unit completes request upon arrival[39m[32m 2[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 3 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/WorkerRequest.test.js > Worker Job Logic (Unit.js) > Unit finds and claims request when idle
AssertionError: expected undefined to be { id: 'req_0', type: 'raise', çª¶ï½¦(3) } // Object.is equality

- Expected: 
{
  "id": "req_0",
  "status": "pending",
  "type": "raise",
  "x": 5,
  "z": 5,
}

+ Received: 
undefined

 ç¬¶ï½¯ src/tests/WorkerRequest.test.js:98:36
     96|         unit.updateLogic(100, 0.016, false, [], [], []);
     97| 
     98|         expect(unit.targetRequest).toBe(req);
       |                                    ^
     99|         expect(req.status).toBe('assigned');
    100|         expect(req.assignedTo).toBe(unit.id);

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/3]ç«¡ï½¯

 FAIL  src/tests/WorkerRequest.test.js > Worker Job Logic (Unit.js) > Unit moves to target request
AssertionError: expected 'Idle' to be 'Working' // Object.is equality

Expected: "Working"
Received: "Idle"

 ç¬¶ï½¯ src/tests/WorkerRequest.test.js:118:29
    116|         unit.updateLogic(100, 0.016, false, [], [], []);
    117| 
    118|         expect(unit.action).toBe('Working');
       |                             ^
    119|         expect(unit.triggerMove).toHaveBeenCalledWith(10, 10, 100);
    120|     });

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/3]ç«¡ï½¯

 FAIL  src/tests/WorkerRequest.test.js > Worker Job Logic (Unit.js) > Unit completes request upon arrival
AssertionError: expected "vi.fn()" to be called with arguments: [ Unit{ id: 'worker_1', çª¶ï½¦(48) }, çª¶ï½¦(1) ]

Number of calls: 0

 ç¬¶ï½¯ src/tests/WorkerRequest.test.js:137:29
    135|         unit.updateLogic(100, 0.016, false, [], [], []);
    136| 
    137|         expect(spyComplete).toHaveBeenCalledWith(unit, req);
       |                             ^
    138|         expect(unit.targetRequest).toBeNull();
    139|         expect(unit.action).toBe('Idle');

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[3/3]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[90m (3)[39m
[2m   Start at [22m 17:15:16
[2m   Duration [22m 1.03s[2m (transform 120ms, setup 0ms, import 201ms, tests 23ms, environment 476ms)[22m

