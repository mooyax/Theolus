
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/MultiJob.test.js[2m > [22m[2mMulti-Job Juggling Verification[2m > [22m[2mshould NOT interrupt busy units when a new job is added
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0
[UnitCore.js] Unit Created ID:1 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:0,0
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 86,72. Force:false
[Terrain] Building Added: cave at (86, 72) Size:1x1. Total: 1
GoblinManager: Cave registered at 86,72 
[GoblinManager] Clan clan_cave_86_72 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 83,112. Force:false
[Terrain] Building Added: cave at (83, 112) Size:1x1. Total: 2
GoblinManager: Cave registered at 83,112 
[GoblinManager] Clan clan_cave_83_112 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 70,93. Force:false
[Terrain] Building Added: cave at (70, 93) Size:1x1. Total: 3
GoblinManager: Cave registered at 70,93 
[GoblinManager] Clan clan_cave_70_93 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 97,67. Force:false
[Terrain] Building Added: cave at (97, 67) Size:1x1. Total: 4
GoblinManager: Cave registered at 97,67 
[GoblinManager] Clan clan_cave_97_67 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 59,99. Force:false
[Terrain] Building Added: cave at (59, 99) Size:1x1. Total: 5
GoblinManager: Cave registered at 59,99 
[GoblinManager] Clan clan_cave_59_99 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 18 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.
Tower Geometry Initialized (Split Mode)
Tower Debug: Generated High-Res Tower Texture + Cap Material

[90mstdout[2m | src/tests/MultiJob.test.js[2m > [22m[2mMulti-Job Juggling Verification[2m > [22m[2mshould NOT interrupt busy units when a new job is added
[22m[39m[Game] forceAssignRequest FOUND Unit 1 (DistSq:400). Scanned:2
[Game] Force-Assigned Request 101 to Unit 1 (Score: 400.0)
[Game] forceAssignRequest FOUND Unit 2 (DistSq:400). Scanned:2
[Game] Force-Assigned Request 102 to Unit 2 (Score: 400.0)
[Defense Debug 1] shouldScan:false isBusy:true force:false PassedGoblins:None
[Defense Debug 2] shouldScan:false isBusy:true force:false PassedGoblins:None
[Game] Request Added: build at (10,10) ID:req_0
[Game] forceAssignRequest FAILED for Req req_0. Scanned:2 (RoleSkipped:0) Busy:2 Valid:0. TotalUnits:2
[Game] forceAssignRequest FAILED for Req req_0. Scanned:2 (RoleSkipped:0) Busy:2 Valid:0. TotalUnits:2

 [32mç¬¨ãƒ»[39m src/tests/MultiJob.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 2795[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT interrupt busy units when a new job is added [33m 2792[2mms[22m[39m
[90mstdout[2m | src/tests/JobIdempotency.test.js[2m > [22m[2mJob Assignment Idempotency[2m > [22m[2mshould NOT reset movement if claiming the same job twice
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 35,147. Force:false
[Terrain] Building Added: cave at (35, 147) Size:1x1. Total: 1
GoblinManager: Cave registered at 35,147 
[GoblinManager] Clan clan_cave_35_147 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 71,129. Force:false
[Terrain] Building Added: cave at (71, 129) Size:1x1. Total: 2
GoblinManager: Cave registered at 71,129 
[GoblinManager] Clan clan_cave_71_129 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 64,117. Force:false
[Terrain] Building Added: cave at (64, 117) Size:1x1. Total: 3
GoblinManager: Cave registered at 64,117 
[GoblinManager] Clan clan_cave_64_117 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 75,70. Force:false
[Terrain] Building Added: cave at (75, 70) Size:1x1. Total: 4
GoblinManager: Cave registered at 75,70 
[GoblinManager] Clan clan_cave_75_70 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 78,15. Force:false
[Terrain] Building Added: cave at (78, 15) Size:1x1. Total: 5
GoblinManager: Cave registered at 78,15 
[GoblinManager] Clan clan_cave_78_15 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 12 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.

 [32mç¬¨ãƒ»[39m src/tests/JobIdempotency.test.js [2m([22m[2m1 test[22m[2m)[22m[33m 3608[2mms[22m[39m
     [33m[2mç¬¨ãƒ»[22m[39m should NOT reset movement if claiming the same job twice [33m 3605[2mms[22m[39m
[90mstdout[2m | src/tests/JobPathFailure.test.js[2m > [22m[2mJob Pathfinding Failure Handling[2m > [22m[2mshould abandon job if smartMove fails repeatedly
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:0,0
SheepManager Refactored: Initialized with Entity-based Sheep.
GoblinManager: Generation started...
[Terrain] addBuilding: cave at 73,98. Force:false
[Terrain] Building Added: cave at (73, 98) Size:1x1. Total: 1
GoblinManager: Cave registered at 73,98 
[GoblinManager] Clan clan_cave_73_98 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 82,97. Force:false
[Terrain] Building Added: cave at (82, 97) Size:1x1. Total: 2
GoblinManager: Cave registered at 82,97 
[GoblinManager] Clan clan_cave_82_97 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 17,32. Force:false
[Terrain] Building Added: cave at (17, 32) Size:1x1. Total: 3
GoblinManager: Cave registered at 17,32 
[GoblinManager] Clan clan_cave_17_32 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 77,3. Force:false
[Terrain] Building Added: cave at (77, 3) Size:1x1. Total: 4
GoblinManager: Cave registered at 77,3 
[GoblinManager] Clan clan_cave_77_3 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
[Terrain] addBuilding: cave at 44,110. Force:false
[Terrain] Building Added: cave at (44, 110) Size:1x1. Total: 5
GoblinManager: Cave registered at 44,110 
[GoblinManager] Clan clan_cave_44_110 ACTIVATED! Wave 1 in 30s. Target: [1mnull[22m
GoblinManager: Generated 5 goblin caves after 11 attempts.
GoblinManager: Force spawning Debug Goblin
Spawned initial fish.
FishManager Refactored: Initialized with Entity-based Fish.
Tower Geometry Initialized (Split Mode)
Tower Debug: Generated High-Res Tower Texture + Cap Material

[90mstdout[2m | src/tests/JobPathFailure.test.js[2m > [22m[2mJob Pathfinding Failure Handling[2m > [22m[2mshould abandon job if smartMove fails repeatedly
[22m[39m[Unit 1] Moving onto Rock at 1,0 H:10 (Speed Penalty)
[Defense Debug 1] shouldScan:false isBusy:true force:false PassedGoblins:None

 [31mç¬¶ï½¯[39m src/tests/JobPathFailure.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 4622[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should abandon job if smartMove fails repeatedly[39m[33m 4620[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
[2m   Start at [22m 17:31:05
[2m   Duration [22m 6.87s[2m (transform 1.86s, setup 179ms, import 2.60s, tests 11.03s, environment 2.61s)[22m

