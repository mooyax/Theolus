
 RUN  v4.0.15 C:/Users/mooya/develop/test

stdout | src/tests/GoblinSpawnVerification.test.js
[DEBUG] Building.ts loaded

stdout | src/tests/GoblinSpawnVerification.test.js
[DEBUG] Terrain.ts top-level load

stdout | src/tests/GoblinSpawnVerification.test.js
[DEBUG] Actor.ts loaded

stdout | src/tests/GoblinSpawnVerification.test.js
[DEBUG] Goblin.ts loaded

stdout | src/tests/GoblinSpawnVerification.test.js
[Import Debug] Raid: function, Combat: function, Wander: function

stdout | src/tests/GoblinSpawnVerification.test.js
[DEBUG] Game.ts top-level load

stdout | src/tests/GoblinSpawnVerification.test.js > Goblin Spawn Verification > should register caves present in terrain
[Game] Constructor called. Instance ID: 1 (Minimal: true)
[Game] Init Basic State
[Game] Init Queues
[Game] Init Time
[GoblinManager] 5蛟九・豢樒ｪ溘ｒ逕滓・荳ｭ...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.014099, 0.259474) -> Grid(2, 41) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.754626, 0.521017) -> Grid(120, 83) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.905235, 0.196016) -> Grid(144, 31) rngState=undefined
[GoblinManager] 豢樒ｪ溽函謌仙ｮ御ｺ・ 0/5 (隧ｦ陦悟屓謨ｰ: 5000)
[Terrain] Constructor. updatePopulation type: function
[GoblinManager] 5蛟九・豢樒ｪ溘ｒ逕滓・荳ｭ...
[GoblinManager] DETERMINISM: generateCaves start. rngState=0
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.517771, 0.359374) -> Grid(51, 35) rngState=0
[Entity 0] CONSTRUCTOR START: type=building at 51,35
[Entity 0] Calling registerEntity...
[Entity 0] registerEntity returned.
[Entity 0] Calling updatePosition...
[Entity 0] updatePosition returned.
GoblinManager: Cave registered at 51,35 
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.870420, 0.135791) -> Grid(87, 13) rngState=0
[Entity 1] CONSTRUCTOR START: type=building at 87,13
[Entity 1] Calling registerEntity...
[Entity 1] registerEntity returned.
[Entity 1] Calling updatePosition...
[Entity 1] updatePosition returned.
GoblinManager: Cave registered at 87,13 
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.790937, 0.233136) -> Grid(79, 23) rngState=0
[Entity 2] CONSTRUCTOR START: type=building at 79,23
[Entity 2] Calling registerEntity...
[Entity 2] registerEntity returned.
[Entity 2] Calling updatePosition...
[Entity 2] updatePosition returned.
GoblinManager: Cave registered at 79,23 
[Entity 3] CONSTRUCTOR START: type=building at 37,84
[Entity 3] Calling registerEntity...
[Entity 3] registerEntity returned.
[Entity 3] Calling updatePosition...
[Entity 3] updatePosition returned.
GoblinManager: Cave registered at 37,84 
[Entity 4] CONSTRUCTOR START: type=building at 83,45
[Entity 4] Calling registerEntity...
[Entity 4] registerEntity returned.
[Entity 4] Calling updatePosition...
[Entity 4] updatePosition returned.
GoblinManager: Cave registered at 83,45 
[GoblinManager] 豢樒ｪ溽函謌仙ｮ御ｺ・ 5/5 (隧ｦ陦悟屓謨ｰ: 5)
GoblinManager: Force spawning Debug Goblin

stdout | src/tests/GoblinSpawnVerification.test.js > Goblin Spawn Verification > should register caves present in terrain
[Entity 5] CONSTRUCTOR START: type=building at 10,10
[Entity 5] Calling registerEntity...
[Entity 5] registerEntity returned.
[Entity 5] Calling updatePosition...
[Entity 5] updatePosition returned.

stdout | src/tests/GoblinSpawnVerification.test.js > Goblin Spawn Verification > should spawn goblin when population reaches threshold
Disposing detached game instance
[Game] Dispose called for Game Instance.
[Terrain] Dispose called.

stdout | src/tests/GoblinSpawnVerification.test.js > Goblin Spawn Verification > should spawn goblin when population reaches threshold
[Game] Constructor called. Instance ID: 2 (Minimal: true)
[Game] Init Basic State
[Game] Init Queues
[Game] Init Time
[GoblinManager] 5蛟九・豢樒ｪ溘ｒ逕滓・荳ｭ...
[GoblinManager] DETERMINISM: generateCaves start. rngState=undefined
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.314504, 0.540688) -> Grid(50, 86) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.503382, 0.266192) -> Grid(80, 42) rngState=undefined
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.304179, 0.424573) -> Grid(48, 67) rngState=undefined
[GoblinManager] 豢樒ｪ溽函謌仙ｮ御ｺ・ 0/5 (隧ｦ陦悟屓謨ｰ: 5000)
[Terrain] Constructor. updatePopulation type: function
[GoblinManager] 5蛟九・豢樒ｪ溘ｒ逕滓・荳ｭ...
[GoblinManager] DETERMINISM: generateCaves start. rngState=0
[GoblinManager] DETERMINISM: Attempt 1: Rnd(0.000262, 0.468338) -> Grid(0, 46) rngState=0
[Entity 6] CONSTRUCTOR START: type=building at 0,46
[Entity 6] Calling registerEntity...
[Entity 6] registerEntity returned.
[Entity 6] Calling updatePosition...
[Entity 6] updatePosition returned.
GoblinManager: Cave registered at 0,46 
[GoblinManager] DETERMINISM: Attempt 2: Rnd(0.279246, 0.418964) -> Grid(27, 41) rngState=0
[Entity 7] CONSTRUCTOR START: type=building at 27,41
[Entity 7] Calling registerEntity...
[Entity 7] registerEntity returned.
[Entity 7] Calling updatePosition...
[Entity 7] updatePosition returned.
GoblinManager: Cave registered at 27,41 
[GoblinManager] DETERMINISM: Attempt 3: Rnd(0.871345, 0.676128) -> Grid(87, 67) rngState=0
[Entity 8] CONSTRUCTOR START: type=building at 87,67
[Entity 8] Calling registerEntity...
[Entity 8] registerEntity returned.
[Entity 8] Calling updatePosition...
[Entity 8] updatePosition returned.
GoblinManager: Cave registered at 87,67 
[Entity 9] CONSTRUCTOR START: type=building at 65,97
[Entity 9] Calling registerEntity...
[Entity 9] registerEntity returned.
[Entity 9] Calling updatePosition...
[Entity 9] updatePosition returned.
GoblinManager: Cave registered at 65,97 
[Entity 10] CONSTRUCTOR START: type=building at 46,79
[Entity 10] Calling registerEntity...
[Entity 10] registerEntity returned.
[Entity 10] Calling updatePosition...
[Entity 10] updatePosition returned.
GoblinManager: Cave registered at 46,79 
[GoblinManager] 豢樒ｪ溽函謌仙ｮ御ｺ・ 5/5 (隧ｦ陦悟屓謨ｰ: 5)
GoblinManager: Force spawning Debug Goblin

stdout | src/tests/GoblinSpawnVerification.test.js > Goblin Spawn Verification > should spawn goblin when population reaches threshold
[Entity 11] CONSTRUCTOR START: type=building at 20,20
[Entity 11] Calling registerEntity...
[Entity 11] registerEntity returned.
[Entity 11] Calling updatePosition...
[Entity 11] updatePosition returned.
[Entity 12] CONSTRUCTOR START: type=goblin at 18,21
[Entity 12] Calling registerEntity...
[Entity 12] registerEntity returned.
[Entity 12] Calling updatePosition...
[Entity 12] updatePosition returned.
[DIAG] Actor Created ID: 12
[DIAG] Actor smartMove type: function
[DIAG] Actor smartMove body snapshot: smartMove(tx, tz, time, depth = 0) {
    if (isNaN(tx) || isNaN(tz)) {
      console.error(`[Actor $
[DEBUG] Goblin born from cave! Total: 1, Remaining population: 0.0

 笨・src/tests/GoblinSpawnVerification.test.js (2 tests) 342ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:40:09
   Duration  1.54s (transform 472ms, setup 76ms, import 536ms, tests 342ms, environment 416ms)

