
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario: 5 Goblins vs 3 Workers (Close Match / Goblin Edge)
[22m[39m
[Scenario 1] 5 Goblins vs 3 Workers
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10
[UnitCore.js] Unit Created ID:1 Role:worker Pos:11,10 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:11,10
[UnitCore.js] Unit Created ID:2 Role:worker Pos:12,10 Special:false
[UnitCore.js] Unit Created ID:2 Role:worker Pos:12,10
Unit hit Goblin! Dmg: 12 GoblinHP: 18
Unit hit Goblin! Dmg: 12 GoblinHP: 6
Unit hit Goblin! Dmg: 12 GoblinHP: -6
Unit hit Goblin! Dmg: 12 GoblinHP: 18
Unit hit Goblin! Dmg: 12 GoblinHP: 6
Unit hit Goblin! Dmg: 12 GoblinHP: -6
Unit hit Goblin! Dmg: 12 GoblinHP: 18
Unit hit Goblin! Dmg: 12 GoblinHP: 6
Unit hit Goblin! Dmg: 12 GoblinHP: -6
Unit hit Goblin! Dmg: 12 GoblinHP: 18
Unit hit Goblin! Dmg: 12 GoblinHP: 6
Unit hit Goblin! Dmg: 12 GoblinHP: -6
Unit hit Goblin! Dmg: 12 GoblinHP: 18
Unit hit Goblin! Dmg: 12 GoblinHP: 6
Unit hit Goblin! Dmg: 12 GoblinHP: -6
Survivors -> Units: 3, Goblins: 0

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario: 3 Knights vs 10 Goblins (Knights Stomp)
[22m[39m
[Scenario 2] 3 Knights vs 10 Goblins
[UnitCore.js] Unit Created ID:3 Role:knight Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:3 Role:knight Pos:10,10
[UnitCore.js] Unit Created ID:4 Role:knight Pos:11,10 Special:false
[UnitCore.js] Unit Created ID:4 Role:knight Pos:11,10
[UnitCore.js] Unit Created ID:5 Role:knight Pos:12,10 Special:false
[UnitCore.js] Unit Created ID:5 Role:knight Pos:12,10
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Unit hit Goblin! Dmg: 300 GoblinHP: -270
Survivors -> Knights: 3, Goblins: 0

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario: 3 Goblins vs 1 House (House Defends)
[22m[39m
[Scenario 3] 3 Goblins vs 1 House
Goblin Raid: House population reduced.Rem: 9 
Goblin(normal) died.ID:15 
Goblin Raid: House population reduced.Rem: 8 
Goblin(normal) died.ID:16 
Goblin Raid: House population reduced.Rem: 7 
Goblin Raid: House population reduced.Rem: 6 
Goblin(normal) died.ID:17 
Survivors -> Goblins: 0, House Pop: 6

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario: 5 Goblins vs 1 House (House Destroyed)
[22m[39m
[Scenario 4] 5 Goblins vs 1 House (Pop 5)
Goblin Raid: House population reduced.Rem: 4 
Goblin Raid: House population reduced.Rem: 3 
Goblin Raid: House population reduced.Rem: 2 
Goblin Raid: House population reduced.Rem: 1 
Goblin Raid: House population reduced.Rem: 0 
Goblin destroyed Building house !
Goblin 19 destroyed house !
Goblin destroyed Building house !
Goblin 20 destroyed house !
Goblin destroyed Building house !
Goblin 21 destroyed house !
Goblin destroyed Building house !
Goblin 22 destroyed house !
Goblin destroyed Building house !
Goblin 18 destroyed house !
Survivors -> Goblins: 5, House Pop: 0

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario 5: King vs 1 Knight (Knight Wins)
[22m[39m
[Scenario 5] King vs 1 Knight
[UnitCore.js] Unit Created ID:6 Role:knight Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:6 Role:knight Pos:10,10
Unit hit Goblin! Dmg: 300 GoblinHP: 1204
Unit hit Goblin! Dmg: 300 GoblinHP: 904
Unit hit Goblin! Dmg: 300 GoblinHP: 604
Unit hit Goblin! Dmg: 300 GoblinHP: 304
Unit hit Goblin! Dmg: 300 GoblinHP: 4
Unit hit Goblin! Dmg: 300 GoblinHP: -296
[DEBUG Scen5] Knight Dead: undefined HP: 1012
[DEBUG Scen5] King Dead: true HP: -296

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario 6: King vs 20 Workers (Workers Swarm)
[22m[39m
[Scenario 6] King vs 20 Workers
[UnitCore.js] Unit Created ID:7 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:7 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:8 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:8 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:9 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:9 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:10 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:10 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:11 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:11 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:12 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:12 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:13 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:13 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:14 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:14 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:15 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:15 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:16 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:16 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:17 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:17 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:18 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:18 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:19 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:19 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:20 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:20 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:21 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:21 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:22 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:22 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:23 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:23 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:24 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:24 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:25 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:25 Role:worker Pos:12,12
[UnitCore.js] Unit Created ID:26 Role:worker Pos:12,12 Special:false
[UnitCore.js] Unit Created ID:26 Role:worker Pos:12,12
Unit hit Goblin! Dmg: 12 GoblinHP: 1555
Unit hit Goblin! Dmg: 12 GoblinHP: 1543
Unit hit Goblin! Dmg: 12 GoblinHP: 1531
Unit hit Goblin! Dmg: 12 GoblinHP: 1519
Unit hit Goblin! Dmg: 12 GoblinHP: 1507
Unit hit Goblin! Dmg: 12 GoblinHP: 1495
Unit hit Goblin! Dmg: 12 GoblinHP: 1483
Unit hit Goblin! Dmg: 12 GoblinHP: 1471
Unit hit Goblin! Dmg: 12 GoblinHP: 1459
Unit hit Goblin! Dmg: 12 GoblinHP: 1447
Unit hit Goblin! Dmg: 12 GoblinHP: 1435
Unit hit Goblin! Dmg: 12 GoblinHP: 1423
Unit hit Goblin! Dmg: 12 GoblinHP: 1411
Unit hit Goblin! Dmg: 12 GoblinHP: 1399
Unit hit Goblin! Dmg: 12 GoblinHP: 1387
Unit hit Goblin! Dmg: 12 GoblinHP: 1375
Unit hit Goblin! Dmg: 12 GoblinHP: 1363
Unit hit Goblin! Dmg: 12 GoblinHP: 1351
Unit hit Goblin! Dmg: 12 GoblinHP: 1339
Unit hit Goblin! Dmg: 12 GoblinHP: 1327
Unit hit Goblin! Dmg: 12 GoblinHP: 1315
Unit hit Goblin! Dmg: 12 GoblinHP: 1303
Unit hit Goblin! Dmg: 12 GoblinHP: 1291
Unit hit Goblin! Dmg: 12 GoblinHP: 1279
Unit hit Goblin! Dmg: 12 GoblinHP: 1267
Unit hit Goblin! Dmg: 12 GoblinHP: 1255
Unit hit Goblin! Dmg: 12 GoblinHP: 1243
Unit hit Goblin! Dmg: 12 GoblinHP: 1231
Unit hit Goblin! Dmg: 12 GoblinHP: 1219
Unit hit Goblin! Dmg: 12 GoblinHP: 1207
Unit hit Goblin! Dmg: 12 GoblinHP: 1195
Unit hit Goblin! Dmg: 12 GoblinHP: 1183
Unit hit Goblin! Dmg: 12 GoblinHP: 1171
Unit hit Goblin! Dmg: 12 GoblinHP: 1159
Unit hit Goblin! Dmg: 12 GoblinHP: 1147
Unit hit Goblin! Dmg: 12 GoblinHP: 1135
Unit hit Goblin! Dmg: 12 GoblinHP: 1123
Unit hit Goblin! Dmg: 12 GoblinHP: 1111
Unit hit Goblin! Dmg: 12 GoblinHP: 1099
Unit hit Goblin! Dmg: 12 GoblinHP: 1087
Unit hit Goblin! Dmg: 12 GoblinHP: 1075
Unit hit Goblin! Dmg: 12 GoblinHP: 1063
Unit hit Goblin! Dmg: 12 GoblinHP: 1051
Unit hit Goblin! Dmg: 12 GoblinHP: 1039
Unit hit Goblin! Dmg: 12 GoblinHP: 1027
Unit hit Goblin! Dmg: 12 GoblinHP: 1015
Unit hit Goblin! Dmg: 12 GoblinHP: 1003
Unit hit Goblin! Dmg: 12 GoblinHP: 991
Unit hit Goblin! Dmg: 12 GoblinHP: 979
Unit hit Goblin! Dmg: 12 GoblinHP: 967
Unit hit Goblin! Dmg: 12 GoblinHP: 955
Unit hit Goblin! Dmg: 12 GoblinHP: 943
Unit hit Goblin! Dmg: 12 GoblinHP: 931
Unit hit Goblin! Dmg: 12 GoblinHP: 919
Unit hit Goblin! Dmg: 12 GoblinHP: 907
Unit hit Goblin! Dmg: 12 GoblinHP: 895
Unit hit Goblin! Dmg: 12 GoblinHP: 883
Unit hit Goblin! Dmg: 12 GoblinHP: 871
Unit hit Goblin! Dmg: 12 GoblinHP: 859
Unit hit Goblin! Dmg: 12 GoblinHP: 847
Unit hit Goblin! Dmg: 12 GoblinHP: 835
Unit hit Goblin! Dmg: 12 GoblinHP: 823
Unit hit Goblin! Dmg: 12 GoblinHP: 811
Unit hit Goblin! Dmg: 12 GoblinHP: 799
Unit hit Goblin! Dmg: 12 GoblinHP: 787
Unit hit Goblin! Dmg: 12 GoblinHP: 775
Unit hit Goblin! Dmg: 12 GoblinHP: 763
Unit hit Goblin! Dmg: 12 GoblinHP: 751
Unit hit Goblin! Dmg: 12 GoblinHP: 739
Unit hit Goblin! Dmg: 12 GoblinHP: 727
Unit hit Goblin! Dmg: 12 GoblinHP: 715
Unit hit Goblin! Dmg: 12 GoblinHP: 703
Unit hit Goblin! Dmg: 12 GoblinHP: 691
Unit hit Goblin! Dmg: 12 GoblinHP: 679
Unit hit Goblin! Dmg: 12 GoblinHP: 667
Unit hit Goblin! Dmg: 12 GoblinHP: 655
Unit hit Goblin! Dmg: 12 GoblinHP: 643
Unit hit Goblin! Dmg: 12 GoblinHP: 631
Unit hit Goblin! Dmg: 12 GoblinHP: 619
Unit hit Goblin! Dmg: 12 GoblinHP: 607
Unit hit Goblin! Dmg: 12 GoblinHP: 595
Unit hit Goblin! Dmg: 12 GoblinHP: 583
Unit hit Goblin! Dmg: 12 GoblinHP: 571
Unit hit Goblin! Dmg: 12 GoblinHP: 559
Unit hit Goblin! Dmg: 12 GoblinHP: 547
Unit hit Goblin! Dmg: 12 GoblinHP: 535
Unit hit Goblin! Dmg: 12 GoblinHP: 523
Unit hit Goblin! Dmg: 12 GoblinHP: 511
Unit hit Goblin! Dmg: 12 GoblinHP: 499
Unit hit Goblin! Dmg: 12 GoblinHP: 487
Unit hit Goblin! Dmg: 12 GoblinHP: 475
Unit hit Goblin! Dmg: 12 GoblinHP: 463
Unit hit Goblin! Dmg: 12 GoblinHP: 451
Unit hit Goblin! Dmg: 12 GoblinHP: 439
Unit hit Goblin! Dmg: 12 GoblinHP: 427
Unit hit Goblin! Dmg: 12 GoblinHP: 415
Unit hit Goblin! Dmg: 12 GoblinHP: 403
Unit hit Goblin! Dmg: 12 GoblinHP: 391
Unit hit Goblin! Dmg: 12 GoblinHP: 379
Unit hit Goblin! Dmg: 12 GoblinHP: 367
Unit hit Goblin! Dmg: 12 GoblinHP: 355
Unit hit Goblin! Dmg: 12 GoblinHP: 343
Unit hit Goblin! Dmg: 12 GoblinHP: 331
Unit hit Goblin! Dmg: 12 GoblinHP: 319
Unit hit Goblin! Dmg: 12 GoblinHP: 307
Unit hit Goblin! Dmg: 12 GoblinHP: 295
Unit hit Goblin! Dmg: 12 GoblinHP: 283
Unit hit Goblin! Dmg: 12 GoblinHP: 271
Unit hit Goblin! Dmg: 12 GoblinHP: 259
Unit hit Goblin! Dmg: 12 GoblinHP: 247
Unit hit Goblin! Dmg: 12 GoblinHP: 235
Unit hit Goblin! Dmg: 12 GoblinHP: 223
Unit hit Goblin! Dmg: 12 GoblinHP: 211
Unit hit Goblin! Dmg: 12 GoblinHP: 199
Unit hit Goblin! Dmg: 12 GoblinHP: 187
Unit hit Goblin! Dmg: 12 GoblinHP: 175
Unit hit Goblin! Dmg: 12 GoblinHP: 163
Unit hit Goblin! Dmg: 12 GoblinHP: 151
Unit hit Goblin! Dmg: 12 GoblinHP: 139
Unit hit Goblin! Dmg: 12 GoblinHP: 127
Unit hit Goblin! Dmg: 12 GoblinHP: 115
Unit hit Goblin! Dmg: 12 GoblinHP: 103
Unit hit Goblin! Dmg: 12 GoblinHP: 91
Unit hit Goblin! Dmg: 12 GoblinHP: 79
Unit hit Goblin! Dmg: 12 GoblinHP: 67
Unit hit Goblin! Dmg: 12 GoblinHP: 55
Unit hit Goblin! Dmg: 12 GoblinHP: 43
Unit hit Goblin! Dmg: 12 GoblinHP: 31
Unit hit Goblin! Dmg: 12 GoblinHP: 19
Unit hit Goblin! Dmg: 12 GoblinHP: 7
Unit hit Goblin! Dmg: 12 GoblinHP: -5
Survivors -> Workers: 20, King: Dead

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario 7: Shaman vs 1 Worker (Shaman Snipes)
[22m[39m
[Scenario 7] Shaman vs 1 Worker
[UnitCore.js] Unit Created ID:27 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:27 Role:worker Pos:10,10
Goblin hit Unit! Dmg: 35 UnitHP: 15 
Unit hit Goblin! Dmg: 12 GoblinHP: 68
Unit hit Goblin! Dmg: 12 GoblinHP: 56
Unit 27 (worker) DIED. R.I.P.
Goblin hit Unit! Dmg: 35 UnitHP: 0 
Survivor: Shaman

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario 8: King vs House (King Smashes)
[22m[39m
[Scenario 8] King vs House
Goblin Raid: House population reduced.Rem: 2 
Goblin Raid: House population reduced.Rem: -6 
Goblin destroyed Building house !
Goblin 26 destroyed house !
King Status: HP 1630, House Destroyed

[90mstdout[2m | src/tests/GroupCombat.test.js[2m > [22m[2mGroup Combat Simulations[2m > [22m[2mScenario 9: 3 Goblins vs Building Class House (House Defends)
[22m[39m
[Scenario 9] 3 Goblins vs Building Class (Defense Check)
[Goblin.js] Dying due to low height: 0
Goblin(normal) died.ID:27 
[Building] house(55) took 8 dmg. Pop: 9. Retaliation: 36
[Goblin.js] Dying due to low height: 0
Goblin(normal) died.ID:28 
[Building] house(55) took 8 dmg. Pop: 8. Retaliation: 32
[Goblin.js] Dying due to low height: 0
Goblin(normal) died.ID:29 
[Building] house(55) took 8 dmg. Pop: 7. Retaliation: 28
[Scenario 9] Survivors -> Goblins: 0, House Pop: 7

 [31mç¬¶ï½¯[39m src/tests/GroupCombat.test.js [2m([22m[2m9 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 46[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario: 5 Goblins vs 3 Workers (Close Match / Goblin Edge)[32m 12[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario: 3 Knights vs 10 Goblins (Knights Stomp)[32m 3[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario: 3 Goblins vs 1 House (House Defends)[32m 2[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario: 5 Goblins vs 1 House (House Destroyed)[32m 3[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m Scenario 5: King vs 1 Knight (Knight Wins)[39m[32m 12[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario 6: King vs 20 Workers (Workers Swarm)[32m 4[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario 7: Shaman vs 1 Worker (Shaman Snipes)[32m 4[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario 8: King vs House (King Smashes)[32m 2[2mms[22m[39m
     [32mç¬¨ãƒ»[39m Scenario 9: 3 Goblins vs Building Class House (House Defends)[32m 3[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 1 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/GroupCombat.test.js > Group Combat Simulations > Scenario 5: King vs 1 Knight (Knight Wins)
AssertionError: expected undefined to be false // Object.is equality

- Expected: 
false

+ Received: 
undefined

 ç¬¶ï½¯ src/tests/GroupCombat.test.js:314:26
    312|         console.log(`[DEBUG Scen5] King Dead: ${k.isDead} HP: ${k.hp}`çª¶ï½¦
    313| 
    314|         expect(u.isDead).toBe(false);
       |                          ^
    315|         expect(k.isDead).toBe(true);
    316|         console.log(`Survivor: Knight (HP ${u.hp}) vs King (Dead)`);

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/1]ç«¡ï½¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m8 passed[39m[22m[90m (9)[39m
[2m   Start at [22m 23:14:39
[2m   Duration [22m 1.58s[2m (transform 493ms, setup 58ms, import 630ms, tests 46ms, environment 567ms)[22m

