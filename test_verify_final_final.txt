
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/mooya/develop/test[39m

[90mstdout[2m | src/tests/WorkerOscillationStale.test.js[2m > [22m[2mWorker Oscillation Debug[2m > [22m[2mshould clear isUnreachable flag when entering new job
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10

[90mstdout[2m | src/tests/WorkerOscillation.test.js[2m > [22m[2mWorker Oscillation Debug[2m > [22m[2mshould blacklist unreachable jobs and NOT pick them up immediately
[22m[39m[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:worker Pos:10,10

[90mstdout[2m | src/tests/KnightMobilization.test.js[2m > [22m[2mKnight Mobilization Debug[2m > [22m[2mshould mobilize to global hotspot in SAME region
[22m[39m[UnitCore.js] Unit Created ID:0 Role:knight Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:0 Role:knight Pos:10,10

[90mstdout[2m | src/tests/KnightMobilization.test.js[2m > [22m[2mKnight Mobilization Debug[2m > [22m[2mshould IGNORE global hotspot in DIFFERENT region if no proxy found
[22m[39m[UnitCore.js] Unit Created ID:1 Role:knight Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:1 Role:knight Pos:10,10

[90mstdout[2m | src/tests/KnightMobilization.test.js[2m > [22m[2mKnight Mobilization Debug[2m > [22m[2mshould USE PROXY for global hotspot in DIFFERENT region
[22m[39m[UnitCore.js] Unit Created ID:2 Role:knight Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:2 Role:knight Pos:10,10

 [32mç¬¨ãƒ»[39m src/tests/KnightMobilization.test.js [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
[90mstdout[2m | src/tests/WorkerOscillation.test.js[2m > [22m[2mWorker Oscillation Debug[2m > [22m[2mshould NOT oscillate (Ping Pong) between Job and Idle
[22m[39m[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10 Special:false
[UnitCore.js] Unit Created ID:1 Role:worker Pos:10,10

[90mstdout[2m | src/tests/WorkerOscillation.test.js[2m > [22m[2mWorker Oscillation Debug[2m > [22m[2mshould NOT oscillate (Ping Pong) between Job and Idle
[22m[39m[JobState 1] Request Unreachable (No Path). Releasing Job.

 [31mç¬¶ï½¯[39m src/tests/WorkerOscillation.test.js [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 22[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should blacklist unreachable jobs and NOT pick them up immediately[39m[32m 14[2mms[22m[39m
     [32mç¬¨ãƒ»[39m should NOT oscillate (Ping Pong) between Job and Idle[32m 6[2mms[22m[39m
 [31mç¬¶ï½¯[39m src/tests/WorkerOscillationStale.test.js [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 27[2mms[22m[39m
[31m     [31mï¾ƒãƒ»[31m should clear isUnreachable flag when entering new job[39m[32m 25[2mms[22m[39m

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ Failed Tests 2 ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯

 FAIL  src/tests/WorkerOscillation.test.js > Worker Oscillation Debug > should blacklist unreachable jobs and NOT pick them up immediately
AssertionError: expected 'JobState' not to be 'JobState' // Object.is equality
 ç¬¶ï½¯ src/tests/WorkerOscillation.test.js:105:37
    103| 
    104|         // Should release job and set blacklist
    105|         expect(unit.state.name).not.toBe('JobState'); // Should be Wançª¶ï½¦
       |                                     ^
    106|         expect(unit.targetRequest).toBeNull();
    107|         expect(unit.ignoredTargets.has(req.id)).toBe(true);

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[1/2]ç«¡ï½¯

 FAIL  src/tests/WorkerOscillationStale.test.js > Worker Oscillation Debug > should clear isUnreachable flag when entering new job
AssertionError: expected { id: 101, type: 'build', x: 50, çª¶ï½¦(3) } to be null

- Expected: 
null

+ Received: 
{
  "assignedTo": 1,
  "id": 101,
  "status": "assigned",
  "type": "build",
  "x": 50,
  "z": 50,
}

 ç¬¶ï½¯ src/tests/WorkerOscillationStale.test.js:88:36
     86|         // This confirms that the system naturally clears the flag, prçª¶ï½¦
     87|         expect(unit.isUnreachable).toBe(false);
     88|         expect(unit.targetRequest).toBeNull(); // Dropped
       |                                    ^
     89| 
     90|         // 2. Assign Job B (Reachable)

ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯ç«¡ï½¯[2/2]ç«¡ï½¯


[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (3)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[90m (6)[39m
[2m   Start at [22m 12:55:53
[2m   Duration [22m 1.31s[2m (transform 522ms, setup 253ms, import 774ms, tests 59ms, environment 1.90s)[22m

